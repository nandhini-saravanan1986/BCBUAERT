<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">

<!-- 
CREATED BY	: Rajalakshmi R
CREATED ON	: 24.06.2025
PURPOSE		: CBUAE_Treasury_Credit_Limit_Management_Data_Template
Tested by   : Rajalakshmi
-->

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- CSS -->
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/font-awesome/5.9.0/css/all.min.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/datatables/1.10.19/css/jquery.dataTables.min.css}">
	<link rel="stylesheet" th:href="@{/css/CustomButton.css}" />
	<link rel="icon" th:href="@{/favicon.ico}" type="image/x-icon" />

	<!-- JavaScript -->
	<!-- jQuery core (required first) -->


	<!-- âœ… Your manually placed jQuery validation
	<script th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>
	 <script th:src="/jquery/jquery.validate.min.js"></script>
	 -->

	<!-- jQuery (required first) -->
	<script th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>

	<!-- âœ… jQuery Validation -->
	<script src="/webjars/jquery-validation/1.19.0/jquery.validate.min.js"
		th:src="@{/webjars/jquery-validation/1.19.0/jquery.validate.min.js}"></script>

	<!-- Bootstrap + Others -->
	<script th:src="@{/webjars/popper.js/1.14.7/umd/popper.min.js}"></script>
	<script th:src="@{/webjars/bootstrap/4.3.1/js/bootstrap.min.js}"></script>
	<script th:src="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.js}"></script>
	<script th:src="@{/webjars/jquery-form/4.2.2/jquery.form.min.js}"></script>
	<script th:src="@{/webjars/datatables/1.10.19/js/jquery.dataTables.min.js}"></script>
	<script th:src="@{/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js}"></script>


<style>
body {
	font-family: 'Segoe UI', Arial, sans-serif;
	font-size: 14px;
}

.table .thead-light th {
	color: #495057;
	background-color: #e9ecef;
	border-color: #dee2e6;
	font-family: sans-serif;
}

.modal-backdrop {
	position: fixed;
	top: 0;
	left: 0;
	width: 120vw !important; /* ðŸ‘ˆ a bit wider than viewport */
	height: 120vh !important; /* ðŸ‘ˆ a bit taller than viewport */
	background-color: #000; /* ðŸ‘ˆ solid black base */
	opacity: 0.7 !important; /* ðŸ‘ˆ slightly darker overlay */
	z-index: 1062;
	/* ðŸ‘ˆ ensures it sits below modal but above everything else */
}

/* === ROLE PAGE CUSTOM HEADER === */
.role-page-header {
	background-color: #ffffff;
	padding: 15px 20px;
}

.role-page-title h4 {
	color: #003366;
	font-family: "Segoe UI", Arial, sans-serif;
	font-size: 20px;
	font-weight: 700;
	margin: 0;
}

.role-page-underline {
	width: 158px;
	height: 3px;
	background-color: #0073e6;
	border-radius: 2px;
	margin-top: 6px;
	box-shadow: 0 4px 12px rgba(0, 115, 230, 0.6); /* soft glow below */
}

/* Add Button Styling */
/* Base Button Style */
.role-add-btn {
	background: #ffffff; /* default white background */
	color: #005fa3; /* blue text */
	border: 2px solid #005fa3;
	border-radius: 25px;
	padding: 8px 18px;
	font-size: 13px;
	font-weight: 600;
	cursor: pointer;
	box-shadow: 0 2px 5px rgba(0, 64, 128, 0.1);
	transition: all 0.3s ease;
}

/* Hover effect */
.role-add-btn:hover {
	background: linear-gradient(135deg, #005fa3, #007bff);
	color: #fff;
	transform: translateY(-2px);
	box-shadow: 0 0 10px rgba(0, 102, 204, 0.4);
}

/* Active (clicked or selected) button */
.role-add-btn.active {
	background: linear-gradient(135deg, #005fa3, #007bff);
	color: #fff;
	border: none;
	box-shadow: 0 2px 8px rgba(0, 64, 128, 0.3);
	transform: translateY(-1px);
}

/* Optional: icon spacing */
.role-add-btn i {
	margin-right: 5px;
}
</style>

<style>
:root {
	--bob-orange: #0073e6;
	--bob-blue: #004080;
	--overlay-bg: rgba(255, 255, 255, 0.9);
}

/* Full-screen overlay */
.bob-loader {
	position: fixed;
	inset: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	background: rgba(226, 232, 237, 0.6); /* lighter background */
	backdrop-filter: blur(8px); /* âœ… background blur */
	-webkit-backdrop-filter: blur(8px); /* Safari support */
	z-index: 9999;
	transition: opacity 0.25s ease, visibility 0.25s;
	opacity: 1;
	visibility: visible;
}

/* Hide when not active */
.bob-loader[aria-hidden="true"] {
	opacity: 0;
	visibility: hidden;
	pointer-events: none;
}

/* Loader card */
.bob-loader-card {
	display: flex;
	flex-direction: column;
	align-items: center;
}

/* Static logo */
.logo-imgs {
	height: 90px;
	object-fit: contain;
	display: block;
}

/* Flowing bar below logo */
.flow-bar {
	position: relative;
	width: 200px; /* âœ… increased width */
	height: 8px; /* slightly thicker for better visibility */
	background: #f1f1f1;
	border-radius: 4px;
	overflow: hidden;
	margin-top: 10px;
}

.flow-line {
	position: absolute;
	left: -40%;
	top: 0;
	width: 40%;
	height: 100%;
	background: linear-gradient(90deg, var(--bob-orange), var(--bob-blue));
	border-radius: 4px;
	animation: flowMove 1.2s linear infinite;
}

/* Animation for flowing line */
@keyframes flowMove { 0% {
	left: -40%;
}
100%
{
left


:


100%;


}
}
</style>

<script>
							function goBack() {
								document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
							    window.history.back();
							}

							function goForward() {
								document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
							    window.history.forward();
							}

							// Detect mouse near screen edges
							document.addEventListener('mousemove', function(e) {
							    const backBtn = document.getElementById('floatingBackBtn');
							    const forwardBtn = document.getElementById('floatingForwardBtn');
							    const screenWidth = window.innerWidth;

							    // Left edge (back)
							    if (e.clientX < 50) {
							        backBtn.classList.add('show');
							    } else {
							        backBtn.classList.remove('show');
							    }

							    // Right edge (forward)
							    if (screenWidth - e.clientX < 50) {
							        forwardBtn.classList.add('show');
							    } else {
							        forwardBtn.classList.remove('show');
							    }
							});
							</script>

<style>
/* Shared styles for both buttons */
#floatingBackBtn, #floatingForwardBtn {
	position: fixed;
	top: 50%;
	background-color: #0073e6;
	border: none;
	color: white;
	font-size: 20px;
	border-radius: 50%;
	width: 45px;
	height: 45px;
	display: flex;
	align-items: center;
	justify-content: center;
	opacity: 0;
	pointer-events: none;
	transition: all 0.4s ease;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
	z-index: 999;
}

/* Back button */
#floatingBackBtn {
	left: -50px; /* hidden off-screen */
}

/* Forward button */
#floatingForwardBtn {
	right: -50px; /* hidden off-screen */
}

/* Show when near edge */
#floatingBackBtn.show {
	left: 20px;
	opacity: 1;
	pointer-events: auto;
}

#floatingForwardBtn.show {
	right: 20px;
	opacity: 1;
	pointer-events: auto;
}

/* Hover animation */
#floatingBackBtn:hover, #floatingForwardBtn:hover {
	background-color: #005bb5;
	transform: scale(1.1);
}
</style>


	<style>
		.btns {
			float: right;
			margin: 5px;
		}

		.col-sm-5 {
			padding-bottom: 15px;
		}

		.list-body {
			padding: 0px;
		}

		.error {
			color: red;
			padding-left: 10px;
		}

		.formline {
			padding-bottom: 15px;
		}

		.btn-primary {
			background-color: #E77400;
			border-color: #0c0c0c;
		}


		.btn-primary:not(:disabled):not(.disabled).active,
		.btn-primary:not(:disabled):not(.disabled):active,
		.show>.btn-primary.dropdown-toggle {
			color: #fff;
			background-color: #cc0000;
			/* corrected to a valid red */
			border-color: #161617;
		}


		#finusertb {
			width: 460px;
		}

		.dataTables_wrapper .dataTables_paginate .paginate_button {
			padding: 0px;
		}
	</style>




	<style>
		.card {
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
			border-radius: 8px;
		}

		.card-header h5 {
			font-size: 22px;
			color: #fff;
			font-weight: 600;
		}

		.nav-tabs .nav-link {
			font-weight: 500;
			border: 1px solid #dee2e6;
			border-bottom: none;
			border-radius: 4px 4px 0 0;
			background-color: #f1f1f1;
			margin-right: 5px;
		}

		.nav-tabs .nav-link.active {
			background-color: #ffffff;
			border-color: #dee2e6 #dee2e6 #ffffff;
		}

		.table-responsive {
			border: 1px solid #dee2e6;
			border-radius: 4px;
		}

		.table-hover tbody tr:hover {
			background-color: #f3f6f9;
		}

		thead th {
			position: sticky;
			top: 0;
			background-color: #e9ecf0;
			z-index: 1;
		}

		.card-footer {
			padding: 10px;
			border-top: 1px solid #ccc;
		}

		.btn-xs {
			padding: 4px 12px;
			font-size: 14px;
			border-radius: 4px;
		}

/* 		#usertable th,
		#usertable td {
			vertical-align: middle;
			text-align: left;
			font-size: 17px;
			font-family: Verdana, sans-serif;
		} */

		.fa-edit:hover {
			color: #28a745;
			transform: scale(1.1);
		}



		td {
			border: 1px solid rgb(0, 164, 166);
			overflow: hidden;
			white-space: nowrap;
			text-overflow: ellipsis;
		}
	</style>


	<style>
		.form-group {
			position: relative;
			margin-bottom: 1.5rem;
		}

		.form-control {
			width: 100%;
			border: 2px solid #ccc;
			border-radius: 8px;
			font-size: 1rem;
			outline: none;
			background: transparent;
			transition: border-color 0.3s ease, padding-top 0.3s ease;
		}

		.error {
			color: red;
			padding-top: 15px;
		}



		.form-control:focus {
			border-color: #007bff;
		}

		.form-legend {
			position: absolute;
			top: 50%;
			left: 15px;
			transform: translateY(-50%);
			font-size: 1rem;
			color: #aaa;
			background: white;
			padding: 0 5px;
			pointer-events: none;
			transition: 0.3s ease;
		}

		/* When input or select is focused or has a value, move the label up */
		.form-control:focus~.form-legend,
		.form-control:not(:placeholder-shown)~.form-legend {
			top: -8px;
			font-size: 1rem;
			color: #007bff;
		}

		/* Hover effect when the input/select is focused */
		.form-control:focus:hover~.form-legend {
			color: #0056b3;
			/* Darker shade of blue on hover */
		}

		/* Ensure the label returns to the normal color after focus or hover is removed */
		.form-control:not(:focus)~.form-legend {
			color: #aaa;
			/* Normal label color */
		}
	</style>

	<style>
		/* Red border for invalid inputs */
		input.error,
		select.error {
			border: 2px solid red !important;
		}

		/* Error message style */
		label.error {
			color: red;
			font-size: 0.85em;
			margin-top: 5px;
			display: block;
		}
	</style>
	<script>
		$(document).ready(function () {
			$("#nostroForm").validate({
				errorClass: "error", // use 'error' class for styling
				errorElement: "label", // wrap error messages in <label>

				// Place the error after the input field
				errorPlacement: function (error, element) {
					if (element.parent('.form-group').length) {
						error.insertAfter(element); // default
					} else {
						error.insertAfter(element);
					}
				},

				// Highlight and unhighlight fields
				highlight: function (element) {
					$(element).addClass("error");
				},
				unhighlight: function (element) {
					$(element).removeClass("error");
				},

				// On successful validation, run this
				submitHandler: function (form) {
					submitForm(); // your custom submit function
				}
			});
		});
	</script>

	<script>

		function submitForm() {
			document.getElementById("bob-loader").setAttribute("aria-hidden", "false");

			const reportName = 'CBUAE_Treasury_Credit_Limit_Management_Data_Template';
			const submitUrl = './createDataControl?report_name=' + encodeURIComponent(reportName);
			const formData = $("#nostroForm").serialize();

			$.ajax({
				url: submitUrl,
				type: "POST",
				data: formData,
				success: function (response) {
					document.getElementById("bob-loader").setAttribute("aria-hidden", "true");  

					$("#alertmsg1").text(response);
					$("#alert1").modal("toggle");
					//location.href = 'Nostro_Account_Bal';
				},
				error: function (xhr, status, error) {
					document.getElementById("bob-loader").setAttribute("aria-hidden", "true");  

					console.error("Error:", error);
					alert("Error occurred: " + error);
				}
			});
		}


	</script>

	<script th:inline="javascript">


		function home() {
			document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
			location.href = 'Dashboard'
		}

		function back() {
			document.getElementById("bob-loader").setAttribute("aria-hidden", "false");

			window.history.back();
		}

		function list() {
			document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
			location.href = 'Liquidity_Risk_Data?formmode=list';
		}

		function nostro() {
			document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
			location.href = 'Liquidity_Risk_Data';
		}
		$(document).ready(function () {
			// On modal close, redirect to your controller method path
			$('#alert').on('hidden.bs.modal', function () {
				window.location.href = './Liquidity_Risk_Data';
			});
		});

		function updateform(event) {
			event.preventDefault();
			document.getElementById("bob-loader").setAttribute("aria-hidden", "false");

			$.ajax({
				url: './updateLiquidityRiskData',
				type: 'POST',
				data: $('#LiquidityData').serialize(), // Ensure this ID matches the form
				success: function (response) {
					document.getElementById("bob-loader").setAttribute("aria-hidden", "true");  
					$("#alertmsg").text(response);
					$("#alert").modal("toggle");
				},
				error: function (xhr, status, error) {
					console.error("Error in modify:", error);
					document.getElementById("bob-loader").setAttribute("aria-hidden", "true");  
					alert("Failed to modify. Please try again.");
				}
			});
		}


	</script>

</head>


<script>
	function navigateToTab(tabId) {
		document.getElementById("bob-loader").setAttribute("aria-hidden", "false");

		if (tabId === 'data') {
			window.location.href = 'Liquidity_Risk_Data?formmode=list';
			//document.getElementById("bob-loader").setAttribute("aria-hidden", "true");  

		} else if (tabId === 'datacontrols') {
			window.location.href = 'Liquidity_Risk_Data?formmode=add';
			//$("#loader").modal("hide");
		}
	}

	function handleClick(tabId) {
		// Remove active class from all buttons
		document.querySelectorAll('.role-add-btn').forEach(btn => btn.classList.remove('active'));
		document.getElementById(tabId + '-btn').classList.add('active');

		// Hide all panes
		document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('show', 'active'));
		document.getElementById(tabId).classList.add('show', 'active');
	}

	// On page load, detect formmode and show corresponding tab
	window.addEventListener('DOMContentLoaded', function () {
		const params = new URLSearchParams(window.location.search);
		const formmode = params.get('formmode');

		if (formmode === 'list') {
			handleClick('data');
		} else {
			handleClick('datacontrols'); // default or formmode=add
		}
	});
</script>




<script>
	function download() {
		// 1. Show the loader modal
		document.getElementById("bob-loader").setAttribute("aria-hidden", "false");

		$.ajax({
			url: './downloadLiquidityRiskData',
			type: 'GET',
			xhrFields: {
				responseType: 'blob' // Important: To handle binary file (Excel)
			},
			success: function (data, status, xhr) {
				document.getElementById("bob-loader").setAttribute("aria-hidden", "true");  

				// Get filename from Content-Disposition header if available
				let filename = "CBUAE_Liquidity Risk_Data_Template.xls";
				const disposition = xhr.getResponseHeader('Content-Disposition');
				if (disposition && disposition.indexOf('filename=') !== -1) {
					const filenameMatch = disposition.match(/filename="?(.+)"?/);
					if (filenameMatch.length > 1) {
						filename = filenameMatch[1];
					}
				}

				if (data.size > 100) {
					const blob = new Blob([data], {type: 'application/vnd.ms-excel'});
					const url = window.URL.createObjectURL(blob);

					const a = document.createElement('a');
					a.href = url;
					a.download = filename;
					document.body.appendChild(a);
					a.click();

					window.URL.revokeObjectURL(url);
					document.body.removeChild(a);

					$('#alertmsg').text(filename + ' has been downloaded successfully.');
				} else {
					$('#alertmsg').text('No data available to download.');
				}

				$('#alert').modal('show');
			},
			error: function (jqXHR, textStatus, errorThrown) {
				document.getElementById("bob-loader").setAttribute("aria-hidden", "true");  
				console.error("Download failed:", textStatus, errorThrown);
				$('#alertmsg').text('An error occurred while downloading CBUAE_Liquidity Risk_Data_Template.xls.');
				$('#alert').modal('show');
			}
		});
	}
</script>

<title>RiskInsights</title>

<body>
	<div class="container-fluid" style="padding-left:0px; padding-right:0px;">
		<!-- <div class="row"> -->

			<div th:insert="XBRLHeaderMenu :: header"></div>

			<div class="role-page-header d-flex justify-content-between align-items-center" th:if="${formmode == 'list' or formmode == 'add' or formmode =='null' }">
				<div class="float-left role-page-title">
					<h4>LIQUIDITY RISK DATA</h4>
				</div>
				<!-- Tabs -->
								<div class="role-page-header d-flex justify-content-between align-items-center">
									<div class="float-left">
									<button class="role-btn" id="datacontrols-btn" onclick="navigateToTab('datacontrols')">Data
										Controls</button>
									<button class="role-btn" id="template-btn" onclick="handleClick('template')">Template
										Instructions</button>
									<button class="role-btn" id="data-btn" onclick="navigateToTab('data')">Data</button>
									</div>
									<div class="float-right" >
										<button th:if="${formmode} =='list'" type="button" class="role-btn" onclick="download();">
											<i class="fa fa-download"></i> Download
										</button>



									</div>
								</div>

			</div>
			<!-- -------------------User List Starts----------------------------------------------------- -->
			<div style="padding-right: 10px;padding-left: 20px;"
				th:if="${formmode == 'list' or formmode == 'add' or formmode =='null' }">


				<div class="tab-content" id="myTabContent" style="margin-top: 15px;"
					th:if="${formmode == null or formmode == 'add'}">
					<div class="tab-pane fade show active" id="datacontrols" role="tabpanel">

						<div class="row">
							<div class="col-sm-12 finuserapply">
								<form id="nostroForm" method="post" autocomplete="off">
									<div class="card-body">


										<input autocomplete="false" name="hidden" type="text" style="display: none;">
										<div class="form-group" style="border:none">
											<div class="row formline">
												<div class="col-sm-1"></div>
												<div class="form-group col-md-2">
													<select id="submittingInstitution" name="submittingInstitution"
														class="form-control" required>
														<option value="">-- Select Institution --</option>
														<option value="Bank of Baroda">Bank of Baroda</option>
													</select>
													<label for="submittingInstitution" class="form-legend">Submitting
														Institution</label>
												</div>


												<div class="col-sm-1"></div>

												<div class="form-group col-md-2">
													<input type="date" id="portfolioDate" name="portfolioDate"
														class="form-control" placeholder=" " required />
													<label for="portfolioDate" class="form-legend">Portfolio
														date</label>
												</div>
											</div>

											<!-- Contact Employee 1 Name / Title -->
											<!-- Contact Employee 1 Group -->
											<div class="form-group"
												style="border: 1px solid #e0e0e0; padding: 1px; margin-bottom: 6px; border-radius: 5px;">
												<div class="row formline">
													<div class="col-sm-12">
														<label style="font-weight: bold; color: #0D0D0C;">Contact
															Details(Employee 1)</label>
													</div>
												</div>
												<div class="row formline">
													<div class="col-sm-2"></div>
													<div class="form-group col-md-3">
														<input type="text" id="contactEmployee1Name1"
															name="contactEmployee1Name1" class="form-control"
															placeholder=" " required />
														<label for="contactEmployee1Name1"
															class="form-legend">Name</label>
													</div>


													<div class="form-group col-md-3">
														<input type="text" id="contactEmployee1Title1"
															name="contactEmployee1Title1" class="form-control"
															placeholder=" " required />
														<label for="contactEmployee1Title1"
															class="form-legend">Title</label>
													</div>



													<div class="form-group col-md-3">
														<input type="email" id="contactEmployee1Email1"
															name="contactEmployee1Email1" class="form-control"
															placeholder=" " required />
														<label for="contactEmployee1Email1"
															class="form-legend">Email</label>
													</div>
													<div class="col-sm-3">
													</div>

												</div>
											</div>
											<div class="form-group"
												style="border: 1px solid #e0e0e0; padding: 1px; margin-bottom: 6px; border-radius: 5px;">
												<div class="row formline">
													<div class="col-sm-12">
														<label style="font-weight: bold; color: #0D0D0C;">Contact
															Details(Employee 2)</label>
													</div>
												</div>
												<div class="row formline">
													<div class="col-sm-2"></div>
													<div class="form-group col-md-3">
														<input type="text" id="contactEmployee2Name2"
															name="contactEmployee2Name2" class="form-control"
															placeholder=" " required />
														<label for="contactEmployee2Name2"
															class="form-legend">Name</label>
													</div>


													<div class="form-group col-md-3">
														<input type="text" id="contactEmployee2Title2"
															name="contactEmployee2Title2" class="form-control"
															placeholder=" " required />
														<label for="contactEmployee2Title2"
															class="form-legend">Title</label>
													</div>



													<div class="form-group col-md-3">
														<input type="email" id="contactEmployee2Email2"
															name="contactEmployee2Email2" class="form-control"
															placeholder=" " required />
														<label for="contactEmployee2Email2"
															class="form-legend">Email</label>
													</div>
													<div class="col-sm-3">
													</div>

												</div>
												<!-- Contact Employee 2 Group -->
											</div>
											<div class="form-group"
												style="border: 1px solid #e0e0e0; padding: 1px; margin-bottom: 6px; border-radius: 5px;">
												<div class="row formline">
													<div class="col-sm-12">
														<label style="font-weight: bold; color: #0D0D0C;">Sign
															Off</label>
													</div>
												</div>

												<!-- Sign-off CRO Name / Email -->
												<div class="row formline">
													<div class="col-sm-2"></div>
													<div class="form-group col-md-3">
														<input type="text" id="signOffCroName" name="signOffCroName"
															class="form-control" placeholder=" " required />
														<label for="signOffCroName" class="form-legend">CRO Name</label>
													</div>
													<div class="form-group col-md-3">
														<input type="email" id="signOffCroEmail" name="signOffCroEmail"
															class="form-control" placeholder=" " required />
														<label for="signOffCroEmail" class="form-legend">CRO
															Email</label>
													</div>
													<div class="form-group col-md-3">
															<input type="text" id="signOffCfoName" name="signOffCfoName"
															class="form-control" placeholder=" " required />
														    <label for="signOffCfoName" class="form-legend">CFO Name</label>
														</div>
												</div>

												<!-- Sign-off CFO Name / Email -->
											
												<!-- Sign-off Head of Treasury Name / Email -->
												<div class="row formline">
													<div class="col-sm-2"></div>
													<div class="form-group col-md-3">
															<input type="email" id="signOffCfoEmail" name="signOffCfoEmail"
																class="form-control" placeholder=" " required />
																<label for="signOffCfoEmail" class="form-legend">CFO
																Email</label>
															</div>
													<div class="form-group col-md-3">
														<input type="text" id="signOffHeadOfTreasuryName"
															name="signOffHeadOfTreasuryName" class="form-control"
															placeholder=" " required />
														<label for="signOffHeadOfTreasuryName" class="form-legend">Head
															of Treasury Name</label>
													</div>

													<div class="form-group col-md-3">
														<input type="email" id="signOffHeadOfTreasuryEmail"
															name="signOffHeadOfTreasuryEmail" class="form-control"
															placeholder=" " required />
														<label for="signOffHeadOfTreasuryEmail" class="form-legend">Head
															of Treasury Email</label>
													</div>
												</div>
											</div>

										</div>


								</form>
							
						<div class="card-footer text-center" style="padding-bottom: 18px;" >
							<!-- <button type="button" class="custom-tab-btn" onclick="home();">
								<i class="fa fa-home"></i> Home
							</button> -->


							<!--<button th:if="${formmode == 'null' or formmode == 'add'}"  type="button" class="custom-tab-btn"
                  onclick="submitForm()">Save</button>-->

							<button th:if="${formmode == null or formmode == 'add'}" type="button"
								class="role-btn" onclick="submitForm()">Save</button>



							<!-- <button type="button" class="custom-tab-btn" onclick="back();">
								<i class="fa fa-arrow-left"></i> Back
							</button> -->
</div>
						</div>
						</div>
					</div>
				</div>

				<!-- --------------------------------------DATA CONTROL ENDS--------------------------------------------- -->

				<!-- --------------------------------------TEMPLATE STARTS--------------------------------------------- -->

				<div class="tab-pane fade" id="template" role="tabpanel"
					th:if="${formmode == null or formmode == 'add'}">
					<p>Templates tabs</p>

					<div class="card-footer text-center"
						style="background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); padding: 10px; border-top: 2px solid #ccc;">
						<!-- <button type="button" class="custom-tab-btn" onclick="home();">
							<i class="fa fa-home"></i> Home
						</button> -->

						<button type="button" class="role-btn" onclick="submitForm()">
							Save
						</button>

						<!-- <button type="button" class="custom-tab-btn" onclick="back();">
							<i class="fa fa-arrow-left"></i> Back
						</button> -->
					</div>
				</div>
				<!----------------------------------------TEMPLATE ENDS--------------------------------------------- -->
				<!-- -----------------------------------DATA LIST STARTS -------------------------------------------- -->
				<div class="tab-pane fade" id="data" role="tabpanel">
					<div class="table-responsive" style="max-height: 400px; overflow: auto; border:none;">
						<table id="usertable" class="table table-bordered table-striped table-hover"
							style="min-width: 2000px; ">

							<thead class="thead-light">

								<tr>
									<th style="text-align: center;width: 100px;">Action</th>

									<!-- Bank Info -->
									<th>Data Date</th>
									<th>Bank Name</th>
									<th>Head Office/Subsidiary</th>
									<th>Bank Symbol</th>
									<th>Conventional/Islamic</th>
									<th>Local/Foreign</th>
									<th>CBUAE Tiering</th>
									

									<!-- GL Info -->
									<th>GL Level 1</th>
									<th>GL Level 2</th>
									<th>GL Level 3</th>

									<!-- Instrument Info -->
									<th>Option Type</th>
									<th>Rate Type</th>
									<th>Reference Rate</th>
									<th>Outstanding Balance</th>

									<!-- Maturity Buckets -->
									<th>Overnight</th>
									<th>1M</th>
									<th>1-3M</th>
									<th>3-6M</th>
									<th>6-9M</th>
									<th>9M-1Y</th>
									<th>1Y-1.5Y</th>
									<th>1.5Y-2Y</th>
									<th>2Y-3Y</th>
									<th>3Y-4Y</th>
									<th>4Y-5Y</th>
									<th>5Y-6Y</th>
									<th>6Y-7Y</th>
									<th>7Y-8Y</th>
									<th>8Y-9Y</th>
									<th>9Y-10Y</th>
									<th>10Y-15Y</th>
									<th>15Y-20Y</th>
									<th>20Y Above</th>
									<th>Non-Maturing</th>
								</tr>
							</thead>

							<tbody >
								<tr th:each="data : ${liquidityList}">
									<!-- Edit Icon -->


									<td style="text-align: center;min-width: 100px;">
										<a th:href="@{'/Liquidity_Risk_Data?formmode=edit&slno=' + ${data.slno}}">
											<i class="fa fa-edit" style="color: #ff7f27;"></i>
										</a>
									</td>

									<!-- Bank Info -->
											<td th:text="${#dates.format(data.dataDate, 'dd-MM-yyyy')}"></td>
											<td th:text="${data.bankName}"></td>
											<td th:text="${data.headOfficeSubsidiary}"></td>
											<td th:text="${data.bankSymbol}"></td>
											<td th:text="${data.conventionalIslamic}"></td>
											<td th:text="${data.localForeign}"></td>
											<td th:text="${data.cbuaeTiering}"></td>

											<!-- GL Info -->
											<td th:text="${data.glLevel1}"></td>
											<td th:text="${data.glLevel2}"></td>
											<td th:text="${data.glLevel3}"></td>

											<!-- Instrument Info -->
											<td th:text="${data.optionType}"></td>
											<td th:text="${data.rateType}"></td>
											<td th:text="${data.instrumentCurrency}"></td>

											<!-- Maturity Buckets with decimal formatting -->
											<td th:text="${#numbers.formatDecimal(data.outstandingBalance, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.overnight, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.onTo1m, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.oneMTo3m, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.threeMTo6m, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.sixMTo9m, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.nineMTo1y, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.oneYTo1_5y, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.one5yTo2y, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.twoYTo3y, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.threeYTo4y, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.fourYTo5y, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.fiveYTo6y, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.sixYTo7y, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.sevenYTo8y, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.eightYTo9y, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.nineYTo10y, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.tenYTo15y, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.fifteenYTo20y, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.twentyYAbove, 1, 'COMMA', 2, 'POINT')}"></td>
											<td th:text="${#numbers.formatDecimal(data.nonMaturing, 1, 'COMMA', 2, 'POINT')}"></td>
										</tr>
							</tbody>
						</table>
					</div>


					<div class="card-footer text-center"
						style="background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); padding: 10px; border-top: 2px solid #ccc;">
						<!-- <button type="button" class="custom-tab-btn" onclick="home();">
							<i class="fa fa-home"></i> Home
						</button> -->


						<button th:if="${formmode == 'null' or formmode == 'add'}" type="button" class="role-btn"
							onclick="submitForm()">Save</button>


						<!-- <button type="button" class="custom-tab-btn" onclick="back();">
							<i class="fa fa-arrow-left"></i> Back
						</button> -->
					</div>
				</div>
			</div>
			<!-- ---------------- edit starts------------------------------------------------------------ -->
			<div th:if="${formmode} == 'edit'"  class="liquid-edit-page" style="align-items:center">
				<form th:action="@{/updateLiquidityRiskData}" th:object="${liquidityData}" method="post"
					id="LiquidityData">

					<div class="card" style="margin: 0 15px;">
						<div class="role-page-header d-flex justify-content-between align-items-center" >
							<div class="role-page-title">
							<h4> 
								LIQUIDITY RISK DATA - EDIT
							</h4>
						</div>
</div>
						<div class="card-body" style="max-height: 500px; overflow-y: auto;">
							<input type="hidden" th:field="*{slno}" />

							<!-- Bank Info -->
							<div class="form-group row">
								<label class="col-sm-2 col-form-label">Data Date</label>
								<div class="col-sm-4"><input type="date" class="form-control" th:field="*{dataDate}" required readonly/>
								</div>

								<label class="col-sm-2 col-form-label">Bank Name</label>
								<div class="col-sm-4">
									<select class="form-control" th:field="*{bankName}"
										onchange="handleBankChange(this)">
										<option value="">-- Select Bank --</option>
										<option th:each="bank : ${bankList}" th:value="${bank.bankName}"
											th:text="${bank.bankName}"></option>
									</select>
								</div>
							</div>

							
							
							<div class="form-group row">
												<label class="col-sm-2 col-form-label">Head Office/Subsidiary</label>
												<div class="col-sm-4">
													<select class="form-control" th:field="*{headOfficeSubsidiary}">
											        <option value="" disabled selected>-- Select --</option>
												    <option value="Assets">Head Office</option>
											        <option value="Liabilities">Subsidiary</option>													
												    </select>
												</div>
												<label class="col-sm-2 col-form-label">Bank Symbol</label>
												<div class="col-sm-4">
													<input type="text" class="form-control" th:field="*{bankSymbol}" readonly />
												</div>
											</div>

											<div class="form-group row">
												<label class="col-sm-2 col-form-label">Conventional/Islamic</label>
												<div class="col-sm-4">
													<input type="text" class="form-control" th:field="*{conventionalIslamic}" readonly />
												</div>
												<label class="col-sm-2 col-form-label">Local/Foreign</label>
												<div class="col-sm-4">
													<input type="text" class="form-control" th:field="*{localForeign}" readonly />
												</div>
											</div>

											<div class="form-group row">
												<label class="col-sm-2 col-form-label">CBUAE Tiering</label>
												<div class="col-sm-4">
													<input type="text" class="form-control" th:field="*{cbuaeTiering}" readonly />
												</div>
												<label class="col-sm-2 col-form-label">GL Level 1</label>
												<div class="col-sm-4">
													
													<select class="form-control" th:field="*{glLevel1}">
													        <option value="" disabled selected>-- Select --</option>
													        <option value="Assets">Assets</option>
													        <option value="Liabilities">Liabilities</option>
															<option value="Equity">Equity</option>
													     <option value="Off_BS">Off_BS</option>
													    </select>
												</div>
											</div>

							<div class="form-group row">
								<label class="col-sm-2 col-form-label">GL Level 2</label>
								<div class="col-sm-4">
									
									<select class="form-control" th:field="*{glLevel2}">
									        <option value="" disabled selected>-- Select --</option>
									        <option value="Cash and Balances with central Banks">Cash and Balances with central Banks</option>
										    <option value="Due from Banks financial institutions">Due from Banks financial institutions</option>
											<option value="Derivatives Financial Assets">Derivatives Financial Assets</option>
											<option value="Loans and advances performing">Loans and advances performing</option>
										    <option value="Loans and advances non performing">Loans and advances non performing</option>
											<option value="Investment in Associaates">Investment in Associaates</option>
											<option value="Intangible assets">Intangible assets</option>
											<option value="Other assets">Other assets</option>
											<option value="Fixed assets">Fixed assets</option>
										
							    </select>
								</div>

								<label class="col-sm-2 col-form-label">GL Level 3</label>
								<div class="col-sm-4">
									
							<select class="form-control" th:field="*{glLevel3}">
							  <option value="" disabled selected>-- Select --</option>
							    <option value="Cash and Cash items">Cash and Cash items</option>
							 <option value="Central Bank Current Account">Central Bank Current Account</option>
								<option value="Central Bank Reserve Account">Central Bank Reserve Account</option>
								<option value="Due from Central Bank -ODF">Due from Central Bank -ODF</option>
								 <option value="Due from Central Bank -CD">Due from Central Bank -CD</option>
								<option value="Due from Central Bank -MBills">Due from Central Bank -MBills</option>
								<option value="Reverse Repose with Central Banks">Reverse Repose with Central Banks</option>
								<option value="Due from Banks Nastro">Due from Banks Nastro</option>
								<option value="Inter Bank Margin Call">Inter Bank Margin Call</option>	
								<option value="Inter Bank Placements">Inter Bank Placements</option>
						      <option value="Reverse Repo">Reverse Repo</option>	
								<option value="Islamic Reverse Repo">Islamic Reverse Repo</option>
								<option value="Islamic Placements">Islamic Placements</option>									
							    </select>
								</div>
							</div>

							<!-- Instrument Info -->
							<div class="form-group row">
								<label class="col-sm-2 col-form-label">Option Type</label>
								<div class="col-sm-4">
									
										<select class="form-control" th:field="*{optionType}">
											    <option value="" disabled selected>-- Select --</option>
											     <option value="Behavioural">Behavioural</option>
											  <option value="Automatic">Automatic</option>
												<option value="NA">NA</option>
										    </select>
									</div>
										
										

								<label class="col-sm-2 col-form-label">Rate Type</label>
								<div class="col-sm-4">
									
									<select class="form-control" th:field="*{rateType}">
										 <option value="" disabled selected>-- Select --</option>
									     <option value="Behavioural">Fixed</option>
										  <option value="Automatic">Floating</option>
										  <option value="Automatic">Admin</option>
										<option value="NA">NA</option>
								    </select>
								</div>
							</div>

							<div class="form-group row">
								<label class="col-sm-2 col-form-label">Reference Rate</label>
								<div class="col-sm-4">
									
										<select class="form-control" th:field="*{referenceRate}">
										 <option value="" disabled selected>-- Select --</option>
							  	     <option value="NA">NA</option> </select>
									</div>

								<label class="col-sm-2 col-form-label">Instrument Currency</label>
								<div class="col-sm-4">
									
										<select class="form-control" th:field="*{instrumentCurrency}">
										<option value="" disabled selected>-- Select --</option>
										   <option value="AED">AED</option>
										 <option value="AFN">AFN</option>
										  <option value="ALL">ALL</option>
										<option value="AMD">AMD</option>
									   <option value="ANG">ANG</option>
									 <option value="AOA">AOA</option>
								     <option value="ARS">ARS</option>
								     <option value="AUD">AUD</option>
									 <option value="AWG">AWG</option>
						 <option value="AZN">AZN</option>
							  <option value="BAM">BAM</option>
								<option value="BBD">BBD</option>
							   <option value="BDT">BDT</option>
								 <option value="BGN">BGN</option>
							     <option value="BHD">BHD</option>
							     <option value="BIF">BIF</option>
								 <option value="BMD">BMD</option>
								  <option value="BND">BND</option>
							     <option value="BOB">BOB</option>
							    <option value="BOV">BOV</option>
								<option value="BTN">BTN</option>
								  <option value="BWP">BWP</option>
							    <option value="BYN">BYN</option>
								    <option value="BZD">BZD</option>
									<option value="CAD">CAD</option>
								 <option value="CDF">CDF</option>
								  <option value="CHE">CHE</option>
							     <option value="CHF">CHF</option>
							    <option value="CHW">CHW</option>
								<option value="CLF">CLF</option>
								  <option value="CLP">CLP</option>
							    <option value="CNY">CNY</option>
							    <option value="COP">COP</option>
									<option value="COU">COU</option>
							    <option value="CRC">CRC</option>
								<option value="CUC">CUC</option>
														
								
								
								<option value="CUP">CUP</option>
							  <option value="CVE">CVE</option>
								  <option value="CZK">CZK</option>
							    <option value="DJF">DJF</option>
								<option value="DKK">DKK</option>
								  <option value="DOP">DOP</option>
							    <option value="DZD">DZD</option>
							    <option value="EGP">EGP</option>
								<option value="ERN">ERN</option>
								  <option value="ETB">ETB</option>
								<option value="EUR">EUR</option>	
								
						<option value="FJD">FJD</option>
					  <option value="FKP">FKP</option>
						 <option value="GBP">GBP</option>
					    <option value="GEL">GEL</option>
						<option value="GHS">GHS</option>
					  <option value="GIP">GIP</option>
					    <option value="GMD">GMD</option>
				    <option value="GNF">GNF</option>
					<option value="GTQ">GTQ</option>
				  <option value="GYD">GYD</option>
				<option value="HKD">HKD</option>
				
				<option value="HNL">HNL</option>
			  <option value="HTG">HTG</option>
				 <option value="HUF">HUF</option>
		    <option value="IDR">IDR</option>
			<option value="ILS">ILS</option>
			 <option value="INR">INR</option>
		    <option value="IQD">IQD</option>
		    <option value="IRR">IRR</option>
			<option value="ISK">ISK</option>
			  <option value="JMD">JMD</option>
			<option value="JOD">JOD</option>					
		    <option value="JPY">JPY</option>
			
			<option value="KES">KES</option>
						  <option value="KGS">KGS</option>
							 <option value="KHR">KHR</option>
					    <option value="KMF">KMF</option>
						<option value="KPW">KPW</option>
						 <option value="KRW">KRW</option>
					    <option value="KWD">KWD</option>
					    <option value="KYD">KYD</option>
						<option value="KZT">KZT</option>
						  <option value="LAK">LAK</option>
						<option value="LBP">LBP</option>					
					    <option value="LKR">LKR</option>
						
						<option value="LRD">LRD</option>
						  <option value="LSL">LSL</option>
						 <option value="LYD">LYD</option>
				    <option value="MAD">MAD</option>
					<option value="MDL">MDL</option>
					 <option value="MKD">MKD</option>
				    <option value="MMK">MMK</option>
				    <option value="MNT">MNT</option>
					<option value="MOP">MOP</option>
				  <option value="MRU">MRU</option>
				<option value="MUR">MUR</option>					
			    <option value="MVR">MVR</option>
				
				<option value="MWK">MWK</option>
										  <option value="MXN">MXN</option>
										 <option value="MXV">MXV</option>
								    <option value="MYR">MYR</option>
									<option value="MZN">MZN</option>
									 <option value="NAD">NAD</option>
								    <option value="NGN">NGN</option>
								    <option value="NIO">NIO</option>
									<option value="NOK">NOK</option>
								  <option value="NPR">NPR</option>
								<option value="NZD">NZD</option>					
							    <option value="OMR">OMR</option>
								<option value="Other">Other</option>
								
								<option value="PAB">PAB</option>
							  <option value="PEN">PEN</option>
							 <option value="PGK">PGK</option>
						    <option value="PHP">PHP</option>
							<option value="PKR">PKR</option>
						 <option value="PLN">PLN</option>
						 <option value="PYG">PYG</option>
							<option value="QAR">QAR</option>
						<option value="RON">RON</option>
							  <option value="RSD">RSD</option>
							<option value="RUB">RUB</option>					
						    <option value="RWF">RWF</option>
							<option value="SAR">SAR</option>
		   </select>
									</div>
							</div>

							<div class="form-group row">
							    <label class="col-sm-2 col-form-label">Outstanding Balance</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control  number-24-2  no-spinner" th:field="*{outstandingBalance}" />
							    </div>
							    <label class="col-sm-2 col-form-label">Overnight</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control  number-24-2  no-spinner" th:field="*{overnight}" />
							    </div>
							</div>

							<div class="form-group row">
							    <label class="col-sm-2 col-form-label">1D to 1M</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2  no-spinner" th:field="*{onTo1m}" />
							    </div>
							    <label class="col-sm-2 col-form-label">1M to 3M</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2  no-spinner" th:field="*{oneMTo3m}" />
							    </div>
							</div>

							<div class="form-group row">
							    <label class="col-sm-2 col-form-label">3M to 6M</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2  no-spinner" th:field="*{threeMTo6m}" />
							    </div>
							    <label class="col-sm-2 col-form-label">6M to 9M</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control   number-24-2 no-spinner" th:field="*{sixMTo9m}" />
							    </div>
							</div>

							<div class="form-group row">
							    <label class="col-sm-2 col-form-label">9M to 1Y</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2  no-spinner" th:field="*{nineMTo1y}" />
							    </div>
							    <label class="col-sm-2 col-form-label">1Y to 1.5Y</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2  no-spinner" th:field="*{oneYTo1_5y}" />
							    </div>
							</div>

							<div class="form-group row">
							    <label class="col-sm-2 col-form-label">1.5Y to 2Y</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2" th:field="*{one5yTo2y}" />
							    </div>
							    <label class="col-sm-2 col-form-label">2Y to 3Y</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control  number-24-2 no-spinner" th:field="*{twoYTo3y}" />
							    </div>
							</div>

							<div class="form-group row">
							    <label class="col-sm-2 col-form-label">3Y to 4Y</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2  no-spinner" th:field="*{threeYTo4y}" />
							    </div>
							    <label class="col-sm-2 col-form-label">4Y to 5Y</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2  no-spinner" th:field="*{fourYTo5y}" />
							    </div>
							</div>

							<div class="form-group row">
							    <label class="col-sm-2 col-form-label">5Y to 6Y</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2 no-spinner" th:field="*{fiveYTo6y}" />
							    </div>
							    <label class="col-sm-2 col-form-label">6Y to 7Y</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2 no-spinner" th:field="*{sixYTo7y}" />
							    </div>
							</div>

							<div class="form-group row">
							    <label class="col-sm-2 col-form-label">7Y to 8Y</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2 no-spinner" th:field="*{sevenYTo8y}" />
							    </div>
							    <label class="col-sm-2 col-form-label">8Y to 9Y</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2 no-spinner" th:field="*{eightYTo9y}" />
							    </div>
							</div>

							<div class="form-group row">
							    <label class="col-sm-2 col-form-label">9Y to 10Y</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2 no-spinner" th:field="*{nineYTo10y}" />
							    </div>
							    <label class="col-sm-2 col-form-label">10Y to 15Y</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2 no-spinner" th:field="*{tenYTo15y}" />
							    </div>
							</div>

							<div class="form-group row">
							    <label class="col-sm-2 col-form-label">15Y to 20Y</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control  number-24-2 no-spinner" th:field="*{fifteenYTo20y}" />
							    </div>
							    <label class="col-sm-2 col-form-label">20Y Above</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2 no-spinner" th:field="*{twentyYAbove}" />
							    </div>
							</div>

							<div class="form-group row">
							    <label class="col-sm-2 col-form-label">Non-Maturing</label>
							    <div class="col-sm-4">
							        <input type="number" class="form-control number-24-2 no-spinner" th:field="*{nonMaturing}" />
							    </div>
							</div>

						
					


					<div class="card-footer text-center">
						<button type="submit" class="role-btn" onclick="updateform(event)">Update</button>
						<!--<a th:href="@{/Liquidity_Risk_Data}" class="custom-tab-btn">Cancel</a>-->
						<a th:href="@{/Liquidity_Risk_Data(formmode='list')}" class="role-btn" style="text-decoration: none;">Cancel</a>
</div>
					</div>
			</div>
			</form>
		</div>
</div>



		<div class="modal fade" id="datadelete">
			<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
				<div class="modal-content">
					<div class="modal-body" style="margin-top: 8px; text-align: center; color: #f15362;">
						<button type="button" class="close" data-dismiss="modal">Ã—</button>
						Are you Sure want to delete?
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" onclick="submitformdelete(this);"
							th:attr="data-formmode=delete">Submit</button>
						<button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
					</div>
				</div>
			</div>
		</div>
		<div class="modal fade" id="formmsg">
			<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
				<div class="modal-content">
					<div class="modal-body" style="margin-top: 8px; text-align: center; color: aliceblue;">
						<button type="button" class="close" data-dismiss="modal">Ã—</button>
						<a th:value="${msg}"></a>
					</div>
					<div class="modal-footer"
						style="background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); padding: 10px; border-top: 2px solid #ccc;">
						<button type="button" class="btn btn-primary" onclick="submitformdelete(this);"
							th:attr="data-formmode=delete">Submit</button>
						<button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="alert">
			<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
				<div class="modal-content">
					<div class="menu-title-header">
						<div class="modal-title" id="exampleModalLabel" style="text-align: center; color: white;">
							BANK OF BARODA</div>
					</div>
					<div class="modal-body" style="text-align: center">
						<p id="alertmsg"></p>
						<button type="button" class="role-btn" onclick="list()"
							data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>
<!-- Floating Back Button -->
	<button id="floatingBackBtn" onclick="goBack()" title="Go Back">
		<i class="fa fa-arrow-left"></i>
	</button>
	<!-- Floating Forward Button -->
	<button id="floatingForwardBtn" onclick="goForward()"
		title="Go Forward">
		<i class="fa fa-arrow-right"></i>
	</button>
		<div class="modal fade" id="alert1">
			<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
				<div class="modal-content">
					<div class="menu-title-header">
						<div class="modal-title" id="exampleModalLabel" style="text-align: center; color: white;">
							BANK OF BARODA</div>
					</div>
					<div class="modal-body" style="text-align: center">
						<p id="alertmsg1"></p>
						<button type="button" class="role-btn" onclick="nostro()"
							data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>
		<div id="bob-loader" class="bob-loader" aria-hidden="true"
		role="status" aria-label="Loading">
		<div class="bob-loader-card">
			<img th:src="@{/images/bobn.png}" alt="Bank of Baroda"
				class="logo-imgs">
			<div class="flow-bar">
				<div class="flow-line"></div>
			</div>
		</div>
	</div>
		<div class="modal fade" id="loader" data-backdrop="static" data-keyboard="false">
			<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
				<div class="modal-content" style="background: transparent;">
					<div class="modal-body" style="text-align: center">
						<div>
							<img th:src=@{/images/loader.gif} id="bfirelogo" style="width: 153px; height: auto; margin-left: 18px; background-color: transparent;
								border-color: transparent;" alt="Bornfire">
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="modal fade" id="downloadProcessingModal" tabindex="-1" role="dialog"
			aria-labelledby="downloadProcessingModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered d-flex align-items-center" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="downloadProcessingModalLabel">Download
							Processing...</h5>
					</div>
				</div>
			</div>
		</div>
		<!-- Download Message -->
		<div class="modal fade" id="customAlertModal" tabindex="-1" role="dialog"
			aria-labelledby="customAlertModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="customAlertModalLabel">Successfully</h5>
					</div>
					<div class="modal-body" id="customAlertBody"></div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-dismiss="modal" onclick="list()">OK</button>
					</div>
				</div>
			</div>
		</div>
		<div class="modal fade" id="alert1">
			<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
				<div class="modal-content">
					<div class="menu-title-header">
						<div class="modal-title" style="text-align: center; color: white;">BANK OF BARODA</div>
					</div>
					<div class="modal-body" style="text-align: center">
						<p id="alertmsg1"></p>
						<button type="button" class="role-btn" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>


</body>
<script>
	$('#usertable').DataTable({
		scrollX: false,
		autoWidth: false,
		paging: true,
		searching: true,
		lengthChange: false,
		ordering: false,
		pageLength: 100,
		fixedHeader: true,

		// Layout: search (left) + pagination (right)
		dom: '<"d-flex justify-content-between align-items-center mb-2"f p>t',


		// Optional: language tweak for better label
		language: {
			search: "Search:"
		}
	});
</script>



<!-- Include this after your DataTable initialization script -->

<style>
/* Remove top margin/padding from DataTables parent containers */
#data {
	padding-top: 0 !important;
	margin-top: 0 !important;
}

.table-responsive {
	margin-top: 0 !important;
	padding-top: 0 !important;
}

/* Ensure DataTables filter (search box) doesn't have spacing above it */
div.dataTables_filter {
	margin-top: 0 !important;
	padding-top: 0 !important;
}

/* FIX: Make search label and box inline */
.dataTables_filter label {
	display: flex !important;
	align-items: center;
	gap: 8px; /* space between text and input */
	margin-bottom: 0 !important;
}

/* Style pagination buttons */
.dataTables_wrapper .dataTables_paginate .paginate_button {
	padding: 0px;
}

/* Optional: Style the search input */
.dataTables_filter input {
	margin-left: 5px;
	flex: 1;
}
</style>



<!-- ALERT SCRIPT TO SHOW MODAL IF MESSAGE IS PRESENT -->
<script th:inline="javascript">
	/*<![CDATA[*/

	console.log("Flash message from controller:", message);

	const message = /*[[${updateMsg}]]*/ null;
	if (message !== null && message !== '') {
		$(document).ready(function () {
			$('#alertmsg1').text(message);
			$('#alert1').modal('show');
		});
	}
	/*]]>*/
</script>

<script>
	function handleBankChange(select) {
		const selectedBank = select.value;

		if (!selectedBank) {
			$('#bankSymbol').val('');
			$('#conventionalIslamic').val('');
			$('#localForeign').val('');
			$('#cbuaeTiering').val('');
			return;
		}

		$.ajax({
			url: '/BCDRS/getBankDetails',  // This uses your existing method
			type: 'GET',
			data: {bankName: selectedBank},
			success: function (data) {
				$('#bankSymbol').val(data.bankSymbol || '');
				$('#conventionalIslamic').val(data.conventionalIslamic || '');
				$('#localForeign').val(data.localForeign || '');
				$('#cbuaeTiering').val(data.cbuaeTiering || '');
			},
			error: function (xhr, status, error) {
				console.error('AJAX Error:', error);
				alert('Failed to fetch bank details.');
			}
		});
	}
</script>
<script>
document.addEventListener("DOMContentLoaded", function () {

  function showError(input, message) {
    // Remove any existing error to prevent duplicates
    clearError(input);

    const error = document.createElement("small");
    error.id = input.id + "-error";
    error.className = "text-danger d-block mt-1";
    error.innerText = message;

    // Insert error message right after the input element
    input.classList.add("is-invalid");
    input.parentNode.insertBefore(error, input.nextSibling);
  }

  function clearError(input) {
    const error = document.getElementById(input.id + "-error");
    if (error) {
      error.remove();
    }
    input.classList.remove("is-invalid");
  }

  // VARCHAR2 (vchar-<max>) fields
  document.querySelectorAll('input[class*="vchar-"]').forEach(input => {
    let max = null;
    input.classList.forEach(cls => {
      if (cls.startsWith("vchar-")) {
        const limit = parseInt(cls.split("-")[1]);
        if (!isNaN(limit)) max = limit;
      }
    });

    if (max !== null) {
      input.removeAttribute("maxlength"); // Let JS handle limit

      input.addEventListener("input", () => {
        if (input.value.length > max) {
          showError(input, `Max ${max} characters allowed`);
        } else {
          clearError(input);
        }
      });
    }
  });


  // NUMBER(p,s) fields
  document.querySelectorAll('[class*="number-"]').forEach(input => {
    const match = input.className.match(/number-(\d+)-(\d+)/);
    if (match) {
      const total = parseInt(match[1]);
      const decimal = parseInt(match[2]);

      input.addEventListener("input", () => {
        const val = input.value.trim();
        if (val === "") {
          clearError(input);
          return;
        }

        if (!/^-?\d*(\.\d*)?$/.test(val)) {
          showError(input, "Only numeric values allowed");
          return;
        }

        const [intPart, decPart = ""] = val.replace("-", "").split(".");
        const totalDigits = intPart.length + decPart.length;

        if (totalDigits > total) {
          showError(input, `Max ${total} digits allowed`);
        } else if (decPart.length > decimal) {
          showError(input, `Max ${decimal} digits after decimal`);
        } else {
          clearError(input);
        }
      });
    }
  });

});
</script>
<style>
	input::-webkit-outer-spin-button,
	input::-webkit-inner-spin-button {
		-webkit-appearance: none;
		margin: 0;
	}

	input[type=number] {
		-moz-appearance: textfield;
	}
</style>
<style>
	#usertable {
		min-width: 2800px;
		/* adjust based on columns */
	}

	#usertable {
		border-collapse: collapse !important;
		font-family: Arial, sans-serif !important;
		font-size: 12px !important;
	}

	/* HEADER */
	/* Update this section in your <style> tag */
	#usertable thead th {
		background-color: #7b6458;
		color: #fff;
		font-family: Arial, sans-serif !important;
		font-size: 14px !important;
		text-align: center;
		vertical-align: middle;
		white-space: normal;

		/* ADD THESE THREE LINES */
		padding: 2px 4px !important;
		/* Reduces internal spacing */
		line-height: 1.1 !important;
		/* Reduces space between wrapped text lines */
		font-size: 11px !important;
		/* Optional: slightly smaller font to save space */
		position: sticky;
		top: 0;
		/* Keeps the first row at the top */
		z-index: 10;
		background-color: #7b6458 !important;
		/* Ensures the header isn't transparent */
		color: white;
		box-shadow: inset 0 -1px 0 #dee2e6;
		/* Optional: adds a bottom border to the sticky header */
	}


	/* BODY CELLS */
	#usertable td {
		padding: 5px 6px !important;
		border: 1px solid #e8e8e8 !important;
		/* light grey lines */
		background: #fafafa;
		white-space: normal !important;
	}

	/* ROW EVEN/ODD */
	#usertable tbody tr:nth-child(even) {
		background-color: #f4f2ef !important;
	}

	#usertable tbody tr:nth-child(odd) {
		background-color: #ffffff !important;
	}
	#usertable thead tr:nth-child(2) th {
	    top: 32px; /* Adjust this value (e.g., 30px to 40px) to match the height of your first header row */
	    z-index: 9;

	/* SEARCH BOX FIX */
	.dataTables_filter label {
		display: flex !important;
		gap: 10px;
		align-items: center;
	}

	.dataTables_filter label {
		display: flex !important;
		align-items: center;
		gap: 8px;
		/* space between text and input */
		margin-bottom: 0 !important;
	}

	.dataTables_filter input {
		margin-left: 5px;
		flex: 1;
	}

	/* === ROLE PAGE CUSTOM HEADER === */
	.role-page-header {
		background-color: #ffffff;
		padding: 15px 20px;
		display: flex;
		/* Added for alignment */
		justify-content: space-between;
		/* Added for alignment */
		align-items: center;
		/* Added for alignment */
	}
</style>

<style>
	/* DataTables pagination container */
	.dataTables_wrapper .dataTables_paginate {
		display: flex;
		gap: 3px;
		margin-left: 4px !important;
	}

	.dataTables_wrapper .dataTables_paginate .paginate_button {
		box-sizing: border-box;
		display: inline-block;
		min-width: 1.5em;
		padding: 0.5em !important;
		margin-left: -8px;
		text-align: center;
		text-decoration: none !important;
		border: 1px solid transparent;
		border-radius: 2px;
	}

	.mb-2 {
		margin-bottom: -0.5rem !important;
	}

	.dataTables_wrapper .dataTables_paginate .page-link {
		outline: none !important;
		box-shadow: none !important;
	}

	/* Hover ONLY for Previous & Next */
	.dataTables_wrapper .dataTables_paginate .previous .page-link:hover,
	.dataTables_wrapper .dataTables_paginate .next .page-link:hover {
		background-color: #e9ecef !important;
		color: rgb(255, 128, 64) !important;
	}

	/* Page numbers should NOT hover */
	.dataTables_wrapper .dataTables_paginate .page-item:not(.previous):not(.next):not(.active) .page-link:hover {
		background-color: #f5f5f5 !important;
		color: #6c757d !important;
		cursor: default !important;
	}

	.dataTables_wrapper .dataTables_paginate .page-item.active .page-link {
		background-color: #ff7f27 !important;
		border-color: #ff7f27 !important;
		color: #ffffff !important;
		cursor: default !important;
	}
</style>
<style>
		.role-btn {
			background: #ffffff;
			/* default white */
			color: #E67E00;
			/* default orange text */
			border: 1px solid #E67E00;
			border-radius: 25px;
			padding: 8px 18px;
			font-size: 13px;
			font-weight: 600;
			cursor: pointer;
			box-shadow: 0 1px 3px rgba(230, 126, 0, 0.15);
			transition: all 0.3s ease;
		}

		/* Hover effect â†’ pastel orange */
		.role-btn:hover {
			background: #FFF3D1;
			/* pastel orange (same as submenu hover) */
			color: #E67E00;
			/* orange text */
			transform: translateY(-2px);
			box-shadow: 0 0 8px rgba(230, 126, 0, 0.4);
		}

		/* Active (selected tab) */
		.role-btn.active {
			background: #E67E00;
			/* solid orange */
			color: #fff;
			/* white text */
			border-color: #E67E00;
			transform: translateY(-1px);
			box-shadow: 0 1px 8px rgba(230, 126, 0, 0.3);
		}

		/* Optional: icon spacing */
		.role-btn i {
			margin-right: 5px;
		}
	</style>
	<style>
		#pageHeader {
			position: sticky;
			top: 110px;
			z-index: 1050;
			background: white;
			padding-top: 10px;
		}

		#tabHeader {
			position: sticky;
			top: 5px;
			/* just below page header */
			z-index: 1040;
			background: white;
			padding: 5px 0;
		}

		#mainHeader {
			position: sticky;
			top: 0;
			z-index: 9999;
			background: white;
		}
	</style>
<style>
	/* Default header alignment */
	#usertable thead th {
		text-align: center !important;
		vertical-align: middle !important;
	}

	/* Left aligned headers */
	#usertable thead th.th-left {
		text-align: left !important;
	}

	/* Right aligned headers */
	#usertable thead th.th-right {
		text-align: right !important;
		width: 50px !important;
	}

	#usertable td.th-left {
		text-align: left !important;
	}

	/* Right aligned headers */
	#usertable td.th-right {
		text-align: right !important;
		width: 50px !important;
	}

	#usertable {
		table-layout: auto !important;
		width: 100% !important;
	}

	/* Report Date column â€“ prevent wrap + increase width */
	#usertable th.col-report-date,
	#usertable td.col-report-date {
		min-width: 120px !important;
		/* increase as needed */
		white-space: nowrap !important;
		text-align: center;
	}
</style>
<style>
	.liquid-edit-page {
	    overflow: hidden;
			}
	.liquid-edit-page  .card-body {
	    max-height: calc(100vh - 280px);
	    overflow-y: auto;
	    overflow-x: hidden;
		}

	.liquid-edit-page  .card {
		    margin-bottom: 0;
		}
</style>
<style>
	.menu-title-header {
		background-color: #f7a47c !important;
		color: #ffffff;
		text-align: center;
		padding: 10px 15px;
		border-top-left-radius: 6px;
		border-top-right-radius: 6px;
	}
</style>
<style>
	.liquid-edit-page {
		font-family: Arial, sans-serif !important;
		font-size: 12px !important;
	}

	.liquid-edit-page label,
	.liquid-edit-page input,
	.liquid-edit-page textarea,
	.liquid-edit-page button {
		font-size: 12px !important;
	}

	.modal-title {
		background-color: #f7a47c;
	}
</style>
</html>