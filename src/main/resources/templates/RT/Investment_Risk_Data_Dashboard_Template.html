<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">

<!-- 
CREATED BY	: KRISHNAPANDI MG 
CREATED ON	: 23.06.2025 (Started)
PURPOSE		: Investment_Risk_Data_Dashboard_Template Report
TESTED BY   : RAJALAKSHMI R
-->

<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- CSS -->
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/font-awesome/5.9.0/css/all.min.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/datatables/1.10.19/css/jquery.dataTables.min.css}">
	<link rel="stylesheet" th:href="@{/css/CustomButton.css}" />
	<link rel="icon" th:href="@{/favicon.ico}" type="image/x-icon" />

	<!-- JavaScript -->
	<!-- jQuery core (required first) -->
	

	<!-- ✅ Your manually placed jQuery validation
	<script th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>
	 <script th:src="/jquery/jquery.validate.min.js"></script>
	 -->
	
	<!-- jQuery (required first) -->
	<script th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>

<!-- ✅ jQuery Validation -->
<script src="/webjars/jquery-validation/1.19.0/jquery.validate.min.js"
	th:src="@{/webjars/jquery-validation/1.19.0/jquery.validate.min.js}"></script>
	
	<!-- Bootstrap + Others -->
	<script th:src="@{/webjars/popper.js/1.14.7/umd/popper.min.js}"></script>
	<script th:src="@{/webjars/bootstrap/4.3.1/js/bootstrap.min.js}"></script>
	<script th:src="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.js}"></script>
	<script th:src="@{/webjars/jquery-form/4.2.2/jquery.form.min.js}"></script>
	<script th:src="@{/webjars/datatables/1.10.19/js/jquery.dataTables.min.js}"></script>
	<script th:src="@{/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js}"></script>



<style>
.btns {
	float: right;
	margin: 5px;
}

.col-sm-5 {
	padding-bottom: 15px;
}

.list-body {
	padding: 0px;
}

.error {
	color: red;
	padding-left: 10px;
}

.formline {
	padding-bottom: 15px;
}

.btn-primary {
	background-color: #E77400;
	border-color: #0c0c0c;
}

.btn-primary:not (:disabled ):not (.disabled ).active, .btn-primary:not
	 (:disabled ):not (.disabled ):active, .show>.btn-primary.dropdown-toggle
	{
	color: #fff;
	background-color: #cc000000;
	border-color: #161617;
}

#finusertb {
	width: 460px;
}

.dataTables_wrapper .dataTables_paginate .paginate_button {
	padding: 0px;
}
</style>
 
  
 
 
 <style>
  .card {
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    border-radius: 8px;
  }

  .card-header h5 {
    font-size: 22px;
    color: #fff;
    font-weight: 600;
  }

  .nav-tabs .nav-link {
    font-weight: 500;
    border: 1px solid #dee2e6;
    border-bottom: none;
    border-radius: 4px 4px 0 0;
    background-color: #f1f1f1;
    margin-right: 5px;
  }

  .nav-tabs .nav-link.active {
    background-color: #ffffff;
    border-color: #dee2e6 #dee2e6 #ffffff;
  }

  .table-responsive {
    border: 1px solid #dee2e6;
    border-radius: 4px;
  }

  .table-hover tbody tr:hover {
    background-color: #f3f6f9;
  }

  thead th {
    position: sticky;
    top: 0;
    background-color: #e9ecf0;
    z-index: 1;
  }

  .card-footer {
    padding: 10px;
    border-top: 1px solid #ccc;
  }

  .btn-xs {
    padding: 4px 12px;
    font-size: 14px;
    border-radius: 4px;
  }

  #usertable th, #usertable td {
    vertical-align: middle;
    text-align: left;
    font-size: 17px;
    font-family: Verdana, sans-serif;
  }

  .fa-edit:hover {
    color: #28a745;
    transform: scale(1.1);
  }



td {
  border: 1px solid rgb(0,164,166);
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

</style>
 

<style>
        .form-group {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .form-control {
            width: 100%;
            border: 2px solid #ccc;
            border-radius: 8px;
            font-size: 1rem;
            outline: none;
            background: transparent;
            transition: border-color 0.3s ease, padding-top 0.3s ease;
        }
        .error {
    		color: red;
    		padding-top: 15px;
			}
        
        

        .form-control:focus {
            border-color: #007bff;
        }

        .form-legend {
            position: absolute;
            top: 50%;
            left: 15px;
            transform: translateY(-50%);
            font-size: 1rem;
            color: #aaa;
            background: white;
            padding: 0 5px;
            pointer-events: none;
            transition: 0.3s ease;
        }

        /* When input or select is focused or has a value, move the label up */
        .form-control:focus ~ .form-legend,
        .form-control:not(:placeholder-shown) ~ .form-legend {
            top: -8px;
            font-size: 1rem;
            color: #007bff;
        }

        /* Hover effect when the input/select is focused */
        .form-control:focus:hover ~ .form-legend {
            color: #0056b3; /* Darker shade of blue on hover */
        }

        /* Ensure the label returns to the normal color after focus or hover is removed */
        .form-control:not(:focus) ~ .form-legend {
            color: #aaa; /* Normal label color */
        }
    </style>
   
    <style>
/* Red border for invalid inputs */
input.error, select.error {
  border: 2px solid red !important;
}

/* Error message style */
label.error {
  color: red;
  font-size: 0.85em;
  margin-top: 5px;
  display: block;
}
</style>
    <script>
$(document).ready(function () {
    $("#nostroForm").validate({
        errorClass: "error", // use 'error' class for styling
        errorElement: "label", // wrap error messages in <label>

        // Place the error after the input field
        errorPlacement: function (error, element) {
            if (element.parent('.form-group').length) {
                error.insertAfter(element); // default
            } else {
                error.insertAfter(element);
            }
        },

        // Highlight and unhighlight fields
        highlight: function (element) {
            $(element).addClass("error");
        },
        unhighlight: function (element) {
            $(element).removeClass("error");
        },

        // On successful validation, run this
        submitHandler: function (form) {
            submitForm(); // your custom submit function
        }
    });
});
</script>
    
    <script>

    function submitForm() {
		$("#loader").modal("toggle");

        const reportName = 'CBUAE_Nostro Account_Balance_Data_Template';
        const submitUrl = './createDataControl?report_name=' + encodeURIComponent(reportName);
        const formData = $("#nostroForm").serialize();
	
        $.ajax({
            url: submitUrl,
            type: "POST",
            data: formData,
            success: function (response) {
        		$("#loader").modal("hide");

            	$("#alertmsg1").text(response);
                $("#alert1").modal("toggle");
                //location.href = 'Nostro_Account_Bal';
            },
            error: function (xhr, status, error) {
        	    $("#loader").modal("hide");

                console.error("Error:", error);
                alert("Error occurred: " + error);
            }
        });
    }


</script>

<script th:inline="javascript">
	

	function home() {
        $("#loader").modal("toggle");
		location.href = 'Dashboard'
	}

	function back() {
        $("#loader").modal("toggle");

		window.history.back();
	}

	function list() {
		location.href = 'Investment_Risk_Data_Dashboard_Template?formmode=list';
	}
	
	function nostro() {
		location.href = 'Investment_Risk_Data_Dashboard_Template';
	}
	$(document).ready(function () {
	    // On modal close, redirect to your controller method path
	    $('#alert').on('hidden.bs.modal', function () {
	        window.location.href = './Repo_Data_Template';
	    });
	});


	/*function updateform() {
		
	    $('#Nostro').validate({
	        rules: {
	            bankName: { required: true },
	            dataDate: { required: true },
	            counterpartyBalance: { number: true },
	            bankBalance: { number: true },
	            counterpartyBalanceAed: { number: true },
	            bankBalanceAed: { number: true },
	            gap: { number: true }
	        },
	        messages: {
	            bankName: { required: "Please provide Bank Name", minlength: "Bank Name must be at least 2 characters" },
	            dataDate: "Please provide Data Date",
	            counterpartyBalance: "Enter valid number",
	            bankBalance: "Enter valid number",
	            counterpartyBalanceAed: "Enter valid number",
	            bankBalanceAed: "Enter valid number",
	            gap: "Enter valid number"
	        }
	    });

	    if ($("#Nostro").valid()) {
	        $("#loader1").modal("show");

	        var url = "./updateNostro";
	        $("#Nostro").attr('action', url);

	        var options = {
	            success: function (responseText, statusText, xhr, $form) {
	                $("#loader1").modal("hide");

	                // Show modal alert
	               // $("#alertmsg").text("Updated Success fully");

					//$('#alert').modal("toggle");

	                // Redirect after short delay
	               
	                    window.location.href = "Nostro_Account_Bal";
	                
	            },
	            error: function (xhr, status, error) {
	                $("#loader1").modal("hide");
	                $("#alertmsg").text("Error: " + error);
	               
					$('#alert').modal("toggle");
	            }
	        };

	        $("#Nostro").ajaxSubmit(options);
	    } else {
	        $("#alertmsg").text("Please fix validation errors.");
	        $('#alert').modal("show");
	    }
	}*/
	
	
	function updateform(event) {
    event.preventDefault();
    
    console.log("updateform function called");

    // Show loader
    $("#loader").modal("toggle");

    // Check if SI_NO is present before sending
    var formData = $('#investmentriskdatadashboard').serialize(); // Make sure this ID is correct (capital F)

    console.log("Serialized Data:", formData); // Debug

    $.ajax({
        url: './updateinvestmentriskdatadictionary',
        type: 'POST',
        data: formData,
        success: function(response) {
            console.log("Server response:", response);
            $("#loader").modal("hide");

            $("#alertmsg").text(response);
            $("#alert").modal("toggle");

            if (response.includes("successful")) {
                setTimeout(function() {
                    window.location.href = "./Investment_Risk_Data_Dashboard_Template?formmode=list";
                }, 1500);
            }
        },
        error: function(xhr, status, error) {
            console.error("Error in modify:", error);
            $("#loader").modal("hide");
            $("#alertmsg").text("Error: " + error);
            $("#alert").modal("show");
        }
    });
}


    </script>
  
</head>

 
<script>
  function navigateToTab(tabId) {
		$("#loader").modal("toggle");

    if (tabId === 'data') {
    	window.location.href = 'Investment_Risk_Data_Dashboard_Template?formmode=list';
		$("#loader").modal("hide");

    } else if (tabId === 'datacontrols') {
      window.location.href = 'Investment_Risk_Data_Dashboard_Template?formmode=add';
		$("#loader").modal("hide");

      
    }
  }

  function handleClick(tabId) {
    // Remove active class from all buttons
    document.querySelectorAll('.custom-tab-btn').forEach(btn => btn.classList.remove('active'));
    document.getElementById(tabId + '-btn').classList.add('active');

    // Hide all panes
    document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('show', 'active'));
    document.getElementById(tabId).classList.add('show', 'active');
  }

  // On page load, detect formmode and show corresponding tab
  window.addEventListener('DOMContentLoaded', function () {
    const params = new URLSearchParams(window.location.search);
    const formmode = params.get('formmode');

    if (formmode === 'list') {
      handleClick('data');
    } else {
      handleClick('datacontrols'); // default or formmode=add
    }
  });
</script>

<script>
    function investmentriskdata() {
        // 1. Show the loader modal
        $('#loader').modal('show');

        $.ajax({
            url: './downloadInvestmentriskdatadashboardExcel',
            type: 'GET',
            xhrFields: {
                responseType: 'blob'
            },
            success: function (data) {
                // 2. Hide the loader modal
                $('#loader').modal('hide');

                let message = '';

                if (data && data.size > 100) {
                    const blob = new Blob([data], { type: 'application/vnd.ms-excel' });
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.style.display = 'none';
                    a.href = url;
                    a.download = 'CBUAE_Investment Risk Data_Dashboard_Template.xls';
                    document.body.appendChild(a);

                    a.click();

                    window.URL.revokeObjectURL(url);
                    document.body.removeChild(a);

                    message = 'CBUAE_Investment Risk Data_Dashboard_Template.xls has been downloaded successfully.';
                } else {
                    message = 'No data available to download.';
                }

                // Show result in unified alert modal
                $('#alertmsg').text(message);
                $('#alert').modal('show');
            },
            error: function (xhr, status, error) {
                $('#loader').modal('hide');

                console.error("Download failed:", error);

                $('#alertmsg').text('An error occurred while downloading TradelevelDataDerivative.xls.');
                $('#alert').modal('show');
            }
        });

        // Safety fallback in case AJAX hangs silently
        setTimeout(function () {
            $('#loader').modal('hide');
        }, 10000);
    }
</script>


     
<title>BCDRS</title>
<body> 
<div class="container-fluid" style="padding-left:0px; padding-right:0px;">
		<div class="row">
		
	<div th:insert="XBRLHeaderMenu :: header"></div>

		<div class="card-header" th:if="${formmode == 'list' or formmode == 'add' or formmode =='null' or formmode !='edit' }" style="background-color: rgb(107, 122, 143) ; ">
					<div class="float-left">
						<h5 
							style="font-family: verdana; margin-left:20px; font-size: 20px; font-weight: bold; padding-top: 10px; ">Investment Risk Data Dashboard Template</h5>
					</div>

					
				</div>
	<!-- -------------------User List Starts----------------------------------------------------- -->
	<div  style="padding-right: 10px;padding-left: 20px;" th:if="${formmode == 'list' or formmode == 'add' or formmode =='null' or formmode !='edit' }">

			
				
			

<!-- Tabs -->
<div class="button-tab-group" style="margin-top:5px; margin-bottom:20px;">
  <button class="custom-tab-btn" id="datacontrols-btn" onclick="navigateToTab('datacontrols')">Data Controls</button>
  <button class="custom-tab-btn" id="template-btn" onclick="handleClick('template')">Template Instructions</button>
  <button class="custom-tab-btn" id="data-btn" onclick="navigateToTab('data')">Data</button>
    	<div class="float-right" style="margin-left:61%">
    		<button th:if="${formmode} =='list'" type="button"
  class="custom-tab-btn"
 
  onclick="investmentriskdata();">
  <i class="fa fa-download"></i> Download
</button></div>
</div>






<div class="tab-content" id="myTabContent" style="margin-top: 15px;" th:if="${formmode} =='null'">
  <div class="tab-pane fade show active" id="datacontrols" role="tabpanel">
   
		<div class="row">
			<div class="col-sm-12 finuserapply" >
			<form id="nostroForm"        
          method="post"
          autocomplete="off" > 
				<div class="card-body" style="max-height:450px; overflow-y:auto">


							<input autocomplete="false" name="hidden" type="text"
								style="display: none;">
							 <div class="form-group" style="border:none">
          <div class="row formline">
            <div class="col-sm-1"></div>
           <div class="form-group col-md-4">
  <select id="submittingInstitution" name="submittingInstitution" class="form-control" required>
    <option value="">-- Select Institution --</option>
    <option value="Bank of Baroda">Bank of Baroda</option>
  </select>
  <label for="submittingInstitution" class="form-legend">Submitting Institution</label>
</div>


            <div class="col-sm-1"></div>
            
            <div class="form-group col-md-4">
              <input type="date"
                     id="portfolioDate"
                     name="portfolioDate"
                     class="form-control" placeholder=" "
                     required />
                <label for="portfolioDate" class="form-legend">Portfolio date</label>
            </div>
          </div>

          <!-- Contact Employee 1 Name / Title -->
          <!-- Contact Employee 1 Group -->
<div class="form-group" style="border: 1px solid #e0e0e0; padding: 15px; margin-bottom: 20px; border-radius: 5px;">
  <div class="row formline">
    <div class="col-sm-12">
      <label style="font-weight: bold; color: #007B8A;">Contact Details(Employee 1)</label>
    </div>
  </div>
  <div class="row formline">
     <div class="form-group col-md-4">
     <input type="text" id="contactEmployee1Name1" name="contactEmployee1Name1" class="form-control" placeholder=" " required />
      <label for="contactEmployee1Name1" class="form-legend">Name</label>
    </div>
    
    
   <div class="form-group col-md-4">
   <input type="text" id="contactEmployee1Title1" name="contactEmployee1Title1" class="form-control" placeholder=" " required />
      <label for="contactEmployee1Title1" class="form-legend">Title</label>
    </div>
   

  
    <div class="form-group col-md-4">
       <input type="email" id="contactEmployee1Email1" name="contactEmployee1Email1" class="form-control" placeholder=" " required />
      <label for="contactEmployee1Email1" class="form-legend">Email</label>
    </div>
    <div class="col-sm-3">
    </div>
 
</div>
</div>
<div class="form-group" style="border: 1px solid #e0e0e0; padding: 15px; margin-bottom: 20px; border-radius: 5px;">
  <div class="row formline">
    <div class="col-sm-12">
      <label style="font-weight: bold; color: #007B8A;">Contact Details(Employee 2)</label>
    </div>
  </div>
  <div class="row formline">
     <div class="form-group col-md-4">
     <input type="text" id="contactEmployee2Name2" name="contactEmployee2Name2" class="form-control" placeholder=" " required />
      <label for="contactEmployee2Name2" class="form-legend">Name</label>
    </div>
    
    
   <div class="form-group col-md-4">
   <input type="text" id="contactEmployee2Title2" name="contactEmployee2Title2" class="form-control" placeholder=" " required />
      <label for="contactEmployee2Title2" class="form-legend">Title</label>
    </div>
   

  
    <div class="form-group col-md-4">
       <input type="email" id="contactEmployee2Email2" name="contactEmployee2Email2" class="form-control" placeholder=" " required />
      <label for="contactEmployee2Email2" class="form-legend">Email</label>
    </div>
    <div class="col-sm-3">
    </div>
 
</div>
<!-- Contact Employee 2 Group -->
</div>
<div class="form-group" style="border: 1px solid #e0e0e0; padding: 15px; margin-bottom: 20px; border-radius: 5px;">
  <div class="row formline">
    <div class="col-sm-12">
      <label style="font-weight: bold; color: #007B8A;">Sign Off</label>
    </div>
  </div>

          <!-- Sign-off CRO Name / Email -->
          <div class="row formline">
           <div class="col-sm-1"></div>
           <div class="form-group col-md-4">
            <input type="text"
                     id="signOffCroName"
                     name="signOffCroName" class="form-control" placeholder=" "
                     required />
              <label for="signOffCroName" class="form-legend">CRO Name</label>
            </div>
             <div class="col-sm-1"></div>
            <div class="form-group col-md-4">
             <input type="email"
                     id="signOffCroEmail"
                     name="signOffCroEmail"
                     class="form-control" placeholder=" "
                     required />
              <label for="signOffCroEmail" class="form-legend">CRO Email</label>
            </div>
            
          </div>

          <!-- Sign-off CFO Name / Email -->
          <div class="row formline">
          <div class="col-sm-1"></div>
           <div class="form-group col-md-4">
           <input type="text"
                     id="signOffCfoName"
                     name="signOffCfoName"
                     class="form-control" placeholder=" "
                     required />
              <label for="signOffCfoName" class="form-legend">CFO Name</label>
            </div>
            
            <div class="col-sm-1"></div>
             <div class="form-group col-md-4">
              <input type="email"
                     id="signOffCfoEmail"
                     name="signOffCfoEmail"
                     class="form-control" placeholder=" "
                     required />
              <label for="signOffCfoEmail" class="form-legend">CFO Email</label>
            </div>
           
          </div>

          <!-- Sign-off Head of Treasury Name / Email -->
          <div class="row formline">
            <div class="col-sm-1"></div>
           <div class="form-group col-md-4">
            <input type="text"
                     id="signOffHeadOfTreasuryName"
                     name="signOffHeadOfTreasuryName"
                    class="form-control" placeholder=" "
                     required />
              <label for="signOffHeadOfTreasuryName" class="form-legend">Head of Treasury Name</label>
            </div>
            
            <div class="col-sm-1"></div>
            <div class="form-group col-md-4">
             <input type="email"
                     id="signOffHeadOfTreasuryEmail"
                     name="signOffHeadOfTreasuryEmail"
                     class="form-control" placeholder=" "
                     required />
              <label for="signOffHeadOfTreasuryEmail" class="form-legend">Head of Treasury Email</label>
            </div>
                      </div>
							</div>
							
							</div>
							
							
							</form>
							</div>
							</div>
							<div class="card-footer text-center"
     style="background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); padding: 10px; border-top: 2px solid #ccc;">
  <button type="button" class="custom-tab-btn"        
        onclick="home();">
  <i class="fa fa-home"></i> Home
</button>


 <button th:if="${formmode == 'null' or formmode == 'add'}"  type="button" class="custom-tab-btn"
                  onclick="submitForm()">Save</button>
       

<button type="button" class="custom-tab-btn"
        
        onclick="back();">
  <i class="fa fa-arrow-left"></i> Back
</button>

</div>
							</div></div>
									
<!-- --------------------------------------DATA CONTROL ENDS--------------------------------------------- -->

<!-- --------------------------------------TEMPLATE STARTS--------------------------------------------- -->

  <div class="tab-pane fade" id="template" role="tabpanel"  th:if="${formmode == 'null'}">
    <p>Templates tabs</p>
    <div class="card-footer text-center"
     style="background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); padding: 10px; border-top: 2px solid #ccc;">
  <button type="button" class="custom-tab-btn"        
        onclick="home();">
  <i class="fa fa-home"></i> Home
</button>


 <button th:if="${formmode == 'null' or formmode == 'add'}"  type="button" class="custom-tab-btn"
                  onclick="submitForm()">Save</button>
       

<button type="button" class="custom-tab-btn"
        
        onclick="back();">
  <i class="fa fa-arrow-left"></i> Back
</button>

</div>
  </div>
 
 <!-- --------------------------------------TEMPLATE ENDS--------------------------------------------- -->
  
  
  
  <!-- -----------------------------------DATA LIST STARTS -------------------------------------------- -->
  <div class="tab-pane fade" id="data" role="tabpanel">
    <!-- Move your existing table content here -->

		<!-- 	<div class="row">
				<div class="col-sm-12">
					<div class="container-fluid">
   -->
   
   
   
   
  <div class="table-responsive" style="max-height: 500px; overflow: auto; border:none;">
   <table id="usertable" class="table table-bordered table-striped table-hover" style="min-width: 2000px; font-family: calibri;">
  <thead class="thead-light" style="background-color: #e9ecf0; font-size: 11px;">
    <tr>
    	<th>Action</th>
      	<th>Date</th>
		<th>Bank Name</th>
		<th>Group_Head_Office_Subsidiary</th>
		<th>Subsidiary</th>
		<th>Bank Symbol</th>
		<th>Conventional/Islamic</th>
		<th>Local/Foreign</th>
		<th>CBUAE Tiering</th>
		<th>Asset Balance Sheet size (AED)</th>
		<th>Investment Book Size (Market value AED)</th>
		<th>Book size (% Total Assets)</th>
		<th>YTD Net P&amp;L (AED)</th>
		<th>YTD FVTOCI unrealized loss (AED)</th>
		<th>CET1 (AED)</th>
		<th>UGL Core Tier 1 Relative Impact (%)</th>
		<th>YTD Amortized Cost unrealized loss (AED)</th>
		<th>YTD HQLA/Amortized Cost unrealized loss (AED)</th>
		<th>HQLA/AC Core Tier 1 Relative Impact (%)</th>
		<th>Confidence Interval (Interest Rate VaR)</th>
		<th>Holding Period (Interest Rate VaR)</th>
		<th>Fixed Income Exposure (AED)</th>
		<th>Interest Rate VaR Exposure (AED)</th>
		<th>Interest Rate VaR limit (AED)</th>
		<th>Status</th>
		<th>Int. VaR Impact (%)</th>
		<th>Confidence Interval (Credit Spread VaR)</th>
		<th>Holding Period (Credit Spread VaR)</th>
		<th>Fixed Income Exposure (AED)</th>
		<th>Credit Spread VaR Exposure (AED)</th>
		<th>Credit Spread VaR limit (AED)</th>
		<th>Status</th>
		<th>Cred. VaR Impact (%)</th>
		<th>Confidence Interval (FX VaR)</th>
		<th>Holding Period (FX VaR)</th>
		<th>FX Exposure (AED)</th>
		<th>FX VaR Exposure (AED)</th>
		<th>FX VaR limit (AED)</th>
		<th>Status</th>
		<th>FX VaR Impact (%)</th>
		<th>Confidence Interval (Equity VaR)</th>
		<th>Holding Period (Equity VaR)</th>
		<th>Equity Exposure (AED)</th>
		<th>Equity VaR Exposure (AED)</th>
		<th>Equity VaR limit (AED)</th>
		<th>Status</th>
		<th>Equity VaR Impact (%)</th>
		<th>Confidence Interval (Commodity VaR)</th>
		<th>Holding Period (Commodity VaR)</th>
		<th>Commodity Exposure (AED)</th>
		<th>Commodity VaR Exposure (AED)</th>
		<th>Commodity VaR limit (AED)</th>
		<th>Status</th>
		<th>Commodity VaR Impact (%)</th>
		<th>Confidence Interval (Overall VaR)</th>
		<th>Holding Period (Overall VaR)</th>
		<th>VaR Exposure (AED)</th>
		<th>VaR limit (AED)</th>
		<th>Status</th>
		<th>Portfolio Relative Impact (%)</th>
		<th>Expected Shortfall Exposure (AED)</th>
		<th>Expected Shortfall limit (AED)</th>
		<th>Status</th>
		<th>Portfolio Relative Impact (%)</th>
		<th>Modified Duration</th>
		<th>Interest rate shock applied (bps)</th>
		<th>Limit</th>
		<th>Status</th>
		<th>DV01 (AED)</th>
		<th>Limit (AED)</th>
		<th>Status</th>
		<th>DV01 Tenor Gaps (&lt;3yr) in AED</th>
		<th>DV01 Tenor Gaps (&gt;3yr) in AED</th>
		<th>Check</th>
		<th>Credit Spread CS01 (AED)</th>
		<th>Credit Spread shock applied (bps)</th>
		<th>Limit</th>
		<th>Status</th>
		<th>Credit Spread CS01 (Investment Grade) in AED</th>
		<th>Credit Spread CS01 (Sub Investment) in AED</th>
		<th>Credit Spread CS01 (Unrated) in AED</th>
		<th>Check</th>
		<th>Beta Equity</th>
		<th>Equity shock applied (bps)</th>
		<th>Limit</th>
		<th>Status</th>
		<th>Credit spread Impact (AED)</th>
		<th>Credit Sensitive Impact (%)</th>
		<th>Interest Rate impact (AED)</th>
		<th>Rate Sensitive Impact (%)</th>
		<th>Foreign Exchange Impact (AED)</th>
		<th>FX Sensitive Impact (%)</th>
		<th>Equity Impact (AED)</th>
		<th>Equity Sensitive Relative Impact (%)</th>
		<th>Commodities Impact (AED)</th>
		<th>Commodity Sensitive Relative Impact (%)</th>
		<th>Jump-to-default Loss Impact (AED)</th>
		<th>JTD Relative Impact (%)</th>
		<th>Overall Impact (AED)</th>
		<th>Core Tier 1 Relative Impact (%)</th>
      	
      	
		      
     
    </tr>
  </thead>
  <tbody style="font-size: 9px;">
     <tr th:each="data : ${InvestmentRiskDatalist}">
    <td>
									<a th:href="@{'/Investment_Risk_Data_Dashboard_Template?formmode=edit&SI_NO=' + ${data.SI_NO}}">
            <i class="fa fa-edit" style="color: #007bff;"></i>
        </a>
    </td>
    <td th:text="${#dates.format(data.dataDate, 'dd-MM-yyyy')}"></td>
    <td th:text="${data.bankName}"></td>
    <td th:text="${data.groupHeadOfficeSubsidiary}"></td>
    <td th:text="${data.subsidiary}"></td>
    <td th:text="${data.bankSymbol}"></td>
    <td th:text="${data.conventionalIslamic}"></td>
    <td th:text="${data.localForeign}"></td>
    <td th:text="${data.cbuAeTiering}"></td>
	<td th:text="${#numbers.formatDecimal(data.assetBalanceSheetSizeAed, 1, 'COMMA', 2, 'POINT')}"></td>
	<td th:text="${#numbers.formatDecimal(data.investmentBookSizeAed, 1, 'COMMA', 2, 'POINT')}"></td>
	<td th:text="${#numbers.formatDecimal(data.bookSizeTotalAssetsPct, 1, 'COMMA', 4, 'POINT')}"></td>
	<td th:text="${#numbers.formatDecimal(data.ytdNetPnlAed, 1, 'COMMA', 2, 'POINT')}"></td>
	<td th:text="${#numbers.formatDecimal(data.ytdFvtociUnrealizedLossAed, 1, 'COMMA', 2, 'POINT')}"></td>
	<td th:text="${#numbers.formatDecimal(data.cet1Aed, 1, 'COMMA', 2, 'POINT')}"></td>
	<td th:text="${#numbers.formatDecimal(data.uglCoreTier1RelativeImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
	<td th:text="${#numbers.formatDecimal(data.ytdAmortizedUnrealizedLossAed, 1, 'COMMA', 2, 'POINT')}"></td>
	<td th:text="${#numbers.formatDecimal(data.ytdHqlaAcUnrealizedLossAed, 1, 'COMMA', 2, 'POINT')}"></td>
	<td th:text="${#numbers.formatDecimal(data.hqlaAcCoreTier1ImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
	<td th:text="${#numbers.formatDecimal(data.irVarConfidenceInterval, 1, 'COMMA', 2, 'POINT')}"></td>
	<td th:text="${data.irVarHoldingPeriod}"></td>
	<td th:text="${#numbers.formatDecimal(data.irFixedIncomeExposureAed, 1, 'COMMA', 2, 'POINT')}"></td>
	<td th:text="${#numbers.formatDecimal(data.irVarExposureAed, 1, 'COMMA', 2, 'POINT')}"></td>
	<td th:text="${#numbers.formatDecimal(data.irVarLimitAed, 1, 'COMMA', 2, 'POINT')}"></td>
	<td th:text="${data.irStatus}"></td>
	<td th:text="${#numbers.formatDecimal(data.irVarImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
	<td th:text="${#numbers.formatDecimal(data.csVarConfidenceInterval, 1, 'COMMA', 2, 'POINT')}"></td>
	   <td th:text="${data.csVarHoldingPeriod}"></td>
	   <td th:text="${#numbers.formatDecimal(data.csFixedIncomeExposureAed, 1, 'COMMA', 2, 'POINT')}"></td>
	   <td th:text="${#numbers.formatDecimal(data.csVarExposureAed, 1, 'COMMA', 2, 'POINT')}"></td>
	   <td th:text="${#numbers.formatDecimal(data.csVarLimitAed, 1, 'COMMA', 2, 'POINT')}"></td>
	   <td th:text="${data.csStatus}"></td>
	   <td th:text="${#numbers.formatDecimal(data.csVarImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
	   <td th:text="${#numbers.formatDecimal(data.fxVarConfidenceInterval, 1, 'COMMA', 2, 'POINT')}"></td>
	       <td th:text="${data.fxVarHoldingPeriod}"></td>
	       <td th:text="${#numbers.formatDecimal(data.fxExposureAed, 1, 'COMMA', 2, 'POINT')}"></td>
	       <td th:text="${#numbers.formatDecimal(data.fxVarExposureAed, 1, 'COMMA', 2, 'POINT')}"></td>
	       <td th:text="${#numbers.formatDecimal(data.fxVarLimitAed, 1, 'COMMA', 2, 'POINT')}"></td>
	       <td th:text="${data.fxStatus}"></td>
	       <td th:text="${#numbers.formatDecimal(data.fxVarImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
		   <td th:text="${#numbers.formatDecimal(data.fxVarConfidenceInterval, 1, 'COMMA', 2, 'POINT')}"></td>
		       <td th:text="${data.fxVarHoldingPeriod}"></td>
		       <td th:text="${#numbers.formatDecimal(data.fxExposureAed, 1, 'COMMA', 2, 'POINT')}"></td>
		       <td th:text="${#numbers.formatDecimal(data.fxVarExposureAed, 1, 'COMMA', 2, 'POINT')}"></td>
		       <td th:text="${#numbers.formatDecimal(data.fxVarLimitAed, 1, 'COMMA', 2, 'POINT')}"></td>
		       <td th:text="${data.fxStatus}"></td>
		       <td th:text="${#numbers.formatDecimal(data.fxVarImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
			   <td th:text="${#numbers.formatDecimal(data.commVarConfidenceInterval, 1, 'COMMA', 2, 'POINT')}"></td>
			   <td th:text="${data.commVarHoldingPeriod}"></td>
			   <td th:text="${#numbers.formatDecimal(data.commExposureAed, 1, 'COMMA', 2, 'POINT')}"></td>
			   <td th:text="${#numbers.formatDecimal(data.commVarExposureAed, 1, 'COMMA', 2, 'POINT')}"></td>
			   <td th:text="${#numbers.formatDecimal(data.commVarLimitAed, 1, 'COMMA', 2, 'POINT')}"></td>
			   <td th:text="${data.commStatus}"></td>
			   <td th:text="${#numbers.formatDecimal(data.commVarImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
			   <td th:text="${#numbers.formatDecimal(data.overallVarConfidenceInterval, 1, 'COMMA', 2, 'POINT')}"></td>
			      <td th:text="${data.overallVarHoldingPeriod}"></td>
			      <td th:text="${#numbers.formatDecimal(data.varExposureAed, 1, 'COMMA', 2, 'POINT')}"></td>
			      <td th:text="${#numbers.formatDecimal(data.varLimitAed, 1, 'COMMA', 2, 'POINT')}"></td>
			      <td th:text="${data.overallVarStatus}"></td>
			      <td th:text="${#numbers.formatDecimal(data.portfolioRelativeImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.expectedShortfallExposureAed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.expectedShortfallLimitAed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${data.expectedShortfallStatus}"></td>
				  <td th:text="${#numbers.formatDecimal(data.expectedShortfallImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.modifiedDuration, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.interestRateShockBps, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.interestRateLimit, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${data.interestRateStatus}"></td>
				  <td th:text="${#numbers.formatDecimal(data.dv01Aed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.dv01LimitAed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${data.dv01Status}"></td>
				  <td th:text="${#numbers.formatDecimal(data.dv01TenorGapLt3Aed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.dv01TenorGapGt3Aed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${data.dv01Check}"></td>
				  <td th:text="${#numbers.formatDecimal(data.cs01Aed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.cs01ShockBps, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.cs01Limit, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${data.cs01Status}"></td>
				  <td th:text="${#numbers.formatDecimal(data.cs01InvestmentGradeAed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.cs01SubInvestmentAed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.cs01UnratedAed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${data.cs01Check}"></td>
				  <td th:text="${#numbers.formatDecimal(data.betaEquity, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.equityShockBps, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.equityLimit, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${data.equityStatus}"></td>
				  <td th:text="${#numbers.formatDecimal(data.creditSpreadImpactAed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.creditSensitiveImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.interestRateImpactAed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.rateSensitiveImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.fxImpactAed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.fxSensitiveImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.equityImpactAed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.equitySensitiveImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.commoditiesImpactAed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.commoditySensitiveImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.jtdLossImpactAed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.jtdRelativeImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.overallImpactAed, 1, 'COMMA', 2, 'POINT')}"></td>
				  <td th:text="${#numbers.formatDecimal(data.coreTier1RelativeImpactPct, 1, 'COMMA', 2, 'POINT')}"></td>
</tr>
  </tbody>
</table>

  </div>


<div class="card-footer text-center"
     style="background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); padding: 10px; border-top: 2px solid #ccc;">
  <button type="button" class="custom-tab-btn"        
        onclick="home();">
  <i class="fa fa-home"></i> Home
</button>


 <button th:if="${formmode == 'null' or formmode == 'add'}"  type="button" class="custom-tab-btn"
                  onclick="submitForm()">Save</button>
       

<button type="button" class="custom-tab-btn"
        
        onclick="back();">
  <i class="fa fa-arrow-left"></i> Back
</button>

</div>

</div>



				</div>
			
<!------------------ edit starts-------------------------------------------------------------->
		
<div th:if="${formmode}=='edit'" style="align-items:center">
  <div class="row">
    <form th:action="@{/updateinvestmentriskdatadictionary}" th:object="${investmentriskdatadashboard}" method="post" id="investmentriskdatadashboard">
      <div class="card" style="margin-left: 15px;margin-right: 15px;">
        <div class="card-header" style="background-color: rgb(166,0,0);">
          <div class="float-left">
            <h3 style="font-family: verdana;color: white !important; font-size: 24px; font-weight: bold;">Investment Risk Data Dictionary Template - Edit</h3>
          </div>
        </div>

        <div class="card-body" style="max-height: 500px; overflow-y: auto;">
   <input type="hidden" th:field="*{SI_NO}" />
   
  <!-- Row 1: Bank Date  |  Bank Name                                            -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Bank Date</label>
    <div class="col-sm-4">
      <input type="date" class="form-control" th:field="*{dataDate}" readonly />
    </div>

    <label class="col-sm-2 col-form-label">Bank Name</label>
    <div class="col-sm-4">
      <select class="form-control" th:field="*{bankName}" onchange="handleBankChange(this)">
        <option value="">-- Select Bank --</option>
        <option th:each="bank : ${bankList}"
                th:value="${bank.bankName}"
                th:text="${bank.bankName}">Bank</option>
      </select>
    </div>
  </div>

  <!-- ─────────────────────────────────────────────────────────────────────────── -->
  <!-- Row 2: Group Head Office/Subsidiary  |  Subsidiary                         -->
  <!-- ─────────────────────────────────────────────────────────────────────────── -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Group Head Office / Subsidiary</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{groupHeadOfficeSubsidiary}" />
    </div>

    <label class="col-sm-2 col-form-label">Subsidiary</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{subsidiary}" />
    </div>
  </div>

  <!-- ─────────────────────────────────────────────────────────────────────────── -->
  <!-- Row 3: Bank Symbol | Conventional / Islamic                                -->
  <!-- ─────────────────────────────────────────────────────────────────────────── -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Bank Symbol</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{bankSymbol}" readonly/>
    </div>

    <label class="col-sm-2 col-form-label">Conventional / Islamic</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{conventionalIslamic}" readonly/>
      <!-- If this is an enum, replace with a <select> -->
    </div>
  </div>

  <!-- ─────────────────────────────────────────────────────────────────────────── -->
  <!-- Row 4: Local / Foreign | CBUAE Tiering                                     -->
  <!-- ─────────────────────────────────────────────────────────────────────────── -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Local / Foreign</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{localForeign}" readonly/>
    </div>

    <label class="col-sm-2 col-form-label">CBUAE Tiering</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{cbuAeTiering}" readonly/>
    </div>
  </div>

  <!-- ─────────────────────────────────────────────────────────────────────────── -->
  <!-- Row 5: Asset Balance Sheet size | Investment Book Size                     -->
  <!-- ─────────────────────────────────────────────────────────────────────────── -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Asset Balance Sheet size (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{assetBalanceSheetSizeAed}" />
    </div>

    <label class="col-sm-2 col-form-label">Investment Book Size (Market value AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner"th:field="*{investmentBookSizeAed}" />
    </div>
  </div>

  <!-- ─────────────────────────────────────────────────────────────────────────── -->
  <!-- Row 6: Book size (% TA) | YTD Net P&L                                      -->
  <!-- ─────────────────────────────────────────────────────────────────────────── -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Book size (% Total Assets)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{bookSizeTotalAssetsPct}" />
    </div>

    <label class="col-sm-2 col-form-label">YTD Net P&L (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{ytdNetPnlAed}" />
    </div>
  </div>
  
  <!-- ────────── Row: YTD FVTOCI loss | CET1 ────────── -->
<div class="form-group row">
  <label class="col-sm-2 col-form-label">YTD FVTOCI unrealized loss (AED)</label>
  <div class="col-sm-4">
    <input type="number" step="0.01" class="form-control no-spinner"
           th:field="*{ytdFvtociUnrealizedLossAed}" />
  </div>

  <label class="col-sm-2 col-form-label">CET1 (AED)</label>
  <div class="col-sm-4">
    <input type="number" step="0.01" class="form-control no-spinner"
           th:field="*{cet1Aed}" />
  </div>
</div>

<!-- ────────── Row: UGL Core Tier‑1 Impact | YTD Amortized Cost loss ────────── -->
<div class="form-group row">
  <label class="col-sm-2 col-form-label">UGL Core Tier 1 Relative Impact (%)</label>
  <div class="col-sm-4">
    <input type="number" step="0.0001" class="form-control no-spinner"
           th:field="*{uglCoreTier1RelativeImpactPct}" />
  </div>

  <label class="col-sm-2 col-form-label">YTD Amortized Cost unrealized loss  (AED)</label>
  <div class="col-sm-4">
    <input type="number" step="0.01" class="form-control no-spinner"
           th:field="*{ytdAmortizedUnrealizedLossAed}" />
  </div>
</div>

<!-- ────────── Row: YTD HQLA/AC loss | HQLA/AC Core Tier‑1 Impact ────────── -->
<div class="form-group row">
  <label class="col-sm-2 col-form-label">YTD HQLA/Amortized Cost unrealized loss  (AED)</label>
  <div class="col-sm-4">
    <input type="number" step="0.01" class="form-control no-spinner"
           th:field="*{ytdHqlaAcUnrealizedLossAed}" />
  </div>

  <label class="col-sm-2 col-form-label">HQLA/AC Core Tier 1 Relative Impact   (%)</label>
  <div class="col-sm-4">
    <input type="number" step="0.0001" class="form-control no-spinner"
           th:field="*{hqlaAcCoreTier1ImpactPct}" />
  </div>
</div>

  
  <!-- Row …: IR VaR Confidence Interval | IR VaR Holding Period -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Confidence Interval (Interest Rate VaR)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{irVarConfidenceInterval}" />
    </div>

    <label class="col-sm-2 col-form-label">Holding Period (Interest Rate VaR)</label>
    <div class="col-sm-4">
      <input type="text" step="1" class="form-control no-spinner" th:field="*{irVarHoldingPeriod}" />
    </div>
  </div>

  <!-- IR Fixed Income Exposure | IR VaR Exposure -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Fixed Income Exposure (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{irFixedIncomeExposureAed}" />
    </div>

    <label class="col-sm-2 col-form-label">Interest Rate VaR Exposure (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{irVarExposureAed}" />
    </div>
  </div>

  <!-- IR VaR Limit | IR Status -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Interest Rate VaR Limit (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{irVarLimitAed}" />
    </div>

    <label class="col-sm-2 col-form-label">Status</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{irStatus}" />
    </div>
  </div>

  <!-- IR VaR Impact % | CS VaR Confidence Interval -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Int. VaR Impact (%)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{irVarImpactPct}" />
    </div>

    <label class="col-sm-2 col-form-label">Confidence Interval (Credit Spread VaR)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{csVarConfidenceInterval}" />
    </div>
  </div>

  <!-- CS VaR Holding Period | CS Fixed Income Exposure -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Holding Period (Credit Spread VaR)</label>
    <div class="col-sm-4">
      <input type="text" step="1" class="form-control no-spinner" th:field="*{csVarHoldingPeriod}" />
    </div>

    <label class="col-sm-2 col-form-label">Fixed Income Exposure (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{csFixedIncomeExposureAed}" />
    </div>
  </div>

  <!-- CS VaR Exposure | CS VaR Limit -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Credit Spread VaR Exposure (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{csVarExposureAed}" />
    </div>

    <label class="col-sm-2 col-form-label">Credit Spread VaR Limit (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{csVarLimitAed}" />
    </div>
  </div>

  <!-- CS Status | CS VaR Impact % -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Status</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{csStatus}" />
    </div>

    <label class="col-sm-2 col-form-label">Cred. VaR Impact (%)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{csVarImpactPct}" />
    </div>
  </div>

  <!-- FX VaR Confidence Interval | FX VaR Holding Period -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Confidence Interval (FX VaR)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{fxVarConfidenceInterval}" />
    </div>

    <label class="col-sm-2 col-form-label">Holding Period (FX VaR)</label>
    <div class="col-sm-4">
      <input type="text" step="1" class="form-control no-spinner" th:field="*{fxVarHoldingPeriod}" />
    </div>
  </div>

  <!-- FX Exposure | FX VaR Exposure -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">FX Exposure (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{fxExposureAed}" />
    </div>

    <label class="col-sm-2 col-form-label">FX VaR Exposure (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{fxVarExposureAed}" />
    </div>
  </div>

  <!-- FX VaR Limit | FX Status -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">FX VaR Limit (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{fxVarLimitAed}" />
    </div>

    <label class="col-sm-2 col-form-label">Status</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{fxStatus}" />
    </div>
  </div>

  <!-- FX VaR Impact % | EQ VaR Confidence Interval -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">FX VaR Impact (%)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{fxVarImpactPct}" />
    </div>

    <label class="col-sm-2 col-form-label">Confidence Interval (Equity VaR)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{eqVarConfidenceInterval}" />
    </div>
  </div>

  <!-- EQ VaR Holding Period | EQ Exposure -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Holding Period (Equity VaR)</label>
    <div class="col-sm-4">
      <input type="text" class="form-control no-spinner"  th:field="*{eqVarHoldingPeriod}" />
    </div>

    <label class="col-sm-2 col-form-label">Equity Exposure (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{eqExposureAed}" />
    </div>
  </div>

  <!-- EQ VaR Exposure | EQ VaR Limit -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Equity VaR Exposure (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{eqVarExposureAed}" />
    </div>

    <label class="col-sm-2 col-form-label">Equity VaR Limit (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{eqVarLimitAed}" />
    </div>
  </div>

  <!-- EQ Status | EQ VaR Impact % -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Status</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{eqStatus}" />
    </div>

    <label class="col-sm-2 col-form-label">Equity VaR Impact (%)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{eqVarImpactPct}" />
    </div>
  </div>

  <!-- Commodity VaR Confidence Interval | Commodity VaR Holding Period -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Confidence Interval (Commodity VaR)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{commVarConfidenceInterval}" />
    </div>

    <label class="col-sm-2 col-form-label">Holding Period (Commodity VaR)</label>
    <div class="col-sm-4">
      <input type="text" step="1" class="form-control no-spinner" th:field="*{commVarHoldingPeriod}" />
    </div>
  </div>

  <!-- Commodity Exposure | Commodity VaR Exposure -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Commodity Exposure (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{commExposureAed}" />
    </div>

    <label class="col-sm-2 col-form-label">Commodity VaR Exposure (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{commVarExposureAed}" />
    </div>
  </div>

  <!-- Commodity VaR Limit | Commodity Status -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Commodity VaR Limit (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{commVarLimitAed}" />
    </div>

    <label class="col-sm-2 col-form-label">Status</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{commStatus}" />
    </div>
  </div>

  <!-- Commodity VaR Impact % | Overall VaR Confidence Interval -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Commodity VaR Impact (%)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{commVarImpactPct}" />
    </div>

    <label class="col-sm-2 col-form-label">Confidence Interval (Overall VaR)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{overallVarConfidenceInterval}" />
    </div>
  </div>

  <!-- Overall VaR Holding Period | VaR Exposure -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Holding Period (Overall VaR)</label>
    <div class="col-sm-4">
      <input type="text" step="1" class="form-control no-spinner" th:field="*{overallVarHoldingPeriod}" />
    </div>

    <label class="col-sm-2 col-form-label">VaR Exposure (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{varExposureAed}" />
    </div>
  </div>

  <!-- VaR Limit | Overall VaR Status -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">VaR Limit (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{varLimitAed}" />
    </div>

    <label class="col-sm-2 col-form-label">Status</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{overallVarStatus}" />
    </div>
  </div>

  <!-- Portfolio Relative Impact % | Expected Shortfall Exposure -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Portfolio Relative Impact (%)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{portfolioRelativeImpactPct}" />
    </div>

    <label class="col-sm-2 col-form-label">Expected Shortfall Exposure (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{expectedShortfallExposureAed}" />
    </div>
  </div>

  <!-- Expected Shortfall Limit | Expected Shortfall Status -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Expected Shortfall Limit (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{expectedShortfallLimitAed}" />
    </div>

    <label class="col-sm-2 col-form-label">Status</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{expectedShortfallStatus}" />
    </div>
  </div>

  <!-- Expected Shortfall Impact % | Modified Duration -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Portfolio Relative Impact (%)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{expectedShortfallImpactPct}" />
    </div>

    <label class="col-sm-2 col-form-label">Modified Duration</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{modifiedDuration}" />
    </div>
  </div>

  <!-- Interest‑Rate Shock | Interest‑Rate Limit -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Interest-Rate Shock Applied (bps)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{interestRateShockBps}" />
    </div>

    <label class="col-sm-2 col-form-label">Limit</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{interestRateLimit}" />
    </div>
  </div>

  <!-- Interest‑Rate Status | DV01 (AED) -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Status</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{interestRateStatus}" />
    </div>

    <label class="col-sm-2 col-form-label">DV01 (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{dv01Aed}" />
    </div>
  </div>

  <!-- DV01 Limit | DV01 Status -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Limit (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{dv01LimitAed}" />
    </div>

    <label class="col-sm-2 col-form-label">Status</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{dv01Status}" />
    </div>
  </div>

  <!-- DV01 Tenor Gaps | DV01 Tenor Gaps >3 yr -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">DV01 Tenor Gaps (&lt;3 yr) AED</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{dv01TenorGapLt3Aed}" />
    </div>

    <label class="col-sm-2 col-form-label">DV01 Tenor Gaps (&gt;3 yr) AED</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{dv01TenorGapGt3Aed}" />
    </div>
  </div>

  <!-- DV01 Check | CS01 (AED) -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Check</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{dv01Check}" />
    </div>

    <label class="col-sm-2 col-form-label">Credit Spread CS01 (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{cs01Aed}" />
    </div>
  </div>

  <!-- CS01 Shock | CS01 Limit -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Credit Spread Shock Applied (bps)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{cs01ShockBps}" />
    </div>

    <label class="col-sm-2 col-form-label">Limit</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{cs01Limit}" />
    </div>
  </div>

  <!-- CS01 Status | CS01 Investment Grade -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Status</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{cs01Status}" />
    </div>

    <label class="col-sm-2 col-form-label">CS01 (Investment Grade) AED</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{cs01InvestmentGradeAed}" />
    </div>
  </div>

  <!-- CS01 Sub‑Investment | CS01 Unrated -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">CS01 (Sub‑Investment) AED</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{cs01SubInvestmentAed}" />
    </div>

    <label class="col-sm-2 col-form-label">CS01 (Unrated) AED</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{cs01UnratedAed}" />
    </div>
  </div>

  <!-- CS01 Check | Beta Equity -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Check</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{cs01Check}" />
    </div>

    <label class="col-sm-2 col-form-label">Beta Equity</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{betaEquity}" />
    </div>
  </div>

  <!-- Equity Shock | Equity Limit -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Equity Shock Applied (bps)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{equityShockBps}" />
    </div>

    <label class="col-sm-2 col-form-label">Limit</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{equityLimit}" />
    </div>
  </div>

  <!-- Equity Status | Credit Spread Impact -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Status</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" th:field="*{equityStatus}" />
    </div>

    <label class="col-sm-2 col-form-label">Credit Spread Impact (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{creditSpreadImpactAed}" />
    </div>
  </div>

  <!-- Credit Sensitive Impact % | Interest‑Rate Impact -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Credit Sensitive Impact (%)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{creditSensitiveImpactPct}" />
    </div>

    <label class="col-sm-2 col-form-label">Interest Rate Impact (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{interestRateImpactAed}" />
    </div>
  </div>

  <!-- Rate Sensitive Impact % | FX Impact -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Rate Sensitive Impact (%)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{rateSensitiveImpactPct}" />
    </div>

    <label class="col-sm-2 col-form-label">FX Impact (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{fxImpactAed}" />
    </div>
  </div>

  <!-- FX Sensitive Impact % | Equity Impact -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">FX Sensitive Impact (%)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{fxSensitiveImpactPct}" />
    </div>

    <label class="col-sm-2 col-form-label">Equity Impact (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{equityImpactAed}" />
    </div>
  </div>

  <!-- Equity Sensitive Impact % | Commodities Impact -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Equity Sensitive Relative Impact (%)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{equitySensitiveImpactPct}" />
    </div>

    <label class="col-sm-2 col-form-label">Commodities Impact (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{commoditiesImpactAed}" />
    </div>
  </div>

  <!-- Commodity Sensitive Impact % | JTD Loss Impact -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Commodity Sensitive Relative Impact (%)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{commoditySensitiveImpactPct}" />
    </div>

    <label class="col-sm-2 col-form-label">Jump-to-Default Loss Impact (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{jtdLossImpactAed}" />
    </div>
  </div>

  <!-- JTD Relative Impact % | Overall Impact -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">JTD Relative Impact (%)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{jtdRelativeImpactPct}" />
    </div>

    <label class="col-sm-2 col-form-label">Overall Impact (AED)</label>
    <div class="col-sm-4">
      <input type="number" step="0.01" class="form-control no-spinner" th:field="*{overallImpactAed}" />
    </div>
  </div>

  <!-- Core Tier‑1 Relative Impact % (single‑field row) -->
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Core Tier 1 Relative Impact (%)</label>
    <div class="col-sm-4">
      <input type="number" step="0.0001" class="form-control no-spinner" th:field="*{coreTier1RelativeImpactPct}" />
    </div>
  </div>

  

  

        </div>

        <div class="card-footer text-center" style="background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); padding: 10px; border-top: 2px solid #ccc;">
          <button type="submit" class="custom-tab-btn" onclick="updateform(event)">Update</button>
          <a th:href="@{/Investment_Risk_Data_Dashboard_Template(formmode='list')}" class="custom-tab-btn">Cancel</a>
        </div>
      </div>
    </form>
  </div>
</div>


</div>
	

	<div class="modal fade" id="datadelete">
		<div
			class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content">
				<div class="modal-body"
					style="margin-top: 8px; text-align: center; color: #f15362;">
					<button type="button" class="close" data-dismiss="modal">×</button>
					Are you Sure want to delete?
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary"
						onclick="submitformdelete(this);" th:attr="data-formmode=delete">Submit</button>
					<button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
				</div>
			</div>
		</div>
	</div>
	<div class="modal fade" id="formmsg">
		<div
			class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content">
				<div class="modal-body"
					style="margin-top: 8px; text-align: center; color: aliceblue;">
					<button type="button" class="close" data-dismiss="modal">×</button>
					<a th:value="${msg}"></a>
				</div>
				<div class="modal-footer" style="background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); padding: 10px; border-top: 2px solid #ccc;">
					<button type="button" class="btn btn-primary"
						onclick="submitformdelete(this);" th:attr="data-formmode=delete">Submit</button>
					<button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
				</div>
			</div>
		</div>
	</div>

<div class="modal fade" id="alert">
		<div
			class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content">
			<div class="menu-title-header">
					<div class="modal-title" id="exampleModalLabel"
						style="text-align: center; color: white;">BANK OF BARODA</div>
				</div>
				<div class="modal-body" style="text-align: center">
					<p id="alertmsg"></p>
					<button type="button" class="custom-tab-btn" onclick="list()"
						data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	
<div class="modal fade" id="alert1">
		<div
			class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content">
			<div class="menu-title-header">
					<div class="modal-title" id="exampleModalLabel"
						style="text-align: center; color: white;">BANK OF BARODA</div>
				</div>
				<div class="modal-body" style="text-align: center">
					<p id="alertmsg1"></p>
					<button type="button" class="custom-tab-btn" onclick="nostro()"
						data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	<div class="modal fade" id="loader" data-backdrop="static"
			data-keyboard="false">
			<div
				class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
				<div class="modal-content" style="background: transparent;">
					<div class="modal-body" style="text-align: center">
						<div>
							<img th:src=@{/images/loader.gif} id="bfirelogo"
								style="width: 153px; height: auto; margin-left: 18px; background-color: transparent;
								border-color: transparent;"
								alt="Bornfire">
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="modal fade" id="downloadProcessingModal" tabindex="-1" role="dialog"
						aria-labelledby="downloadProcessingModalLabel" aria-hidden="true">
						<div class="modal-dialog modal-dialog-centered d-flex align-items-center" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="downloadProcessingModalLabel">Download
										Processing...</h5>
								</div>
							</div>
						</div>
					</div>
					<!-- Download Message -->
					<div class="modal fade" id="customAlertModal" tabindex="-1" role="dialog"
						aria-labelledby="customAlertModalLabel" aria-hidden="true">
						<div class="modal-dialog modal-dialog-centered" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="customAlertModalLabel">Successfully</h5>
								</div>
								<div class="modal-body" id="customAlertBody"></div>
								<div class="modal-footer">
									<button type="button" class="btn btn-primary" data-dismiss="modal" onclick="list()">OK</button>
								</div>
							</div>
						</div>
					</div>
		</div>
</body>
<script>
  $(document).ready(function () {
    $('#usertable').DataTable({
      "paging": true,
      "pageLength": 10,
      "lengthChange": false,
      "searching": true,
      "ordering": true,
      "info": true,
      "autoWidth": false,
      "language": {
        "search": "Search:"
      }
    });
  });
</script>


<!-- Include this after your DataTable initialization script -->

<style>
/* Remove top margin/padding from DataTables parent containers */
#data {
  padding-top: 0 !important;
  margin-top: 0 !important;
}

.table-responsive {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Ensure DataTables filter (search box) doesn't have spacing above it */
div.dataTables_filter {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

  /* FIX: Make search label and box inline */
  div.dataTables_filter label {
    display: flex !important;
    align-items: center;
    gap: 8px;
    white-space: nowrap;
  }

  /* Style pagination buttons */
  .dataTables_wrapper .dataTables_paginate .paginate_button {
    background-color: white;
    border: 1px solid rgb(0,164,166);
    color: rgb(0,164,166) !important;
    padding: 5px 10px;
    margin: 2px;
    border-radius: 6px;
    transition: 0.3s;
    font-weight: 600;
  }

  .dataTables_wrapper .dataTables_paginate .paginate_button.current,
  .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
    background-color: rgb(0,164,166) !important;
    color: white !important;
  }

  /* Optional: Style the search input */
  .dataTables_filter input {
    border: 1px solid rgb(0,164,166);
    border-radius: 4px;
    padding: 4px 8px;
  }
  
  /* Hide arrows in input[type="number"] */
  .no-spinner::-webkit-inner-spin-button,
  .no-spinner::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  .no-spinner {
    -moz-appearance: textfield; /* Firefox */
  }

</style>


<script>

function handleBankChange(select) {
    const selectedBank = select.value;

    if (!selectedBank) {
        // Clear the fields
        $('#bankSymbol').val('');
        $('#conventionalIslamic').val('');
        $('#localForeign').val('');
        $('#cbuaeTiering').val('');
        return;
    }

    $.ajax({
    	url: '/BCDRS/getBankDetails',
        type: 'GET',
        data: { bankName: selectedBank },
        success: function(data) {
            $('#bankSymbol').val(data.bankSymbol || '');
            $('#conventionalIslamic').val(data.conventionalIslamic || '');
            $('#localForeign').val(data.localForeign || '');
            $('#cbuaeTiering').val(data.cbuaeTiering || '');
        },
        error: function(xhr, status, error) {
            console.error('AJAX Error:', error);
            alert('Failed to fetch bank details.');
        }
    });
}
</script>


<script>
    function handleTransactionType(selectElement) {
        var selectedValue = selectElement.value;
        var cbuaeInput = document.getElementById("cbuaeInternalRef");

        if (selectedValue === "Repo" || selectedValue === "Reverse Repo") {
            cbuaeInput.value = selectedValue;
        } else {
            cbuaeInput.value = "";
        }
    }
</script>
<script>
	const fieldRules = {
		// VARCHAR2 fields
		bankName: 100,
		groupHeadOfficeSubsidiary: 50,
		subsidiary: 100,
		bankSymbol: 20,
		conventionalIslamic: 20,
		localForeign: 20,
		cbuaeTiering: 50,
		irVarHoldingPeriod: 10,
		csVarHoldingPeriod: 10,
		fxVarHoldingPeriod: 10,
		eqVarHoldingPeriod: 10,
		commVarHoldingPeriod: 10,
		overallVarHoldingPeriod: 10,
		interestRateStatus: 20,
		irStatus: 20,
		csStatus: 20,
		fxStatus: 20,
		eqStatus: 20,
		commStatus: 20,
		overallVarStatus: 20,
		expectedShortfallStatus: 20,
		dv01Status: 20,
		dv01Check: 20,
		cs01Status: 20,
		cs01Check: 20,
		equityStatus: 20,

		// NUMBER(24,2) or similar precision fields
		assetBalanceSheetSizeAed: "24,2",
		investmentBookSizeAed: "24,2",
		bookSizeTotalAssetsPct: "24,4",
		ytdNetPnlAed: "24,2",
		ytdFvtociUnrealizedLossAed: "24,2",
		cet1Aed: "24,2",
		uglCoreTier1RelativeImpactPct: "24,2",
		ytdAmortizedUnrealizedLossAed: "24,2",
		ytdHqlaAcUnrealizedLossAed: "24,2",
		hqlaAcCoreTier1ImpactPct: "24,2",
		irVarConfidenceInterval: "24,2",
		irFixedIncomeExposureAed: "24,2",
		irVarExposureAed: "24,2",
		irVarLimitAed: "24,2",
		irVarImpactPct: "24,2",
		csVarConfidenceInterval: "24,2",
		csFixedIncomeExposureAed: "24,2",
		csVarExposureAed: "24,2",
		csVarLimitAed: "24,2",
		csVarImpactPct: "24,2",
		fxVarConfidenceInterval: "24,2",
		fxExposureAed: "24,2",
		fxVarExposureAed: "24,2",
		fxVarLimitAed: "24,2",
		fxVarImpactPct: "24,2",
		eqVarConfidenceInterval: "24,2",
		eqExposureAed: "24,2",
		eqVarExposureAed: "24,2",
		eqVarLimitAed: "24,2",
		eqVarImpactPct: "24,2",
		commVarConfidenceInterval: "24,2",
		commExposureAed: "24,2",
		commVarExposureAed: "24,2",
		commVarLimitAed: "24,2",
		commVarImpactPct: "24,2",
		overallVarConfidenceInterval: "24,2",
		varExposureAed: "24,2",
		varLimitAed: "24,2",
		portfolioRelativeImpactPct: "24,2",
		expectedShortfallExposureAed: "24,2",
		expectedShortfallLimitAed: "24,2",
		expectedShortfallImpactPct: "24,2",
		modifiedDuration: "24,2",
		interestRateShockBps: "24,2",
		interestRateLimit: "24,2",
		dv01Aed: "24,2",
		dv01LimitAed: "24,2",
		dv01TenorGapLt3Aed: "24,2",
		dv01TenorGapGt3Aed: "24,2",
		cs01Aed: "24,2",
		cs01ShockBps: "24,2",
		cs01Limit: "24,2",
		cs01InvestmentGradeAed: "24,2",
		cs01SubInvestmentAed: "24,2",
		cs01UnratedAed: "24,2",
		betaEquity: "24,2",
		equityShockBps: "24,2",
		equityLimit: "24,2",
		creditSpreadImpactAed: "24,2",
		creditSensitiveImpactPct: "24,2",
		interestRateImpactAed: "24,2",
		rateSensitiveImpactPct: "24,2",
		fxImpactAed: "24,2",
		fxSensitiveImpactPct: "24,2",
		equityImpactAed: "24,2",
		equitySensitiveImpactPct: "24,2",
		commoditiesImpactAed: "24,2",
		commoditySensitiveImpactPct: "24,2",
		jtdLossImpactAed: "24,2",
		jtdRelativeImpactPct: "24,2",
		overallImpactAed: "24,2",
		coreTier1RelativeImpactPct: "24,2"
	};

	function showError(input, msg) {
		let span = document.getElementById(input.id + "-error");
		if (!span) {
			span = document.createElement("small");
			span.id = input.id + "-error";
			span.className = "text-danger";
			span.style.display = "block";
			input.parentNode.appendChild(span);
		}
		span.innerText = msg;
	}

	function clearError(input) {
		const span = document.getElementById(input.id + "-error");
		if (span) span.innerText = "";
	}

	function validateInput(event) {
		const input = event.target;
		const rule = fieldRules[input.id];
		const value = input.value.trim();

		if (!rule || !value) {
			clearError(input);
			return;
		}

		if (typeof rule === "number") {
			if (value.length > rule) {
				showError(input, `Max ${rule} characters allowed`);
			} else {
				clearError(input);
			}
		} else if (typeof rule === "string" && rule.includes(",")) {
			const [total, decimal] = rule.split(",").map(Number);
			const parts = value.split(".");
			const intLen = parts[0].replace(/^0+/, "").length;
			const decLen = parts[1] ? parts[1].length : 0;

			if (intLen + decLen > total || decLen > decimal) {
				showError(
					input,
					`Max ${total - decimal} digits before and ${decimal} after decimal`
				);
			} else {
				clearError(input);
			}
		}
	}

	document.addEventListener("DOMContentLoaded", () => {
		for (const id in fieldRules) {
			const input = document.getElementById(id);
			if (input) {
				input.addEventListener("input", validateInput);
			}
		}
	});
</script>

</html>