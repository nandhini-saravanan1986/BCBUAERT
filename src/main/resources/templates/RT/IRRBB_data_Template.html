<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">

<!-- 
CREATED BY	: SANJEEVI S - LIST
CREATED ON	: 04.07.2025
PURPOSE		: IRRBB DATA TEMPLATE
-->

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- CSS -->
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/font-awesome/5.9.0/css/all.min.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/datatables/1.10.19/css/jquery.dataTables.min.css}">
	<link rel="stylesheet" th:href="@{/css/CustomButton.css}" />
	<link rel="icon" th:href="@{/favicon.ico}" type="image/x-icon" />

	<!-- JavaScript -->
	<!-- jQuery core (required first) -->


	<!-- âœ… Your manually placed jQuery validation
	<script th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>
	 <script th:src="/jquery/jquery.validate.min.js"></script>
	 -->

	<!-- jQuery (required first) -->
	<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

	<!-- âœ… jQuery Validation -->
	<script src="/webjars/jquery-validation/1.19.0/jquery.validate.min.js"
		th:src="@{/webjars/jquery-validation/1.19.0/jquery.validate.min.js}"></script>

	<!-- Bootstrap + Others -->
	<script th:src="@{/webjars/popper.js/1.14.7/umd/popper.min.js}"></script>
	<script th:src="@{/webjars/bootstrap/4.3.1/js/bootstrap.min.js}"></script>
	<script th:src="@{/webjars/jquery-ui/1.12.1/jquery-ui.min.js}"></script>
	<script th:src="@{/webjars/jquery-form/4.2.2/jquery.form.min.js}"></script>
	<script th:src="@{/webjars/datatables/1.10.19/js/jquery.dataTables.min.js}"></script>
	<script th:src="@{/webjars/datatables/1.10.19/js/dataTables.bootstrap4.min.js}"></script>


	<style>

			body {
	    font-family: 'Segoe UI', Arial, sans-serif;
	    font-size: 14px;}
		
		
		
		.table .thead-light th {
	    color: #495057;
	    background-color: #e9ecef;
	    border-color: #dee2e6;
	font-family: sans-serif;
		
	}



	.modal-backdrop {
			  position: fixed;
			  top: 0;
			  left: 0;
			  width: 120vw !important;              /* ðŸ‘ˆ a bit wider than viewport */
			  height: 120vh  !important;         /* ðŸ‘ˆ a bit taller than viewport */
			  background-color: #000;    /* ðŸ‘ˆ solid black base */
			  opacity: 0.7 !important;   /* ðŸ‘ˆ slightly darker overlay */
			  z-index: 1062;             /* ðŸ‘ˆ ensures it sits below modal but above everything else */
			}
					
							/* === ROLE PAGE CUSTOM HEADER === */
							.role-page-header {
							    background-color: #ffffff;
							    padding: 15px 20px;
							}

							.role-page-title h4 {
							    color: #003366;
							    font-family: "Segoe UI", Arial, sans-serif;
							    font-size: 20px;
							    font-weight: 700;
							    margin: 0;
							}

							.role-page-underline {
							    width: 158px;
							    height: 3px;
							    background-color: #0073e6;
							    border-radius: 2px;
							    margin-top: 6px;
							    box-shadow: 0 4px 12px rgba(0, 115, 230, 0.6); /* soft glow below */
							}


							/* Add Button Styling */
							/* Base Button Style */
							.role-add-btn {
							  background: #ffffff; /* default white background */
							  color: #005fa3; /* blue text */
							  border: 2px solid #005fa3;
							  border-radius: 25px;
							  padding: 8px 18px;
							  font-size: 13px;
							  font-weight: 600;
							  cursor: pointer;
							  box-shadow: 0 2px 5px rgba(0, 64, 128, 0.1);
							  transition: all 0.3s ease;
							}

							/* Hover effect */
							.role-add-btn:hover {
							  background: linear-gradient(135deg, #005fa3, #007bff);
							  color: #fff;
							  transform: translateY(-2px);
							  box-shadow: 0 0 10px rgba(0, 102, 204, 0.4);
							}

							/* Active (clicked or selected) button */
							.role-add-btn.active {
							  background: linear-gradient(135deg, #005fa3, #007bff);
							  color: #fff;
							  border: none;
							  box-shadow: 0 2px 8px rgba(0, 64, 128, 0.3);
							  transform: translateY(-1px);
							}

							/* Optional: icon spacing */
							.role-add-btn i {
							  margin-right: 5px;
							}

							
						</style>
						
						<style>
									
										
									:root {
									  --bob-orange: #0073e6;
									  --bob-blue: #004080;
									  --overlay-bg: rgba(255, 255, 255, 0.9);
									}

									/* Full-screen overlay */
									.bob-loader {
									  position: fixed;
									  inset: 0;
									  display: flex;
									  align-items: center;
									  justify-content: center;
									  background: rgba(226, 232, 237, 0.6); /* lighter background */
									  backdrop-filter: blur(8px); /* âœ… background blur */
									  -webkit-backdrop-filter: blur(8px); /* Safari support */
									  z-index: 9999;
									  transition: opacity 0.25s ease, visibility 0.25s;
									  opacity: 1;
									  visibility: visible;
									}

									/* Hide when not active */
									.bob-loader[aria-hidden="true"] {
									  opacity: 0;
									  visibility: hidden;
									  pointer-events: none;
									}

									/* Loader card */
									.bob-loader-card {
									  display: flex;
									  flex-direction: column;
									  align-items: center;
									}

									/* Static logo */
									.logo-imgs {
									  height: 90px;
									  object-fit: contain;
									  display: block;
									}

									/* Flowing bar below logo */
									.flow-bar {
									  position: relative;
									  width: 200px; /* âœ… increased width */
									  height: 8px;  /* slightly thicker for better visibility */
									  background: #f1f1f1;
									  border-radius: 4px;
									  overflow: hidden;
									  margin-top: 10px;
									}

									.flow-line {
									  position: absolute;
									  left: -40%;
									  top: 0;
									  width: 40%;
									  height: 100%;
									  background: linear-gradient(90deg, var(--bob-orange), var(--bob-blue));
									  border-radius: 4px;
									  animation: flowMove 1.2s linear infinite;
									}

									/* Animation for flowing line */
									@keyframes flowMove {
									  0% {
									    left: -40%;
									  }
									  100% {
									    left: 100%;
									  }
									}


								</style>
								
						<script>
							function goBack() {
							    window.history.back();
							}

							function goForward() {
							    window.history.forward();
							}

							// Detect mouse near screen edges
							document.addEventListener('mousemove', function(e) {
							    const backBtn = document.getElementById('floatingBackBtn');
							    const forwardBtn = document.getElementById('floatingForwardBtn');
							    const screenWidth = window.innerWidth;

							    // Left edge (back)
							    if (e.clientX < 50) {
							        backBtn.classList.add('show');
							    } else {
							        backBtn.classList.remove('show');
							    }

							    // Right edge (forward)
							    if (screenWidth - e.clientX < 50) {
							        forwardBtn.classList.add('show');
							    } else {
							        forwardBtn.classList.remove('show');
							    }
							});
							</script>

							<style>
							/* Shared styles for both buttons */
							#floatingBackBtn, 
							#floatingForwardBtn {
							    position: fixed;
							    top: 50%;
							    background-color: #0073e6;
							    border: none;
							    color: white;
							    font-size: 20px;
							    border-radius: 50%;
							    width: 45px;
							    height: 45px;
							    display: flex;
							    align-items: center;
							    justify-content: center;
							    opacity: 0;
							    pointer-events: none;
							    transition: all 0.4s ease;
							    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
							    z-index: 999;
							}

							/* Back button */
							#floatingBackBtn {
							    left: -50px; /* hidden off-screen */
							}

							/* Forward button */
							#floatingForwardBtn {
							    right: -50px; /* hidden off-screen */
							}

							/* Show when near edge */
							#floatingBackBtn.show {
							    left: 20px;
							    opacity: 1;
							    pointer-events: auto;
							}

							#floatingForwardBtn.show {
							    right: 20px;
							    opacity: 1;
							    pointer-events: auto;
							}

							/* Hover animation */
							#floatingBackBtn:hover,
							#floatingForwardBtn:hover {
							    background-color: #005bb5;
							    transform: scale(1.1);
							}
							</style>	
							
							
							
							
							
							
							
					
	<style>
		.btns {
			float: right;
			margin: 5px;
		}

		.col-sm-5 {
			padding-bottom: 15px;
		}

		.list-body {
			padding: 0px;
		}

		.error {
			color: red;
			padding-left: 10px;
		}

		.formline {
			padding-bottom: 15px;
		}

		.btn-primary {
			background-color: #E77400;
			border-color: #0c0c0c;
		}


		.btn-primary:not(:disabled):not(.disabled).active,
		.btn-primary:not(:disabled):not(.disabled):active,
		.show>.btn-primary.dropdown-toggle {
			color: #fff;
			background-color: #cc0000;
			/* corrected to a valid red */
			border-color: #161617;
		}


		#finusertb {
			width: 460px;
		}

		.dataTables_wrapper .dataTables_paginate .paginate_button {
			padding: 0px;
		}
	</style>




	<style>
		.card {
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
			border-radius: 8px;
		}

		.card-header h5 {
			font-size: 22px;
			color: #fff;
			font-weight: 600;
		}

		.nav-tabs .nav-link {
			font-weight: 500;
			border: 1px solid #dee2e6;
			border-bottom: none;
			border-radius: 4px 4px 0 0;
			background-color: #f1f1f1;
			margin-right: 5px;
		}

		.nav-tabs .nav-link.active {
			background-color: #ffffff;
			border-color: #dee2e6 #dee2e6 #ffffff;
		}

		.table-responsive {
			border: 1px solid #dee2e6;
			border-radius: 4px;
		}

		.table-hover tbody tr:hover {
			background-color: #f3f6f9;
		}

		

		.card-footer {
			padding: 10px;
			border-top: 1px solid #ccc;
		}

		.btn-xs {
			padding: 4px 12px;
			font-size: 14px;
			border-radius: 4px;
		}

		
		.fa-edit:hover {
			color: #28a745;
			transform: scale(1.1);
		}



		td {
			border: 1px solid rgb(0, 164, 166);
			overflow: hidden;
			white-space: nowrap;
			text-overflow: ellipsis;
		}
	</style>


	<style>
		.form-group {
			position: relative;
			margin-bottom: 1.5rem;
		}

		.form-control {
			width: 100%;
			border: 2px solid #ccc;
			border-radius: 8px;
			font-size: 1rem;
			outline: none;
			background: transparent;
			transition: border-color 0.3s ease, padding-top 0.3s ease;
		}

		.error {
			color: red;
			padding-top: 15px;
		}



		.form-control:focus {
			border-color: #007bff;
		}

		.form-legend {
			position: absolute;
			top: 50%;
			left: 15px;
			transform: translateY(-50%);
			font-size: 1rem;
			color: #aaa;
			background: white;
			padding: 0 5px;
			pointer-events: none;
			transition: 0.3s ease;
		}

		/* When input or select is focused or has a value, move the label up */
		.form-control:focus~.form-legend,
		.form-control:not(:placeholder-shown)~.form-legend {
			top: -8px;
			font-size: 1rem;
			color: #007bff;
		}

		/* Hover effect when the input/select is focused */
		.form-control:focus:hover~.form-legend {
			color: #0056b3;
			/* Darker shade of blue on hover */
		}

		/* Ensure the label returns to the normal color after focus or hover is removed */
		.form-control:not(:focus)~.form-legend {
			color: #aaa;
			/* Normal label color */
		}
	</style>

	<style>
		/* Red border for invalid inputs */
		input.error,
		select.error {
			border: 2px solid red !important;
		}

		/* Error message style */
		label.error {
			color: red;
			font-size: 0.85em;
			margin-top: 5px;
			display: block;
		}
	</style>
	
	<style>
	
	.role-add-btnl {
    min-width: 150px; /* or a value you prefer */
   
    padding: 8px 12px;
    text-align: center;
}
	
	</style>
	<script>
		$(document).ready(function () {
			$("#nostroForm").validate({
				errorClass: "error", // use 'error' class for styling
				errorElement: "label", // wrap error messages in <label>

				// Place the error after the input field
				errorPlacement: function (error, element) {
					if (element.parent('.form-group').length) {
						error.insertAfter(element); // default
					} else {
						error.insertAfter(element);
					}
				},

				// Highlight and unhighlight fields
				highlight: function (element) {
					$(element).addClass("error");
				},
				unhighlight: function (element) {
					$(element).removeClass("error");
				},

				// On successful validation, run this
				submitHandler: function (form) {
					submitForm(); // your custom submit function
				}
			});
		});
	</script>

	<script>

		function submitForm() {

			document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
			
			const reportName = 'CBUAE_IRRBB_Data_Template';
			const submitUrl = './createDataControl?report_name=' + encodeURIComponent(reportName);
			const formData = $("#nostroForm").serialize();

			$.ajax({
				url: submitUrl,
				type: "POST",
				data: formData,
				success: function (response) {

					document.getElementById("bob-loader").setAttribute("aria-hidden", "true");                    $("#alertmsg1").text(response);
					$("#alert1").modal("toggle");
					//location.href = 'Nostro_Account_Bal';
				},
				error: function (xhr, status, error) {
					$("#loader").modal("hide");

					console.error("Error:", error);
					alert("Error occurred: " + error);
					
				}
			});
		}


	</script>

	<script th:inline="javascript">


		function home() {

			document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
						location.href = 'Dashboard'
		}

		function back() {

			document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
			window.history.back();
		}

		function list() {

			document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
			location.href = 'IRRBB_data_Template?formmode=DiscountRate';
		}

		function nostro() {

			document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
			location.href = 'Investment_Securities_Data';
		}
		$(document).ready(function () {
			// On modal close, redirect to your controller method path
			$('#alert').on('hidden.bs.modal', function () {

				document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
				window.location.href = './Investment_Securities_Data';
			});
		});

		function updateform(event) {

			event.preventDefault();

			document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
			$.ajax({
				url: `./updateirrbear`,
				type: 'POST',
				data: $('#irrbbear').serialize(),
				success: function (response) {

					document.getElementById("bob-loader").setAttribute("aria-hidden", "true");

					$("#alertmsg").text(response);
					$("#alert").modal("toggle");

				},
				error: function (xhr, status, error) {
					console.error("Error in modify:", error);

					document.getElementById("bob-loader").setAttribute("aria-hidden", "true");
					alert("Failed to modify. Please try again.");
				}
			});

		}

	</script>

</head>


<script>
	function navigateToTab(tabId) {

		document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
		if (tabId === 'data') {
			window.location.href = 'IRRBB_data_Template?formmode=list';
		} else if (tabId === 'datacontrols') {
			window.location.href = 'IRRBB_data_Template?formmode=add';
		}
		else if(tabId == 'EAR'){
			window.location.href = 'IRRBB_data_Template?formmode=EAR';
		}
		else if(tabId == 'DiscountRate'){
			window.location.href = 'IRRBB_data_Template?formmode=DiscountRate';
		}
	}


	function handleClick(tabId) {
		// Remove active class from all buttons
		document.querySelectorAll('.role-add-btn').forEach(btn => btn.classList.remove('active'));
		document.getElementById(tabId + '-btn').classList.add('active');

		// Hide all panes
		document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('show', 'active'));
		document.getElementById(tabId).classList.add('show', 'active');
	}

	// On page load, detect formmode and show corresponding tab
	window.addEventListener('DOMContentLoaded', function () {
		const params = new URLSearchParams(window.location.search);
		const formmode = params.get('formmode');

		if (formmode === 'list') {
			handleClick('data');
		} 
		
		else if(formmode === 'EAR'){
			handleClick('ear');
		}
		else if(formmode==='DiscountRate'){
			handleClick('DiscountRate');
		}
		else {
			handleClick('datacontrols'); // default or formmode=add
		}
	});
</script>
<script>
	function updateformdiscount(event) {

			event.preventDefault();

			document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
			$.ajax({
				url: `./updateirrbdiscount`,
				type: 'POST',
				data: $('#irrbbdiscount').serialize(),
				success: function (response) {

					document.getElementById("bob-loader").setAttribute("aria-hidden", "true");

					$("#alertmsg").text(response);
					$("#alert").modal("toggle");

				},
				error: function (xhr, status, error) {
					console.error("Error in modify:", error);

					document.getElementById("bob-loader").setAttribute("aria-hidden", "true");
					alert("Failed to modify. Please try again.");
				}
			});

		}

	</script>





<script>
	function downloadIrrbbeve() {

		document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
		$.ajax({
			url: './downloadIrrbbeveExcel', // This URL must match your controller endpoint
			type: 'GET',
			xhrFields: {
				responseType: 'blob' // Essential for handling binary file data
			},
			success: function (data, textStatus, jqXHR) {

				document.getElementById("bob-loader").setAttribute("aria-hidden", "true");
				// Check for a "No Content" response from the server
				if (jqXHR.status === 204 || !data || data.size < 100) {
					showResultModal('Information', 'No data was available to create the report.');
					return;
				}

				const blob = new Blob([data], {type: 'application/vnd.ms-excel'});
				const url = window.URL.createObjectURL(blob);
				const a = document.createElement('a');

				a.style.display = 'none';
				a.href = url;
				a.download = 'IRRBB_DATA_EVE.xls'; // The filename for the user

				document.body.appendChild(a);
				a.click();

				// Clean up the temporary URL and link
				window.URL.revokeObjectURL(url);
				document.body.removeChild(a);

				showResultModal('Success', 'The file has been downloaded successfully.');

			},
			error: function (jqXHR, textStatus, errorThrown) {

				document.getElementById("bob-loader").setAttribute("aria-hidden", "true");	
							console.error("Download failed:", textStatus, errorThrown);
				showResultModal('Error', 'An error occurred while downloading the file. Please check server logs and try again.');
			}
		});
	}

	function showResultModal(title, message) {
		$('#resultModalLabel').text(title);
		$('#resultModalBody').text(message);

		document.getElementById("bob-loader").setAttribute("aria-hidden", "false");	}
</script>


<script>
	function downloadIrrbbear() {

		document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
		$.ajax({
			url: './downloadIrrbbearExcel', // This URL must match your controller endpoint
			type: 'GET',
			xhrFields: {
				responseType: 'blob' // Essential for handling binary file data
			},
			success: function (data, textStatus, jqXHR) {

				document.getElementById("bob-loader").setAttribute("aria-hidden", "true");
				// Check for a "No Content" response from the server
				if (jqXHR.status === 204 || !data || data.size < 100) {
					showResultModal('Information', 'No data was available to create the report.');
					return;
				}

				const blob = new Blob([data], {type: 'application/vnd.ms-excel'});
				const url = window.URL.createObjectURL(blob);
				const a = document.createElement('a');

				a.style.display = 'none';
				a.href = url;
				a.download = 'IRRBB_DATA_EAR.xls'; // The filename for the user

				document.body.appendChild(a);
				a.click();

				// Clean up the temporary URL and link
				window.URL.revokeObjectURL(url);
				document.body.removeChild(a);

				showResultModal('Success', 'The file has been downloaded successfully.');

			},
			error: function (jqXHR, textStatus, errorThrown) {

				document.getElementById("bob-loader").setAttribute("aria-hidden", "true");	
							console.error("Download failed:", textStatus, errorThrown);
				showResultModal('Error', 'An error occurred while downloading the file. Please check server logs and try again.');
			}
		});
	}

	function showResultModal(title, message) {
		$('#resultModalLabel').text(title);
		$('#resultModalBody').text(message);

		document.getElementById("bob-loader").setAttribute("aria-hidden", "false");	}
</script>


<script>
	function downloadIrrbbdiscount() {

		document.getElementById("bob-loader").setAttribute("aria-hidden", "false");
		$.ajax({
			url: './downloadIrrbbdiscountrateExcel', // This URL must match your controller endpoint
			type: 'GET',
			xhrFields: {
				responseType: 'blob' // Essential for handling binary file data
			},
			success: function (data, textStatus, jqXHR) {

				document.getElementById("bob-loader").setAttribute("aria-hidden", "true");
				// Check for a "No Content" response from the server
				if (jqXHR.status === 204 || !data || data.size < 100) {
					showResultModal('Information', 'No data was available to create the report.');
					return;
				}

				const blob = new Blob([data], {type: 'application/vnd.ms-excel'});
				const url = window.URL.createObjectURL(blob);
				const a = document.createElement('a');

				a.style.display = 'none';
				a.href = url;
				a.download = 'IRRBB_DATA_DISCOUNT_RATE.xls'; // The filename for the user

				document.body.appendChild(a);
				a.click();

				// Clean up the temporary URL and link
				window.URL.revokeObjectURL(url);
				document.body.removeChild(a);

				showResultModal('Success', 'The file has been downloaded successfully.');

			},
			error: function (jqXHR, textStatus, errorThrown) {

				document.getElementById("bob-loader").setAttribute("aria-hidden", "true");		
						console.error("Download failed:", textStatus, errorThrown);
				showResultModal('Error', 'An error occurred while downloading the file. Please check server logs and try again.');
			}
		});
	}

	function showResultModal(title, message) {
		$('#resultModalLabel').text(title);
		$('#resultModalBody').text(message);

		document.getElementById("bob-loader").setAttribute("aria-hidden", "false");	}
</script>

<title>RiskInsights - IRRBB</title>

<body>
	<div class="container-fluid" style="padding-left:0px; padding-right:0px;">
		
			<div th:insert="XBRLHeaderMenu :: header"></div>
		
			<div class="role-page-header d-flex justify-content-between align-items-center"
				th:if="${formmode == 'list' or formmode == 'add' or formmode =='null' or formmode=='EAR' or formmode=='DiscountRate'}">
				<div class="float-left role-page-title">
					<h5>IRRBB DATA TEMPLATE</h5>
					<div style="width: 212px; height: 3px;background-color: #0073e6;border-radius: 2px;
		margin-top: 6px;box-shadow: 0 4px 12px rgba(0, 115, 230, 0.6);"></div>
				</div>
			</div>
		
		
			<!-- -------------------User List Starts----------------------------------------------------- -->
			<div style="padding-right: 10px;padding-left: 20px;"
				th:if="${formmode == 'list' or formmode == 'add' or formmode =='null' or formmode =='EAR' or formmode=='DiscountRate' or  formmode=='editeve' or  formmode=='editear' }">
            <!-- Tabs -->
				<div  class="role-page-header d-flex justify-content-between align-items-center" >
					<div class="float-left" >
					<button  class="role-add-btn" id="datacontrols-btn" onclick="navigateToTab('datacontrols')">Data
						Controls</button>
					<button  class="role-add-btn" id="template-btn" onclick="handleClick('template')">Template
						Instructions</button>
					<button class="role-add-btn" id="data-btn" onclick="navigateToTab('data')">EVE</button>
					<button class="role-add-btn" id="ear-btn" onclick="navigateToTab('EAR')">EAR</button>
					<button style="white-space:nowrap" class="role-add-btn" id="DiscountRate-btn" onclick="navigateToTab('DiscountRate')">Discount Rate</button>
					</div>
					<div class="float-right" >
					
					<!-- ---LIST MEAN--EVE-- -->
						<button th:if="${formmode} =='list'" type="button" class="role-add-btn"
							onclick="downloadIrrbbeve();">
							<i class="fa fa-download"></i> Download
						</button>
						
						<!-- ---EAR DOWNLOAD-->
						<button th:if="${formmode} =='EAR'" type="button" class="role-add-btn"
							onclick="downloadIrrbbear();">
							<i class="fa fa-download"></i> Download
						</button>
						
						<!-- ---DiscountRate DOWNLOAD-->
						<button th:if="${formmode} =='DiscountRate'" type="button" class="role-add-btn"
							onclick="downloadIrrbbdiscount();">
							<i class="fa fa-download"></i> Download
						</button>



					</div>
				</div>


				<div class="tab-content" id="myTabContent" style="margin-top: 15px;"
					th:if="${formmode == null or formmode == 'add'}">
					<div class="tab-pane fade show active" id="datacontrols" role="tabpanel">

						<div class="row">
							<div class="col-sm-12 finuserapply">
								<form id="nostroForm" method="post" autocomplete="off">
									<div class="card-body" style="max-height:400px; overflow-y:auto">


										<input autocomplete="false" name="hidden" type="text" style="display: none;">
										<div class="form-group" style="border:none">
											<div class="row formline">
												<div class="col-sm-1"></div>
												<div class="form-group col-md-4">
													<select id="submittingInstitution" name="submittingInstitution"
														class="form-control" required>
														<option value="">-- Select Institution --</option>
														<option value="Bank of Baroda">Bank of Baroda</option>
													</select>
													<label for="submittingInstitution" class="form-legend">Submitting
														Institution</label>
												</div>


												<div class="col-sm-1"></div>

												<div class="form-group col-md-4">
													<input type="date" id="portfolioDate" name="portfolioDate"
														class="form-control" placeholder=" " required />
													<label for="portfolioDate" class="form-legend">Portfolio
														date</label>
												</div>
											</div>

											<!-- Contact Employee 1 Name / Title -->
											<!-- Contact Employee 1 Group -->
											<div class="form-group"
												style="border: 1px solid #e0e0e0; padding: 15px; margin-bottom: 20px; border-radius: 5px;">
												<div class="row formline">
													<div class="col-sm-12">
														<label style="font-weight: bold; color: #007B8A;">Contact
															Details(Employee 1)</label>
													</div>
												</div>
												<div class="row formline">
													<div class="form-group col-md-4">
														<input type="text" id="contactEmployee1Name1"
															name="contactEmployee1Name1" class="form-control"
															placeholder=" " required />
														<label for="contactEmployee1Name1"
															class="form-legend">Name</label>
													</div>


													<div class="form-group col-md-4">
														<input type="text" id="contactEmployee1Title1"
															name="contactEmployee1Title1" class="form-control"
															placeholder=" " required />
														<label for="contactEmployee1Title1"
															class="form-legend">Title</label>
													</div>



													<div class="form-group col-md-4">
														<input type="email" id="contactEmployee1Email1"
															name="contactEmployee1Email1" class="form-control"
															placeholder=" " required />
														<label for="contactEmployee1Email1"
															class="form-legend">Email</label>
													</div>
													<div class="col-sm-3">
													</div>

												</div>
											</div>
											<div class="form-group"
												style="border: 1px solid #e0e0e0; padding: 15px; margin-bottom: 20px; border-radius: 5px;">
												<div class="row formline">
													<div class="col-sm-12">
														<label style="font-weight: bold; color: #007B8A;">Contact
															Details(Employee 2)</label>
													</div>
												</div>
												<div class="row formline">
													<div class="form-group col-md-4">
														<input type="text" id="contactEmployee2Name2"
															name="contactEmployee2Name2" class="form-control"
															placeholder=" " required />
														<label for="contactEmployee2Name2"
															class="form-legend">Name</label>
													</div>


													<div class="form-group col-md-4">
														<input type="text" id="contactEmployee2Title2"
															name="contactEmployee2Title2" class="form-control"
															placeholder=" " required />
														<label for="contactEmployee2Title2"
															class="form-legend">Title</label>
													</div>



													<div class="form-group col-md-4">
														<input type="email" id="contactEmployee2Email2"
															name="contactEmployee2Email2" class="form-control"
															placeholder=" " required />
														<label for="contactEmployee2Email2"
															class="form-legend">Email</label>
													</div>
													<div class="col-sm-3">
													</div>

												</div>
												<!-- Contact Employee 2 Group -->
											</div>
											<div class="form-group"
												style="border: 1px solid #e0e0e0; padding: 15px; margin-bottom: 20px; border-radius: 5px;">
												<div class="row formline">
													<div class="col-sm-12">
														<label style="font-weight: bold; color: #007B8A;">Sign
															Off</label>
													</div>
												</div>

												<!-- Sign-off CRO Name / Email -->
												<div class="row formline">
													<div class="col-sm-1"></div>
													<div class="form-group col-md-4">
														<input type="text" id="signOffCroName" name="signOffCroName"
															class="form-control" placeholder=" " required />
														<label for="signOffCroName" class="form-legend">CRO Name</label>
													</div>
													<div class="col-sm-1"></div>
													<div class="form-group col-md-4">
														<input type="email" id="signOffCroEmail" name="signOffCroEmail"
															class="form-control" placeholder=" " required />
														<label for="signOffCroEmail" class="form-legend">CRO
															Email</label>
													</div>

												</div>

												<!-- Sign-off CFO Name / Email -->
												<div class="row formline">
													<div class="col-sm-1"></div>
													<div class="form-group col-md-4">
														<input type="text" id="signOffCfoName" name="signOffCfoName"
															class="form-control" placeholder=" " required />
														<label for="signOffCfoName" class="form-legend">CFO Name</label>
													</div>

													<div class="col-sm-1"></div>
													<div class="form-group col-md-4">
														<input type="email" id="signOffCfoEmail" name="signOffCfoEmail"
															class="form-control" placeholder=" " required />
														<label for="signOffCfoEmail" class="form-legend">CFO
															Email</label>
													</div>

												</div>

												<!-- Sign-off Head of Treasury Name / Email -->
												<div class="row formline">
													<div class="col-sm-1"></div>
													<div class="form-group col-md-4">
														<input type="text" id="signOffHeadOfTreasuryName"
															name="signOffHeadOfTreasuryName" class="form-control"
															placeholder=" " required />
														<label for="signOffHeadOfTreasuryName" class="form-legend">Head
															of Treasury Name</label>
													</div>

													<div class="col-sm-1"></div>
													<div class="form-group col-md-4">
														<input type="email" id="signOffHeadOfTreasuryEmail"
															name="signOffHeadOfTreasuryEmail" class="form-control"
															placeholder=" " required />
														<label for="signOffHeadOfTreasuryEmail" class="form-legend">Head
															of Treasury Email</label>
													</div>
												</div>
											</div>

										</div>


								</form>
							</div>
						</div>
						<div class="card-footer text-center"
							style="background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); padding: 10px; border-top: 2px solid #ccc;">
							


							<!--<button th:if="${formmode == 'null' or formmode == 'add'}"  type="button" class="role-add-btn"
                  onclick="submitForm()">Save</button>-->

							<button th:if="${formmode == null or formmode == 'add'}" type="button"
								class="role-add-btn" onclick="submitForm()">Save</button>


						</div>
					</div>
				</div>

				<!-- --------------------------------------DATA CONTROL ENDS--------------------------------------------- -->

				<!-- --------------------------------------TEMPLATE STARTS--------------------------------------------- -->

				<div class="tab-pane fade" id="template" role="tabpanel"
					th:if="${formmode == null or formmode == 'add'}">
					<p>Templates tabs</p>

					<div class="card-footer text-center"
						style="background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); padding: 10px; border-top: 2px solid #ccc;">
						

						<button type="button" class="role-add-btn" onclick="submitForm()">
							Save
						</button>

					</div>
				</div>


				<!-- --------------------------------------TEMPLATE ENDS--------------------------------------------- -->
<!-- -----------------------------------DATA LIST STARTS -------------------------------------------- -->
				<div class="tab-pane fade" id="data" role="tabpanel" th:if="${formmode=='list'}" >
					<div class="table-responsive" style=" max-height: 400px; overflow: auto; border:none;">
						<table id="usertable" class="table table-bordered table-striped table-hover"
							style="min-width: 2000px;">

							<thead class="thead-light">
								 
								<tr>
								    <th>Action</th>
									<th>Report Date</th>
									<th>Bank Name</th>
									<th>Group_Head_Office_Subsidiary</th>
									<th>Bank Symbol</th>
									<th>Conventional/Islamic</th>
                                    <th>Local/Foreign</th>
									<th>CBUAE Tiering</th>
								    <th>Subsidiary</th>
									<th>Scenario</th>
									<th>GL_Level_1</th>
									<th>GL_Level_2</th>
									<th>GL_Level_3</th>
									<th>Option type </th>
									<th>Rate type</th>
                                   <th>Reference_rate </th>
									<th>Instrument_currency</th>
									<th>Oustanding_Balance</th>
									<th>Overnight</th>
									<th>ON_to_1M</th>
									<th>1M_to_3M</th>
									<th>3M_to_6M</th>
                                    <th>6M_to_9M</th>
									<th>9M_to_1Y</th>
									<th>1Y_to_5Y</th>
									<th>1.5Y_to_2Y</th>
									<th>2Y_to_3Y</th>
									<th>3Y_to_4Y</th>
									<th>4Y_to_5Y</th>
									<th>5Y_to_6Y</th>
									<th>6Y_to_7Y</th>
									<th>7Y_to_8Y</th>
									<th>8Y_to_9Y</th>
									<th>9Y_to_10Y</th>
									<th>10Y_to_15Y</th>
									<th>15Y_to_20Y</th>
									<th>20Y_Above</th>
									<th>Non_rate_sensitive</th>
									

								</tr>
							</thead>
							<tbody th:each="data : ${ISList}">
								<tr>
								<td><a
											th:href="@{'/IRRBB_data_Template?formmode=editeve&SI_NO=' + ${data.SI_NO}}">
											<i class="fa fa-edit" style="color: #007bff;"></i></a>
									</td>
									
									<!-- Financial Institution Information 8-->
									
									<td th:text="${#dates.format(data.date, 'dd-MM-yyyy')}"></td>
								     <td th:text="${data.bankName}"></td>
									<td th:text="${data.groupHeadOfficeSubsidiary}"></td>
									  <td th:text="${data.bankSymbol}"></td>
									<td th:text="${data.conventionalOrIslamic}"></td>
                                    <td th:text="${data.localOrForeign}"></td>
									<td th:text="${data.cbuaeTiering}"></td>
									<td th:text="${data.subsidiary}"></td>
								     <td th:text="${data.scenario}"></td>
									<td th:text="${data.glLevel1}"></td>
									  <td th:text="${data.glLevel2}"></td>
									<td th:text="${data.glLevel3}"></td>
                                    <td th:text="${data.optionType}"></td>
									<td th:text="${data.rateType}"></td>
									<td th:text="${data.referenceRate}"></td>
								     <td th:text="${data.instrumentCurrency}"></td>
									<td th:text="${#numbers.formatDecimal(data.outstandingBalance,1,'COMMA',2,'POINT')}"></td>
									  <td th:text="${#numbers.formatDecimal(data.overnight,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.onToOneM,1,'COMMA',2,'POINT')}"></td>
                                    <td th:text="${#numbers.formatDecimal(data.oneMToThreeM,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.threeMToSixM,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.sixMonthToNineM,1,'COMMA',2,'POINT')}"></td>
                                    <td th:text="${#numbers.formatDecimal(data.nineMonthToOneY,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.oneYToFiveY,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.onePointFiveYToTwoY,1,'COMMA',2,'POINT')}"></td>
								     <td th:text="${#numbers.formatDecimal(data.twoYToThreeY,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.threeYToFourY,1,'COMMA',2,'POINT')}"></td>
									  <td th:text="${#numbers.formatDecimal(data.fourYToFiveY,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.fiveYToSixY,1,'COMMA',2,'POINT')}"></td>
                                    <td th:text="${#numbers.formatDecimal(data.sixYToSevenY,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.sevenYToEightY,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.eightYToNineY,1,'COMMA',2,'POINT')}"></td>
								     <td th:text="${#numbers.formatDecimal(data.nineYToTenY,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.tenYToFifteenY,1,'COMMA',2,'POINT')}"></td>
									  <td th:text="${#numbers.formatDecimal(data.fifteenYToTwentyY,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.twentyYearAbove,1,'COMMA',2,'POINT')}"></td>
                                    <td th:text="${#numbers.formatDecimal(data.nonRateSensitive,1,'COMMA',2,'POINT')}"></td>
									</tr>
							</tbody>
						</table>
					</div>


					<div class="card-footer text-center"
						style="background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); padding: 10px; border-top: 2px solid #ccc;">
					


						<button th:if="${formmode == 'null' or formmode == 'add'}" type="button" class="role-add-btn"
							onclick="submitForm()">Save</button>



					</div>

				</div>
				
				
				<!------------------ edit starts for IRRBBEVE-------------------------------------------------------------->
		
<div th:if="${formmode == 'editeve'}" style="align-items:center">

<div class="row">
<form th:action="@{/updateirrbeve}"  th:object="${irrbbeve}" method="post" >
	<div class="card" style="margin-left: 15px;margin-right: 15px;">
		
		
		<div class="role-page-header d-flex justify-content-between align-items-center">
								    <!-- Left: Page Title -->
								    <div class="role-page-title">
								        <h4 >IRRBB EVE - Edit</h4>
		<div style="width: 156px; height: 3px;background-color: #0073e6;border-radius: 2px;
		margin-top: 6px;box-shadow: 0 4px 12px rgba(0, 115, 230, 0.6);"></div>

								  
								</div>
								</div>
							
<div class="card-body" style="max-height: 500px; overflow-y: auto;">

 
  
   <input type="hidden" th:field="*{SI_NO}" />

<div class="form-group row">
    <label class="col-sm-2 col-form-label">Report Date</label>
    <div class="col-sm-4">
        <input type="date" class="form-control" th:field="*{date}" readonly />
    </div>

   <label class="col-sm-2 col-form-label">Bank Name</label>
  <div class="col-sm-4">
    <select class="form-control vchar-100" th:field="*{bankName}" onchange="handleBankChange(this)">
      <option value="">-- Select Bank --</option>
      <option th:each="bank : ${bankList}" th:value="${bank.bankName}" th:text="${bank.bankName}"></option>
    </select>
  </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">Group Head Office/Subsidiary</label>
    <div class="col-sm-4">
    <select class="form-control vchar-20" th:field="*{groupHeadOfficeSubsidiary}">
        <option value="" disabled selected>-- Select --</option>
        <option value="Head Office">Head Office</option>
        <option value="Subsidiary">Subsidiary</option>
    </select>
</div>

      <label class="col-sm-2 col-form-label">Bank Symbol</label>
  <div class="col-sm-4"><input type="text" class="form-control vchar-50" th:field="*{bankSymbol}" id="bankSymbol" readonly /></div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">Conventional/Islamic</label>
  <div class="col-sm-4"><input type="text" class="form-control vchar-50" th:field="*{conventionalOrIslamic}" id="conventionalIslamic" readonly /></div>

    <label class="col-sm-2 col-form-label">Local or Foreign</label>
    <div class="col-sm-4">
<input type="text" class="form-control vchar-50" th:field="*{localOrForeign}" id="localForeign" readonly />    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">CBUAE Tiering</label>
    <div class="col-sm-4">
        <input type="text" class="form-control vchar-50" th:field="*{cbuaeTiering}" id="cbuaeTiering" readonly /></div>


    <label class="col-sm-2 col-form-label">Subsidiary</label>
    <div class="col-sm-4">
        <input type="text" class="form-control vchar-100" th:field="*{subsidiary}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">Scenario</label>
<div class="col-sm-4">
    <select class="form-control vchar-20" th:field="*{scenario}">
        <option value="" disabled selected>Select Scenario</option>
        <option value="Base">Base</option>
        <option value="Parallel_up">Parallel_up</option>
        <option value="Parallel_down">Parallel_down</option>
    </select>
</div>


   <label class="col-sm-2 col-form-label">GL Level 1</label>
<div class="col-sm-4">
    <select class="form-control vchar-20" th:field="*{glLevel1}">
        <option value="">Select GL Level 1</option>
        <option value="Assets">Assets</option>
        <option value="Liabilities">Liabilities</option>
        <option value="Equity">Equity</option>
        <option value="Off_BS">Off_BS</option>
    </select>
</div>

</div>

<div class="form-group row">
   <label class="col-sm-2 col-form-label">GL Level 2</label>
<div class="col-sm-4">
    <select class="form-control vchar-100" th:field="*{glLevel2}">
        <option value="">-- Select GL Level 2 --</option>
        <option value="Cash_and_balances_with_central_banks">Cash and balances with central banks</option>
        <option value="Due_from_banks_and_financial_institutions">Due from banks and financial institutions</option>
        <option value="Derivatives_Financial_Assets">Derivatives Financial Assets</option>
        <option value="Securities">Securities</option>
        <option value="Loans_and_Advances_Performing">Loans and Advances Performing</option>
        <option value="Loans_and_Advances_Non_Performing">Loans and Advances Non Performing</option>
        <option value="Investment_in_associates">Investment in associates</option>
        <option value="Investment_in_property">Investment in property</option>
        <option value="Intangible_Assets">Intangible Assets</option>
        <option value="Other_Assets">Other Assets</option>
        <option value="Fixed_Assets">Fixed Assets</option>
    </select>
</div>


    <label class="col-sm-2 col-form-label">GL Level 3</label>
<div class="col-sm-4">
    <select class="form-control vchar-100" th:field="*{glLevel3}">
        <option value="">-- Select GL Level 3 --</option>
        <option value="CASH AND CASH ITEMS">CASH AND CASH ITEMS</option>
        <option value="CENTRAL BANK CURRENT ACCOUNT">CENTRAL BANK CURRENT ACCOUNT</option>
        <option value="CENTRAL BANK RESERVE ACCOUNT">CENTRAL BANK RESERVE ACCOUNT</option>
        <option value="DUE FROM CENTRAL BANK â€“ ODF">DUE FROM CENTRAL BANK â€“ ODF</option>
        <option value="DUE FROM CENTRAL BANK - CD">DUE FROM CENTRAL BANK - CD</option>
        <option value="REVERSE REPOS WITH CENTRAL BANKS">REVERSE REPOS WITH CENTRAL BANKS</option>
    </select>
</div>

</div>

<div class="form-group row">
  <label class="col-sm-2 col-form-label">Option Type</label>
<div class="col-sm-4">
    <select class="form-control vchar-20" th:field="*{optionType}">
        <option value="">-- Select Option Type --</option>
        <option value="Behavioural">Behavioural</option>
        <option value="Automatic">Automatic</option>
        <option value="NA">NA</option>
    </select>
</div>


    <label class="col-sm-2 col-form-label">Rate Type</label>
<div class="col-sm-4">
    <select class="form-control vchar-20" th:field="*{rateType}">
        <option value="">-- Select Rate Type --</option>
        <option value="Fixed">Fixed</option>
        <option value="Floating">Floating</option>
        <option value="Admin">Admin</option>
        <option value="NA">NA</option>
    </select>
</div>

</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">Reference Rate</label>
    <div class="col-sm-4">
        <input type="text" class="form-control vchar-50" th:field="*{referenceRate}" />
    </div>

    <label class="col-sm-2 col-form-label">Instrument Currency</label>
<div class="col-sm-4">
    <select class="form-control vchar-10" th:field="*{instrumentCurrency}">
        <option value="">-- Select Instrument Currency --</option>
        <option value="AFN">AFN</option>
        <option value="EUR">EUR</option>
        <option value="ALL">ALL</option>
        <option value="DZD">DZD</option>
        <option value="USD">USD</option>
        <option value="AOA">AOA</option>
        <option value="XCD">XCD</option>
        <option value="ARS">ARS</option>
        <option value="AMD">AMD</option>
        <option value="AWG">AWG</option>
        <option value="AUD">AUD</option>
        <option value="AZN">AZN</option>
        <option value="BSD">BSD</option>
        <option value="BHD">BHD</option>
        <option value="BDT">BDT</option>
        <option value="BBD">BBD</option>
        <option value="BYN">BYN</option>
        <option value="BZD">BZD</option>
        <option value="XOF">XOF</option>
        <option value="BMD">BMD</option>
        <option value="INR">INR</option>
        <option value="BTN">BTN</option>
        <option value="BOB">BOB</option>
        <option value="BOV">BOV</option>
        <option value="BAM">BAM</option>
        <option value="BWP">BWP</option>
        <option value="NOK">NOK</option>
        <option value="BRL">BRL</option>
        <option value="BND">BND</option>
        <option value="BGN">BGN</option>
        <option value="BIF">BIF</option>
        <option value="CVE">CVE</option>
        <option value="KHR">KHR</option>
        <option value="XAF">XAF</option>
        <option value="CAD">CAD</option>
        <option value="KYD">KYD</option>
        <option value="CLP">CLP</option>
        <option value="CLF">CLF</option>
        <option value="CNY">CNY</option>
        <option value="COP">COP</option>
        <option value="COU">COU</option>
        <option value="KMF">KMF</option>
        <option value="CDF">CDF</option>
        <option value="NZD">NZD</option>
        <option value="CRC">CRC</option>
        <option value="CUP">CUP</option>
        <option value="CUC">CUC</option>
        <option value="ANG">ANG</option>
        <option value="CZK">CZK</option>
        <option value="DKK">DKK</option>
        <option value="DJF">DJF</option>
        <option value="DOP">DOP</option>
        <option value="EGP">EGP</option>
        <option value="SVC">SVC</option>
        <option value="ERN">ERN</option>
        <option value="SZL">SZL</option>
        <option value="ETB">ETB</option>
        <option value="FKP">FKP</option>
        <option value="FJD">FJD</option>
        <option value="XPF">XPF</option>
        <option value="GMD">GMD</option>
        <option value="GEL">GEL</option>
        <option value="GHS">GHS</option>
        <option value="GIP">GIP</option>
        <option value="GTQ">GTQ</option>
        <option value="GBP">GBP</option>
        <option value="GNF">GNF</option>
        <option value="GYO">GYO</option>
        <option value="HTG">HTG</option>
        <option value="HNL">HNL</option>
        <option value="HKD">HKD</option>
        <option value="HUF">HUF</option>
        <option value="ISK">ISK</option>
        <option value="IDR">IDR</option>
        <option value="XDR">XDR</option>
        <option value="IRR">IRR</option>
        <option value="IQD">IQD</option>
        <option value="ILS">ILS</option>
        <option value="JMD">JMD</option>
        <option value="JPY">JPY</option>
        <option value="JOD">JOD</option>
        <option value="KZT">KZT</option>
        <option value="KES">KES</option>
        <option value="KPW">KPW</option>
        <option value="KRW">KRW</option>
        <option value="KWD">KWD</option>
        <option value="KGS">KGS</option>
        <option value="LAK">LAK</option>
        <option value="LBP">LBP</option>
        <option value="LSL">LSL</option>
        <option value="ZAR">ZAR</option>
        <option value="LRD">LRD</option>
        <option value="LYD">LYD</option>
        <option value="CHF">CHF</option>
        <option value="MOP">MOP</option>
        <option value="MKD">MKD</option>
        <option value="MGA">MGA</option>
        <option value="MWK">MWK</option>
        <option value="MYR">MYR</option>
        <option value="MVR">MVR</option>
        <option value="MRU">MRU</option>
        <option value="MUR">MUR</option>
        <option value="XUA">XUA</option>
        <option value="MXN">MXN</option>
        <option value="MXV">MXV</option>
        <option value="MDL">MDL</option>
        <option value="MNT">MNT</option>
        <option value="MAD">MAD</option>
        <option value="MZN">MZN</option>
        <option value="MMK">MMK</option>
        <option value="NAO">NAO</option>
        <option value="NPR">NPR</option>
        <option value="NIO">NIO</option>
        <option value="NGN">NGN</option>
        <option value="OMR">OMR</option>
        <option value="PKR">PKR</option>
        <option value="PAB">PAB</option>
        <option value="PGK">PGK</option>
        <option value="PYG">PYG</option>
        <option value="PEN">PEN</option>
        <option value="PHP">PHP</option>
        <option value="PLN">PLN</option>
        <option value="QAR">QAR</option>
        <option value="RON">RON</option>
        <option value="RUB">RUB</option>
        <option value="RWF">RWF</option>
        <option value="SHP">SHP</option>
        <option value="WST">WST</option>
        <option value="STN">STN</option>
        <option value="SAR">SAR</option>
        <option value="RSD">RSD</option>
        <option value="SCR">SCR</option>
        <option value="SLE">SLE</option>
        <option value="SGD">SGD</option>
        <option value="XSU">XSU</option>
        <option value="SBO">SBO</option>
        <option value="SOS">SOS</option>
        <option value="SSP">SSP</option>
        <option value="LKR">LKR</option>
        <option value="SOG">SOG</option>
        <option value="SRD">SRD</option>
        <option value="SEK">SEK</option>
        <option value="CHE">CHE</option>
        <option value="CHW">CHW</option>
        <option value="SYP">SYP</option>
        <option value="TWD">TWD</option>
        <option value="TJS">TJS</option>
        <option value="TZS">TZS</option>
        <option value="THB">THB</option>
        <option value="TOP">TOP</option>
        <option value="TTD">TTD</option>
        <option value="TND">TND</option>
        <option value="TRY">TRY</option>
        <option value="TMT">TMT</option>
        <option value="UGX">UGX</option>
        <option value="UAH">UAH</option>
        <option value="AED">AED</option>
        <option value="USN">USN</option>
        <option value="UYN">UYN</option>
        <option value="UYI">UYI</option>
        <option value="UYW">UYW</option>
        <option value="UZS">UZS</option>
        <option value="VUV">VUV</option>
        <option value="VES">VES</option>
        <option value="VED">VED</option>
        <option value="VND">VND</option>
        <option value="YER">YER</option>
        <option value="ZMW">ZMW</option>
        <option value="ZWL">ZWL</option>
        <option value="XBA">XBA</option>
        <option value="XBB">XBB</option>
        <option value="XBC">XBC</option>
        <option value="XBD">XBD</option>
        <option value="XTS">XTS</option>
        <option value="XXX">XXX</option>
        <option value="XAU">XAU</option>
        <option value="XPD">XPD</option>
        <option value="XPT">XPT</option>
        <option value="XAG">XAG</option>
        <option value="Others">Others</option>
    </select>
</div>

</div>


<div class="form-group row">
    <label class="col-sm-2 col-form-label">Outstanding Balance</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{outstandingBalance}" />
    </div>

    <label class="col-sm-2 col-form-label">Overnight</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{overnight}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">0-1M</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{onToOneM}" />
    </div>

    <label class="col-sm-2 col-form-label">1M-3M</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{oneMToThreeM}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">3M-6M</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{threeMToSixM}" />
    </div>

    <label class="col-sm-2 col-form-label">6M-9M</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{sixMonthToNineM}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">9M-1Y</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{nineMonthToOneY}" />
    </div>

    <label class="col-sm-2 col-form-label">1Y-5Y</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{oneYToFiveY}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">1.5Y-2Y</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{onePointFiveYToTwoY}" />
    </div>

    <label class="col-sm-2 col-form-label">2Y-3Y</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{twoYToThreeY}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">3Y-4Y</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{threeYToFourY}" />
    </div>

    <label class="col-sm-2 col-form-label">4Y-5Y</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2 " th:field="*{fourYToFiveY}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">5Y-6Y</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{fiveYToSixY}" />
    </div>

    <label class="col-sm-2 col-form-label">6Y-7Y</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{sixYToSevenY}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">7Y-8Y</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{sevenYToEightY}" />
    </div>

    <label class="col-sm-2 col-form-label">8Y-9Y</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{eightYToNineY}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">9Y-10Y</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{nineYToTenY}" />
    </div>

    <label class="col-sm-2 col-form-label">10Y-15Y</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{tenYToFifteenY}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">15Y-20Y</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{fifteenYToTwentyY}" />
    </div>

    <label class="col-sm-2 col-form-label">20Y Above</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{twentyYearAbove}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">Non-Rate Sensitive</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{nonRateSensitive}" />
    </div>
</div>



      

  
    



   

    


    <!-- Submit -->
   <div class="card-footer text-center">
   <button type="submit" class="role-add-btn" onclick="updateform(event)">Update</button>
<a th:href="@{/IRRBB_data_Template(formmode='list')}" class="role-add-btn">Cancel</a>
    </div>
    
    </div>
  </form>
</div>
</div>
				
				
				
				
				<!-- -----------------------------------EAR LIST STARTS -------------------------------------------- -->
				<div class="tab-pane fade" id="ear" role="tabpanel" th:if="${formmode=='EAR'}">
					<div class="table-responsive" style=" max-height: 400px; overflow: auto; border:none;">
						<table id="usertable" class="table table-bordered table-striped table-hover"
							style="min-width: 2000px;">

							<thead class="thead-light">
								 
								<tr>
								    <th>Action</th>
									<th>Report Date</th>
									<th>Bank Name</th>
									<th>Group_Head_Office_Subsidiary</th>
									<th>Bank Symbol</th>
									<th>Conventional/Islamic</th>
                                    <th>Local/Foreign</th>
									<th>CBUAE Tiering</th>
								    <th>Subsidiary</th>
									<th>Scenario</th>
									<th>GL_Level_1</th>
									<th>GL_Level_2</th>
									<th>GL_Level_3</th>
									<th>Option type </th>
									<th>Rate type</th>
                                   <th>Reference_rate </th>
									<th>Instrument_currency</th>
									<th>Pass-Through Rate (%)</th>
									<th>Overnight</th>
									<th>ON_to_2W</th>
									<th>2W_to_1M</th>
									<th>1M_to_2M</th>
                                    <th>2M_to_3M</th>
									<th>3M_to_4M</th>
									<th>4M_to_5M</th>
									<th>5M_to_6M</th>
									<th>6M_to_7M</th>
									<th>7M_to_8M</th>
									<th>8M_to_9M</th>
									<th>9M_to_10M</th>
									<th>10M_to_11M</th>
									<th>11M_to_12M</th>
									

								</tr>
							</thead>
							<tbody  th:each="data : ${ISListEar}">
								<tr>
								<td><a
											th:href="@{'/IRRBB_data_Template?formmode=editear&SI_NO=' + ${data.SI_NO}}">
											<i class="fa fa-edit" style="color: #007bff;"></i></a>
									</td>
									
									<!-- Financial Institution Information 8-->
									
									<td th:text="${#dates.format(data.reportDate, 'dd-MM-yyyy')}"></td>
								     <td th:text="${data.bankName}"></td>
									<td th:text="${data.groupHeadOfficeSubsidiary}"></td>
									  <td th:text="${data.bankSymbol}"></td>
									<td th:text="${data.conventionalOrIslamic}"></td>
                                    <td th:text="${data.localOrForeign}"></td>
									<td th:text="${data.cbuaeTiering}"></td>
									<td th:text="${data.subsidiary}"></td>
								     <td th:text="${data.scenario}"></td>
									<td th:text="${data.glLevel1}"></td>
									  <td th:text="${data.glLevel2}"></td>
									<td th:text="${data.glLevel3}"></td>
                                    <td th:text="${data.optionType}"></td>
									<td th:text="${data.rateType}"></td>
									<td th:text="${data.referenceRate}"></td>
								     <td th:text="${data.instrumentCurrency}"></td>
									<td th:text="${#numbers.formatDecimal(data.passThroughRate,1,'COMMA',2,'POINT')}"></td>
									  <td th:text="${#numbers.formatDecimal(data.overnight,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.onToTwoW,1,'COMMA',2,'POINT')}"></td>
                                    <td th:text="${#numbers.formatDecimal(data.twoWToOneM,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.oneMToTwoM,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.twoMToThreeM,1,'COMMA',2,'POINT')}"></td>
                                    <td th:text="${#numbers.formatDecimal(data.threeMToFourM,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.fourMToFiveM,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.fiveMToSixM,1,'COMMA',2,'POINT')}"></td>
								     <td th:text="${#numbers.formatDecimal(data.sixMToSevenM,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.sevenMToEightM,1,'COMMA',2,'POINT')}"></td>
									  <td th:text="${#numbers.formatDecimal(data.eightMToNineM,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.nineMToTenM,1,'COMMA',2,'POINT')}"></td>
                                    <td th:text="${#numbers.formatDecimal(data.tenMToElevenM,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.elevenMToTwelveM,1,'COMMA',2,'POINT')}"></td>
									</tr>
							</tbody>
						</table>
					</div>


					<div class="card-footer text-center"
						style="background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); padding: 10px; border-top: 2px solid #ccc;">
						

						<button th:if="${formmode == 'null' or formmode == 'add'}" type="button" class="role-add-btn"
							onclick="submitForm()">Save</button>



					</div>

				</div>
				
							
<!------------------ edit starts for IRRBBEAR-------------------------------------------------------------->
		
<div th:if="${formmode == 'editear'}" style="align-items:center">
 
<div class="row">
<form th:action="@{/updateirrbear}" th:object="${irrbbear}" method="post" id="irrbbear">
	<div class="card" style="margin-left: 15px;margin-right: 15px;">
						
						
						<div class="role-page-header d-flex justify-content-between align-items-center">
													    <!-- Left: Page Title -->
													    <div class="role-page-title">
													        <h4 >IRRBB EAR - Edit</h4>
							<div style="width: 156px; height: 3px;background-color: #0073e6;border-radius: 2px;
							margin-top: 6px;box-shadow: 0 4px 12px rgba(0, 115, 230, 0.6);"></div>

													  
													</div>
													</div>
<div class="card-body" style="max-height: 500px; overflow-y: auto;">

 
  
   <input type="hidden" th:field="*{SI_NO}" />

      

  
    
   <!-- Row: Report Date & Bank Name -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Report Date</label>
    <div class="col-sm-4">
        <input type="date" class="form-control" th:field="*{reportDate}" readonly />
    </div>

    <label class="col-sm-2 col-form-label">Bank Name</label>
    <div class="col-sm-4">
        <select class="form-control" th:field="*{bankName}" onchange="handleBankChange(this)">
            <option value="">-- Select Bank --</option>
            <option th:each="bank : ${bankList}" th:value="${bank.bankName}" th:text="${bank.bankName}"></option>
        </select>
    </div>
</div>

<!-- Row: Group Head Office Subsidiary & Bank Symbol -->
<div class="form-group row">
   <label class="col-sm-2 col-form-label">Group Head Office/Subsidiary</label>
    <div class="col-sm-4">
    <select class="form-control" th:field="*{groupHeadOfficeSubsidiary}">
        <option value="" disabled selected>-- Select --</option>
        <option value="Head Office">Head Office</option>
        <option value="Subsidiary">Subsidiary</option>
    </select>
</div>

    <label class="col-sm-2 col-form-label">Bank Symbol</label>
    <div class="col-sm-4">
        <input type="text" class="form-control" th:field="*{bankSymbol}" id="bankSymbol" readonly  />
    </div>
</div>

<!-- Row: Conventional or Islamic & Local or Foreign -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Conventional or Islamic</label>
    <div class="col-sm-4">
        <input type="text" class="form-control" th:field="*{conventionalOrIslamic}" id="conventionalIslamic" readonly />
    </div>

    <label class="col-sm-2 col-form-label">Local or Foreign</label>
    <div class="col-sm-4">
        <input type="text" class="form-control" th:field="*{localOrForeign}" id="localForeign" readonly />
    </div>
</div>

<!-- Row: CBUAE Tiering & Subsidiary -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">CBUAE Tiering</label>
    <div class="col-sm-4">
        <input type="text" class="form-control" th:field="*{cbuaeTiering}" id="cbuaeTiering" readonly />
    </div>

   <label class="col-sm-2 col-form-label">Subsidiary</label>
<div class="col-sm-4">
    <select class="form-control" th:field="*{subsidiary}">
        <option value="">-- Select Subsidiary --</option>
        <option value="Egypt">Egypt</option>
        <option value="Iraq">Iraq</option>
        <option value="Sudan">Sudan</option>
        <option value="Qatar">Qatar</option>
        <option value="Other">Other</option>
    </select>
</div>

</div>

<!-- Row: Scenario & GL Level 1 -->
<div class="form-group row">
   <label class="col-sm-2 col-form-label">Scenario</label>
<div class="col-sm-4">
    <select class="form-control" th:field="*{scenario}">
        <option value="">-- Select Scenario --</option>
        <option value="Base">Base</option>
        <option value="Parallel_up">Parallel_up</option>
        <option value="Parallel_down">Parallel_down</option>
    </select>
</div>


   <label class="col-sm-2 col-form-label">GL Level 1</label>
<div class="col-sm-4">
    <select class="form-control" th:field="*{glLevel1}">
        <option value="">Select GL Level 1</option>
        <option value="Assets">Assets</option>
        <option value="Liabilities">Liabilities</option>
        <option value="Equity">Equity</option>
    </select>
</div>
</div>

<!-- Row: GL Level 2 & GL Level 3 -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">GL Level 2</label>
    <div class="col-sm-4">
        <input type="text" class="form-control vchar-100" th:field="*{glLevel2}" />
    </div>

    <label class="col-sm-2 col-form-label">GL Level 3</label>
    <div class="col-sm-4">
        <input type="text" class="form-control vchar-100" th:field="*{glLevel3}" />
    </div>
</div>

<!-- Row: Option Type & Rate Type -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Option Type</label>
<div class="col-sm-4">
    <select class="form-control" th:field="*{optionType}">
        <option value="">-- Select Option Type --</option>
        <option value="Behavioural">Behavioural</option>
        <option value="Automatic">Automatic</option>
        <option value="NA">NA</option>
    </select>
</div>

     <label class="col-sm-2 col-form-label">Rate Type</label>
<div class="col-sm-4">
    <select class="form-control" th:field="*{rateType}">
        <option value="">-- Select Rate Type --</option>
        <option value="Fixed">Fixed</option>
        <option value="Floating">Floating</option>
        <option value="Admin">Admin</option>
        <option value="NA">NA</option>
    </select>
</div>
</div>

<!-- Row: Reference Rate & Instrument Currency -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Reference Rate</label>
    <div class="col-sm-4">
        <input type="text" class="form-control vchar-5" th:field="*{referenceRate}" />
    </div>

   <label class="col-sm-2 col-form-label">Instrument Currency</label>
<div class="col-sm-4">
    <select class="form-control" th:field="*{instrumentCurrency}">
        <option value="">-- Select Instrument Currency --</option>
        <option value="AFN">AFN</option>
        <option value="EUR">EUR</option>
        <option value="ALL">ALL</option>
        <option value="DZD">DZD</option>
        <option value="USD">USD</option>
        <option value="AOA">AOA</option>
        <option value="XCD">XCD</option>
        <option value="ARS">ARS</option>
        <option value="AMD">AMD</option>
        <option value="AWG">AWG</option>
        <option value="AUD">AUD</option>
        <option value="AZN">AZN</option>
        <option value="BSD">BSD</option>
        <option value="BHD">BHD</option>
        <option value="BDT">BDT</option>
        <option value="BBD">BBD</option>
        <option value="BYN">BYN</option>
        <option value="BZD">BZD</option>
        <option value="XOF">XOF</option>
        <option value="BMD">BMD</option>
        <option value="INR">INR</option>
        <option value="BTN">BTN</option>
        <option value="BOB">BOB</option>
        <option value="BOV">BOV</option>
        <option value="BAM">BAM</option>
        <option value="BWP">BWP</option>
        <option value="NOK">NOK</option>
        <option value="BRL">BRL</option>
        <option value="BND">BND</option>
        <option value="BGN">BGN</option>
        <option value="BIF">BIF</option>
        <option value="CVE">CVE</option>
        <option value="KHR">KHR</option>
        <option value="XAF">XAF</option>
        <option value="CAD">CAD</option>
        <option value="KYD">KYD</option>
        <option value="CLP">CLP</option>
        <option value="CLF">CLF</option>
        <option value="CNY">CNY</option>
        <option value="COP">COP</option>
        <option value="COU">COU</option>
        <option value="KMF">KMF</option>
        <option value="CDF">CDF</option>
        <option value="NZD">NZD</option>
        <option value="CRC">CRC</option>
        <option value="CUP">CUP</option>
        <option value="CUC">CUC</option>
        <option value="ANG">ANG</option>
        <option value="CZK">CZK</option>
        <option value="DKK">DKK</option>
        <option value="DJF">DJF</option>
        <option value="DOP">DOP</option>
        <option value="EGP">EGP</option>
        <option value="SVC">SVC</option>
        <option value="ERN">ERN</option>
        <option value="SZL">SZL</option>
        <option value="ETB">ETB</option>
        <option value="FKP">FKP</option>
        <option value="FJD">FJD</option>
        <option value="XPF">XPF</option>
        <option value="GMD">GMD</option>
        <option value="GEL">GEL</option>
        <option value="GHS">GHS</option>
        <option value="GIP">GIP</option>
        <option value="GTQ">GTQ</option>
        <option value="GBP">GBP</option>
        <option value="GNF">GNF</option>
        <option value="GYO">GYO</option>
        <option value="HTG">HTG</option>
        <option value="HNL">HNL</option>
        <option value="HKD">HKD</option>
        <option value="HUF">HUF</option>
        <option value="ISK">ISK</option>
        <option value="IDR">IDR</option>
        <option value="XDR">XDR</option>
        <option value="IRR">IRR</option>
        <option value="IQD">IQD</option>
        <option value="ILS">ILS</option>
        <option value="JMD">JMD</option>
        <option value="JPY">JPY</option>
        <option value="JOD">JOD</option>
        <option value="KZT">KZT</option>
        <option value="KES">KES</option>
        <option value="KPW">KPW</option>
        <option value="KRW">KRW</option>
        <option value="KWD">KWD</option>
        <option value="KGS">KGS</option>
        <option value="LAK">LAK</option>
        <option value="LBP">LBP</option>
        <option value="LSL">LSL</option>
        <option value="ZAR">ZAR</option>
        <option value="LRD">LRD</option>
        <option value="LYD">LYD</option>
        <option value="CHF">CHF</option>
        <option value="MOP">MOP</option>
        <option value="MKD">MKD</option>
        <option value="MGA">MGA</option>
        <option value="MWK">MWK</option>
        <option value="MYR">MYR</option>
        <option value="MVR">MVR</option>
        <option value="MRU">MRU</option>
        <option value="MUR">MUR</option>
        <option value="XUA">XUA</option>
        <option value="MXN">MXN</option>
        <option value="MXV">MXV</option>
        <option value="MDL">MDL</option>
        <option value="MNT">MNT</option>
        <option value="MAD">MAD</option>
        <option value="MZN">MZN</option>
        <option value="MMK">MMK</option>
        <option value="NAO">NAO</option>
        <option value="NPR">NPR</option>
        <option value="NIO">NIO</option>
        <option value="NGN">NGN</option>
        <option value="OMR">OMR</option>
        <option value="PKR">PKR</option>
        <option value="PAB">PAB</option>
        <option value="PGK">PGK</option>
        <option value="PYG">PYG</option>
        <option value="PEN">PEN</option>
        <option value="PHP">PHP</option>
        <option value="PLN">PLN</option>
        <option value="QAR">QAR</option>
        <option value="RON">RON</option>
        <option value="RUB">RUB</option>
        <option value="RWF">RWF</option>
        <option value="SHP">SHP</option>
        <option value="WST">WST</option>
        <option value="STN">STN</option>
        <option value="SAR">SAR</option>
        <option value="RSD">RSD</option>
        <option value="SCR">SCR</option>
        <option value="SLE">SLE</option>
        <option value="SGD">SGD</option>
        <option value="XSU">XSU</option>
        <option value="SBO">SBO</option>
        <option value="SOS">SOS</option>
        <option value="SSP">SSP</option>
        <option value="LKR">LKR</option>
        <option value="SOG">SOG</option>
        <option value="SRD">SRD</option>
        <option value="SEK">SEK</option>
        <option value="CHE">CHE</option>
        <option value="CHW">CHW</option>
        <option value="SYP">SYP</option>
        <option value="TWD">TWD</option>
        <option value="TJS">TJS</option>
        <option value="TZS">TZS</option>
        <option value="THB">THB</option>
        <option value="TOP">TOP</option>
        <option value="TTD">TTD</option>
        <option value="TND">TND</option>
        <option value="TRY">TRY</option>
        <option value="TMT">TMT</option>
        <option value="UGX">UGX</option>
        <option value="UAH">UAH</option>
        <option value="AED">AED</option>
        <option value="USN">USN</option>
        <option value="UYN">UYN</option>
        <option value="UYI">UYI</option>
        <option value="UYW">UYW</option>
        <option value="UZS">UZS</option>
        <option value="VUV">VUV</option>
        <option value="VES">VES</option>
        <option value="VED">VED</option>
        <option value="VND">VND</option>
        <option value="YER">YER</option>
        <option value="ZMW">ZMW</option>
        <option value="ZWL">ZWL</option>
        <option value="XBA">XBA</option>
        <option value="XBB">XBB</option>
        <option value="XBC">XBC</option>
        <option value="XBD">XBD</option>
        <option value="XTS">XTS</option>
        <option value="XXX">XXX</option>
        <option value="XAU">XAU</option>
        <option value="XPD">XPD</option>
        <option value="XPT">XPT</option>
        <option value="XAG">XAG</option>
        <option value="Others">Others</option>
    </select>
</div>
</div>


<!-- Example of 2 BigDecimal Fields -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Pass Through Rate</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{passThroughRate}" />
    </div>

    <label class="col-sm-2 col-form-label">Overnight</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{overnight}" />
    </div>
</div>

<!-- Repeat for remaining BigDecimal fields -->
<!-- Loop begins -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">On to Two W</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{onToTwoW}" />
    </div>

    <label class="col-sm-2 col-form-label">Two W to One M</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{twoWToOneM}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">One M to Two M</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{oneMToTwoM}" />
    </div>

    <label class="col-sm-2 col-form-label">Two M to Three M</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{twoMToThreeM}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">Three M to Four M</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{threeMToFourM}" />
    </div>

    <label class="col-sm-2 col-form-label">Four M to Five M</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{fourMToFiveM}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">Five M to Six M</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{fiveMToSixM}" />
    </div>

    <label class="col-sm-2 col-form-label">Six M to Seven M</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{sixMToSevenM}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">Seven M to Eight M</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{sevenMToEightM}" />
    </div>

    <label class="col-sm-2 col-form-label">Eight M to Nine M</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{eightMToNineM}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">Nine M to Ten M</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{nineMToTenM}" />
    </div>

    <label class="col-sm-2 col-form-label">Ten M to Eleven M</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{tenMToElevenM}" />
    </div>
</div>

<div class="form-group row">
    <label class="col-sm-2 col-form-label">Eleven M to Twelve M</label>
    <div class="col-sm-4">
        <input type="number" step="0.0001" class="form-control number-24-2" th:field="*{elevenMToTwelveM}" />
    </div>
</div>


   

    


    <!-- Submit -->
   <div class="card-footer text-center">
   <button type="submit" class="role-add-btn" onclick="updateform(event)">Update</button>
<a th:href="@{/IRRBB_data_Template(formmode='EAR')}" class="role-add-btn">Cancel</a>
    </div>
    
    </div>
  </form>
</div>
</div>
				
				
				
				
				<!-- -----------------------------------DISCOUNT RATE LIST STARTS -------------------------------------------- -->
				<div class="tab-pane fade" id="DiscountRate" role="tabpanel" th:if="${formmode=='DiscountRate'}">
					<div class="table-responsive" style=" max-height: 400px; overflow: auto; border:none;">
						<table id="usertable" class="table table-bordered table-striped table-hover"
							style="min-width: 2000px; ">

							<thead class="thead-light" >
								 
								<tr>
								    <th>Action</th>
									<th>Derived Tenor</th>
									<th>O/N</th>
									<th>1W</th>
									<th>1M</th>
									<th>2M</th>
                                    <th>3M</th>
									<th>6M</th>
								    <th>9M</th>
									<th>1Y</th>
									<th>1.5Y</th>
									<th>2Y</th>
									<th>3Y</th>
									<th>4Y </th>
									<th>5Y</th>
                                   <th>6Y</th>
									<th>7Y</th>
									<th>8Y</th>
									<th>9Y</th>
									<th>10Y</th>
									<th>12Y</th>
									<th>15Y</th>
                                    <th>20Y</th>
									<th>30Y</th>
								</tr>
							</thead>
							<tbody  th:each="data : ${ISListDiscount}">
								<tr>
								<td><a
											th:href="@{'/IRRBB_data_Template?formmode=editdiscount&SI_NO=' + ${data.SI_NO}}">
											<i class="fa fa-edit" style="color: #007bff;"></i></a>
									</td> 
									
									<!-- Financial Institution Information 8-->
									
									 <!-- <td th:text="${#dates.format(data.reportDate, 'dd-MM-yyyy')}"></td> -->
								     <td th:text="${data.derivedTenor}"></td>
									<td th:text="${data.overnight}"></td>
									  <td th:text="${data.oneWeek}"></td>
									<td th:text="${data.oneMonth}"></td>
                                    <td th:text="${data.twoMonth}"></td>
									<td th:text="${data.threeMonth}"></td>
									<td th:text="${data.sixMonth}"></td>
								     <td th:text="${data.nineMonth}"></td>
									<td th:text="${data.oneYear}"></td>
									  <td th:text="${data.onePointFiveYear}"></td>
									<td th:text="${data.twoYear}"></td>
                                    <td th:text="${data.threeYear}"></td>
									<td th:text="${data.fourYear}"></td>
									<td th:text="${data.fiveYear}"></td>
								     <td th:text="${data.sixYear}"></td>
									<td th:text="${#numbers.formatDecimal(data.sevenYear,1,'COMMA',2,'POINT')}"></td>
									  <td th:text="${#numbers.formatDecimal(data.eightYear,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.nineYear,1,'COMMA',2,'POINT')}"></td>
                                    <td th:text="${#numbers.formatDecimal(data.tenYear,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.twelveYear,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.fifteenYear,1,'COMMA',2,'POINT')}"></td>
                                    <td th:text="${#numbers.formatDecimal(data.twentyYear,1,'COMMA',2,'POINT')}"></td>
									<td th:text="${#numbers.formatDecimal(data.thirtyYear,1,'COMMA',2,'POINT')}"></td>
									</tr> 
							</tbody>
						</table>
					</div>


					<div class="card-footer text-center"
						style="background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(8px); padding: 10px; border-top: 2px solid #ccc;">
						


						<button th:if="${formmode == 'null' or formmode == 'add'}" type="button" class="role-add-btn"
							onclick="submitForm()">Save</button>



					</div>

				</div>
				
					</div>
				</div>
				
				
				
<!------------------ edit starts for IRRBBDISOCUNTRATE-------------------------------------------------------------->		
<div th:if="${formmode == 'editdiscount'}" style="align-items:center">
 
<div class="row">
<form th:action="@{/updateirrbdiscount}" th:object="${irrbbdiscount}" method="post" id="irrbbdiscount">
	<div class="card" style="margin-left: 15px;margin-right: 15px;">
		<div class="role-page-header d-flex justify-content-between align-items-center">
															    <!-- Left: Page Title -->
															    <div class="role-page-title">
															        <h4 >IRRBB Discount Rate - Edit</h4>
									<div style="width: 250px; height: 3px;background-color: #0073e6;border-radius: 2px;
									margin-top: 6px;box-shadow: 0 4px 12px rgba(0, 115, 230, 0.6);"></div>

															  
															</div>
															</div>
						
						
<div class="card-body" style="max-height: 500px; overflow-y: auto;">

 
  
   <input type="hidden" th:field="*{SI_NO}" />

      

  
    
   <!-- Row: Derived Tenor & Overnight -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Derived Tenor</label>
    <div class="col-sm-4">
        <input type="text" class="form-control vchar-3" th:field="*{derivedTenor}" />
    </div>

    <label class="col-sm-2 col-form-label">Overnight</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{overnight}" />
    </div>
</div>

<!-- Row: One Week & One Month -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">One Week</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{oneWeek}" />
    </div>

    <label class="col-sm-2 col-form-label">One Month</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{oneMonth}" />
    </div>
</div>

<!-- Row: Two Month & Three Month -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Two Month</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{twoMonth}" />
    </div>

    <label class="col-sm-2 col-form-label">Three Month</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{threeMonth}" />
    </div>
</div>

<!-- Row: Six Month & Nine Month -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Six Month</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{sixMonth}" />
    </div>

    <label class="col-sm-2 col-form-label">Nine Month</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{nineMonth}" />
    </div>
</div>

<!-- Row: One Year & One Point Five Year -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">One Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{oneYear}" />
    </div>

    <label class="col-sm-2 col-form-label">1.5 Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{onePointFiveYear}" />
    </div>
</div>

<!-- Row: Two Year & Three Year -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Two Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{twoYear}" />
    </div>

    <label class="col-sm-2 col-form-label">Three Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{threeYear}" />
    </div>
</div>

<!-- Row: Four Year & Five Year -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Four Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{fourYear}" />
    </div>

    <label class="col-sm-2 col-form-label">Five Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{fiveYear}" />
    </div>
</div>

<!-- Row: Six Year & Seven Year -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Six Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{sixYear}" />
    </div>

    <label class="col-sm-2 col-form-label">Seven Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{sevenYear}" />
    </div>
</div>

<!-- Row: Eight Year & Nine Year -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Eight Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{eightYear}" />
    </div>

    <label class="col-sm-2 col-form-label">Nine Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{nineYear}" />
    </div>
</div>

<!-- Row: Ten Year & Twelve Year -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Ten Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{tenYear}" />
    </div>

    <label class="col-sm-2 col-form-label">Twelve Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{twelveYear}" />
    </div>
</div>

<!-- Row: Fifteen Year & Twenty Year -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Fifteen Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{fifteenYear}" />
    </div>

    <label class="col-sm-2 col-form-label">Twenty Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{twentyYear}" />
    </div>
</div>

<!-- Row: Thirty Year -->
<div class="form-group row">
    <label class="col-sm-2 col-form-label">Thirty Year</label>
    <div class="col-sm-4">
        <input type="number" step="0.01" class="form-control number-24-2" th:field="*{thirtyYear}" />
    </div>
</div>





   

    


    <!-- Submit -->
   <div class="card-footer text-center">
   <button type="submit" class="role-add-btn" onclick="updateformdiscount(event)">Update</button>
<a th:href="@{/IRRBB_data_Template(formmode='DiscountRate')}" class="role-add-btn">Cancel</a>
    </div>
    
    </div>
  </form>
</div>
</div>

			<!-- ---------------- edit starts------------------------------------------------------------ -->



			<!--<div th:if="${formmode}=='edit'" style="align-items:center">
				<form th:action="@{/updateInvestmentSecurity}" th:object="${InvestmentData}" method="post"
					id="InvestmentData">
					<div class="card" style="margin: 0 15px;">-->

			<!-- Card Header -->


		

			<div class="modal fade" id="alert">
				<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
					<div class="modal-content">
						<div class="menu-title-header">
							<div class="modal-title" id="exampleModalLabel" style="text-align: center; color: white;">
								BANK OF
								BARODA</div>
						</div>
						<div class="modal-body" style="text-align: center">
							<p id="alertmsg"></p>
							<button type="button" class="role-add-btn" onclick="list()"
								data-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
			</div>

						
						
							<!-- Floating Back Button -->
			<button id="floatingBackBtn" onclick="goBack()" title="Go Back">
				<i class="fa fa-arrow-left"></i>
			</button>
			<!-- Floating Forward Button -->
			<button id="floatingForwardBtn" onclick="goForward()" title="Go Forward">
			    <i class="fa fa-arrow-right"></i>
			</button>
			<div class="modal fade" id="alert1">
				<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
					<div class="modal-content">
						<div class="menu-title-header">
							<div class="modal-title" id="exampleModalLabel" style="text-align: center; color: white;">
								BANK OF
								BARODA</div>
						</div>
						<div class="modal-body" style="text-align: center">
							<p id="alertmsg1"></p>
							<button type="button" class="role-add-btn" onclick="window.location.reload()"
								data-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
			</div>
			
			
			
			
			<!-- Loader Modal (Using your existing loader image) -->
			<div class="modal fade" id="loader" data-backdrop="static" data-keyboard="false">
				<div class="modal-dialog modal-dialog-centered">
					<div class="modal-content" style="background: transparent; border: none;">
						<div class="modal-body text-center">
							<img th:src="@{/images/loader.gif}" style="width: 150px; height: auto;" alt="Processing...">
						</div>
					</div>
				</div>
			</div>
			<div id="bob-loader" class="bob-loader" aria-hidden="true" role="status" aria-label="Loading">
				  <div class="bob-loader-card">
				    <img th:src="@{/images/bobn.png}" alt="Bank of Baroda" class="logo-imgs">
				    <div class="flow-bar">
				      <div class="flow-line"></div>
				    </div>
				  </div>
				</div>
					
			<!-- Custom Alert/Result Modal (Matches your existing style) -->
			<div class="modal fade" id="resultModal">
				<div class="modal-dialog modal-dialog-centered">
					<div class="modal-content">
						<!-- Your custom styled header -->
						<div class="menu-title-header">
							<div class="modal-title" id="resultModalLabel" style="text-align: center; color: white;">
								<!-- Title will be set by JavaScript -->
							</div>
						</div>
						<div class="modal-body" style="text-align: center; font-size: 1.1rem;">
							<p id="resultModalBody"></p>
							<!-- Your custom styled button -->
							<button type="button" class="role-add-btn" onclick="list()"
								data-dismiss="modal">OK</button>
						</div>
					</div>
				</div>
			</div>
</body>
<script>
	$('#usertable').DataTable({
				    scrollX: true,
				    autoWidth: false,
				    paging: true,
				    searching: true,
				    lengthChange: false,
				    ordering: true,
				    pageLength: 10,
				    fixedHeader: true,

				    // Layout: search (left) + pagination (right)
				    dom: '<"d-flex justify-content-between align-items-center mb-2"f p>t',

				    // Optional: language tweak for better label
				    language: {
				      search: "Search:"
				    }
				  });
				  
				  
	

</script>


<!-- Include this after your DataTable initialization script -->

<style>
	/* Remove top margin/padding from DataTables parent containers */
	#data {
		padding-top: 0 !important;
		margin-top: 0 !important;
	}

	.table-responsive {
		margin-top: 0 !important;
		padding-top: 0 !important;
	}

	/* Ensure DataTables filter (search box) doesn't have spacing above it */
	div.dataTables_filter {
		margin-top: 0 !important;
		padding-top: 0 !important;
	}

	/* FIX: Make search label and box inline */
	div.dataTables_filter label {
		display: flex !important;
		align-items: center;
		gap: 8px;
		white-space: nowrap;
	}

	/* Style pagination buttons */
	.dataTables_wrapper .dataTables_paginate .paginate_button {
		background-color: white;
		border: 1px solid rgb(0, 164, 166);
		color: rgb(0, 164, 166) !important;
		padding: 5px 10px;
		margin: 2px;
		border-radius: 6px;
		transition: 0.3s;
		font-weight: 600;
	}

	.dataTables_wrapper .dataTables_paginate .paginate_button.current,
	.dataTables_wrapper .dataTables_paginate .paginate_button:hover {
		background-color: rgb(0, 164, 166) !important;
		color: white !important;
	}

	/* Optional: Style the search input */
	.dataTables_filter input {
		border: 1px solid rgb(0, 164, 166);
		border-radius: 4px;
		padding: 4px 8px;
	}
</style>


<script>
	function handleBankChange(select) {
		const selectedBank = select.value;

		if (!selectedBank) {
			// Clear the fields
			$('#bankSymbol').val('');
			$('#conventionalIslamic').val('');
			$('#localForeign').val('');
			$('#cbuaeTiering').val('');
			return;
		}

		$.ajax({
			url: '/Riskinsights/getBankDetails',
			type: 'GET',
			data: {bankName: selectedBank},
			success: function (data) {
				$('#bankSymbol').val(data.bankSymbol || '');
				$('#conventionalIslamic').val(data.conventionalIslamic || '');
				$('#localForeign').val(data.localForeign || '');
				$('#cbuaeTiering').val(data.cbuaeTiering || '');
			},
			error: function (xhr, status, error) {
				console.error('AJAX Error:', error);
				alert('Failed to fetch bank details.');
			}
		});
	}
</script>


<script>
  function showError(input, msg) {
    let span = document.getElementById(input.id + "-error");
    if (!span) {
      span = document.createElement("small");
      span.id = input.id + "-error";
      span.className = "text-danger";
      span.style.display = "block";
      input.parentNode.appendChild(span);
    }
    span.innerText = msg;
  }

  function clearError(input) {
    const span = document.getElementById(input.id + "-error");
    if (span) span.innerText = "";
  }

  // Validate VARCHAR2 fields based on vchar-XXX class
  document.querySelectorAll('[class*="vchar-"]').forEach(input => {
    const match = input.className.match(/vchar-(\d+)/);
    if (match) {
      const maxLength = parseInt(match[1]);
      input.setAttribute("maxlength", maxLength);

      input.addEventListener("input", () => {
        const val = input.value.trim();
        if (val.length > maxLength) {
          showError(input, `Max ${maxLength} characters allowed`);
        } else {
          clearError(input);
        }
      });
    }
  });

  // Validate NUMBER(24,2) or other number fields
  document.querySelectorAll('[class*="number-"]').forEach(input => {
    const match = input.className.match(/number-(\d+)-(\d+)/);
    if (match) {
      const total = parseInt(match[1]);
      const decimal = parseInt(match[2]);

      input.addEventListener("input", () => {
        const value = input.value.trim();
        const regex = /^\d+(\.\d+)?$/;

        if (!regex.test(value)) {
          showError(input, `Only numbers allowed with up to ${decimal} decimal places`);
          return;
        }

        const [intPart, decPart = ""] = value.split(".");
        const intLen = intPart.replace(/^0+/, "").length;
        const decLen = decPart.length;

        if (intLen + decLen > total || decLen > decimal) {
          showError(input, `Max ${total - decimal} digits before and ${decimal} after decimal`);
        } else {
          clearError(input);
        }
      });
    }
  });
</script>

</html>