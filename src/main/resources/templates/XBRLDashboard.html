<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<link rel="icon" th:href="@{/images/Bornfire.png}" type="image/x-icon">
	<title>Risk Insights — Dashboard</title>

	<!-- CSS Dependencies -->
	<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
	<link rel="stylesheet" th:href="@{/css/datatables.min.css}">
	<link rel="stylesheet" th:href="@{/css/CustomButton.css}">
	<link rel="stylesheet" th:href="@{/css/all.min.css}">
	<script th:src="@{/js/chart.js}"></script>
	<link rel="stylesheet" type="text/css" href="/webjars/font-awesome/5.9.0/css/all.min.css"
		th:href="@{/webjars/font-awesome/5.9.0/css/all.min.css}">




	<style>
		:root {
			--bg: #f9fbff;
			--surface: #ffffff;
			--border: #e6eaf0;
			--text: #0f172a;
			--muted: #6b7280;
			--textcolorheaderwhite: white;
			--processing: #3b82f6;
			--approved: #16a34a;
			--rejected: #ef4444;
			--pending: #f59e0b;
			--refunded: #8b5cf6;

			/* Primary Colors */
			--color-primary: #8b5cf6;
			--color-primary-hover: #7c3aed;
			--color-primary-50: rgba(139, 92, 246, 0.05);
			--color-primary-100: rgba(139, 92, 246, 0.1);
			--color-primary-200: rgba(139, 92, 246, 0.2);
			/* Semantic Colors */
			--color-success: #10b981;
			--color-success-50: rgba(16, 185, 129, 0.05);
			--color-success-100: rgba(16, 185, 129, 0.1);
			--color-warning: #f59e0b;
			--color-warning-50: rgba(245, 158, 11, 0.05);
			--color-warning-100: rgba(245, 158, 11, 0.1);
			--color-error: #ef4444;
			--color-error-50: rgba(239, 68, 68, 0.05);
			--color-error-100: rgba(239, 68, 68, 0.1);
			--color-info: #3b82f6;
			--color-info-50: rgba(59, 130, 246, 0.05);
			--color-info-100: rgba(59, 130, 246, 0.1);
			/* Text Colors */
			--color-text: #1e293b;
			--color-text-secondary: #475569;
			--color-text-muted: #94a3b8;
			/* Background Colors */
			--color-background: #ffffff;
			--color-surface: #f8fafc;
			--color-surface-hover: #f1f5f9;
			/* Border Colors */
			--color-border: #e2e8f0;
			/* Typography */
			--font-primary: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
			--text-xs: 0.75rem;
			--text-sm: 0.875rem;
			--text-base: 1rem;
			--text-lg: 1.125rem;
			--text-xl: 1.25rem;
			--text-2xl: 1.5rem;
			--text-3xl: 1.75rem;
			--text-4xl: 2rem;
			/* Font Weights */
			--weight-normal: 400;
			--weight-medium: 500;
			--weight-semibold: 600;
			--weight-bold: 700;
			/* Spacing */
			--space-xs: 0.25rem;
			--space-sm: 0.5rem;
			--space-base: 0.75rem;
			--space-md: 1rem;
			--space-lg: 1.5rem;
			--space-xl: 2rem;
			--space-2xl: 3rem;
			--space-3xl: 4rem;
			/* Border Radius */
			--radius-sm: 0.25rem;
			--radius-md: 0.5rem;
			--radius-lg: 0.75rem;
			--radius-xl: 1rem;
			--radius-full: 9999px;
			/* Shadows */
			--shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
			--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
			--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
			/* Layout */
			--sidebar-width: 260px;
			--sidebar-collapsed-width: 80px;
			--header-height: 64px;
			/* Transitions */
			--transition: 0.2s ease;
		}

		body {
			margin-top: 5px;
			background: var(--bg);
			font-family: Arial, sans-serif;
		}

		.container-fluid {
			margin-top: 130px;
		}

		/* Card‐like wrapper for table */
		.table-wrap {
			overflow: auto;
			background: var(--surface);
			box-shadow: 0 10px 30px rgba(15, 23, 42, 0.05);
			width: 100%;
			margin-bottom: 20px;
		}

		.table.refund-table {
			background: var(--surface);
			color: var(--text);
			margin-bottom: 0;
		}

		.table.refund-table thead th {
			position: sticky;
			top: 0;
			background: rgba(33, 37, 41, 65%);
			color: var(--textcolorheaderwhite);
			font-weight: 700;
			font-size: 0.65rem;
			border: 2px solid;
			text-transform: uppercase;
		}

		.table.refund-table tbody td {
			font-size: 0.65rem;
			border: 2px solid;
			border-color: var(--border);
		}

		.table.refund-table tbody tr:hover {
			background: #f8fafc;
		}

		.badge-status {
			padding: 0.25rem 0.55rem;
			border-radius: 12px;
			font-size: 0.60rem;
			font-weight: 600;
			display: inline-flex;
			gap: 6px;
			align-items: center;
		}

		.badge-status.processing {
			color: var(--processing);
			background: rgba(59, 130, 246, 0.1);
		}

		.badge-status.approved {
			color: var(--approved);
			background: rgba(22, 163, 74, 0.1);
		}

		.badge-status.rejected {
			color: var(--rejected);
			background: rgba(239, 68, 68, 0.1);
		}

		.badge-status.pending {
			color: var(--pending);
			background: rgba(245, 158, 11, 0.1);
		}

		.badge-status.refunded {
			color: var(--refunded);
			background: rgba(139, 92, 246, 0.1);
		}

		/* Chart placeholder styling */
		.stats-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
			gap: var(--space-lg);
			margin-bottom: var(--space-2xl);
		}

		.stat-card {
			background: var(--color-background);
			border: 1px solid var(--color-border);
			border-radius: var(--radius-xl);
			padding: var(--space-lg);
			transition: var(--transition);
		}

		.stat-card:hover {
			box-shadow: var(--shadow-md);
			background-color: aliceblue;
			transform: translateY(-2px);
			font-size: var(--text-base);
		}

		.stat-card-header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			margin-bottom: var(--space-md);
		}

		.stat-card-title {
			font-size: var(--text-sm);
			color: var(--color-text-secondary);
			font-weight: var(--weight-medium);
		}

		.stat-card-value {
			font-size: var(--text-sm);
			font-weight: var(--weight-bold);
			color: var(--color-text);
			margin-bottom: var(--space-xs);
		}

		.stat-card-change {
			display: flex;
			align-items: center;
			gap: var(--space-xs);
			font-size: var(--text-sm);
		}

		.stat-card-change.positive {
			color: var(--color-success);
		}

		.stat-card-change.negative {
			color: var(--color-error);
		}

		.chart-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
			gap: var(--space-lg);
			margin-bottom: var(--space-2xl);
		}

		.chart-card {
			background: var(--color-background);
			border: 1px solid var(--color-border);
			border-radius: var(--radius-xl);
			padding: var(--space-lg);
			margin-bottom: 10px;
		}

		.chart-card-header {
			margin-bottom: var(--space-lg);
		}

		.chart-card-title {
			font-size: var(--text-lg);
			font-weight: var(--weight-semibold);
			color: var(--color-text);
			margin-bottom: var(--space-xs);
		}

		.chart-card-subtitle {
			font-size: var(--text-sm);
			color: var(--color-text-secondary);
		}

		.chart-container {
			position: relative;
			height: 300px;
		}

		h4 {
			text-align: center;
			margin-bottom: 30px;
			font-size: 0.70rem;
			text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
			padding: 10px;
		}

		.blink-bg {
			animation: blinkBackground 0.5s ease-in-out;
			animation-iteration-count: 30;
			/* Blink 10 times */
		}

		@keyframes blinkBackground {
			0% {
				background-color: yellow;
			}

			50% {
				background-color: red;
			}

			100% {
				background-color: yellow;
			}
		}

		@media (max-width: 767.98px) {
			.table.refund-table thead {
				display: none;
			}

			.table.refund-table,
			.table.refund-table tbody,
			.table.refund-table tr,
			.table.refund-table td {
				display: block;
				width: 100%;
			}

			.table.refund-table tr {
				margin: 0.75rem 0;
				padding: 1rem;
				border-radius: 10px;
				background: var(--surface);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
			}

			.table.refund-table tbody td::before {
				content: attr(data-label);
				font-weight: bold;
				color: var(--muted);
				display: block;
				margin-bottom: 5px;
			}
		}
	</style>
</head>

<body>
	<script th:inline="javascript">

		let progressChartInstance = null;
		let barChartInstance = null;
		let Selectedmatrixlabel = 0;
		var Curr_Tier_1_capital = /*[[${CurrentYear_Tier_1_capital}]]*/0;

	</script>
	<script>
		function Getanalyticaldata(a) {
			var labelnameselected = a.getAttribute("setlabelname");
			var labelsrlno = a.getAttribute("setlabelsrlno");
			var labelReport_date = a.getAttribute("setreport_date");
			
			Selectedmatrixlabel = labelsrlno;
			document.getElementById("Analyticsheadername").innerHTML = labelnameselected;

			// Hide all analytics sections first

			document.querySelectorAll(".chart-container").forEach(el => el.style.display = "none");
			document.querySelector(".LiquidAssetsRatio").style.display = "none";
			document.querySelector(".Leverageratiosummblock").style.display = "none";
			document.querySelector(".Leverageratiodtlblock").style.display = "none";
			document.querySelector(".Capitaladequacyratio").style.display = "none"; //hide capitalratio block
			document.querySelector(".Capitaladequacyratiodetail_2").style.display = "none";
			document.querySelector(".Capitaladequacyratiodetail_1").style.display = "none";
			document.querySelector(".GroupExposuredetail").style.display = "none";
			document.querySelector(".Exposure_outside_GCC").style.display = "none";
			document.querySelector(".CountryExposuredetail").style.display = "none";
			document.querySelector(".Mortageloan_block").style.display = "none";
			document.querySelector(".Mortageloan_table").style.display = "none";
			document.querySelector(".Sector_Industrial").style.display = "none";
			document.querySelectorAll(".Freshslippage_tot_adv").forEach(el => el.style.display = "none");
			document.querySelector(".Netovernight_noop").style.display = "none";
			
			// Show sections based on the selected S.No
			if (labelsrlno === "5") {
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatemonthlychart(labels, dataValues, 10, 50);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 50);
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

			} else if (labelsrlno === "4") {
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date='+labelReport_date) // your API URL

					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatemonthlychart(labels, dataValues, 5, 50);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date='+labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 5, 50);
					});
				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
				document.querySelector(".Leverageratiosummblock").style.display = "grid";
			} else if (labelsrlno === "6") {
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno) // your API URL
					.then(response => response.json())
					.then(result => {
						// Convert backend values into arrays
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatemonthlychart(labels, dataValues, 10, 100);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 100);
					});
				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
			} else if (labelsrlno === "1") {

				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date='+labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatemonthlychart(labels, dataValues, 5, 50);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date='+labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 5, 50);
					});

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'CapitalAdequacyratio', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("r15_ratios1").textContent =
								formatNumber(data[0]);
							document.getElementById("r22_ratios2").textContent =
								formatNumber(data[1]);
							document.getElementById("r16_ratios1").textContent =
								formatNumber(data[2]);
							document.getElementById("r18_ratios1").textContent =
								formatNumber(data[3]);
							document.getElementById("r23_ratios1").textContent =
								formatNumber(data[4]);
							document.getElementById("r23_ratios2").textContent =
								formatNumber(data[5]);
							document.getElementById("r45_ratios2").textContent =
								formatNumber(data[6]);
							document.getElementById("r51_ratios2").textContent =
								formatNumber(data[7]);
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});


				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
				document.querySelector(".Capitaladequacyratio").style.display = "grid"; //showing capitalratio block
			} else if (labelsrlno === "2") {


				var trHTML = "";
				document.getElementById("Groupexposurebody").innerHTML = trHTML;

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'SingleGroupExposure' + '&Tier1capital='
					+ Curr_Tier_1_capital, {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (data[3] || "") + "</td>" +
								"<td>" + (data[4] || "") + "</td>" +
								"<td>" + (formatNumber(data[5]) || "") + "</td>" +
								"<td>" + (data[6] + '%' || "") + "</td>" +
								"</tr>";
						});

						document.getElementById("Tier_1_capital").textContent = formatNumber(Curr_Tier_1_capital);

						// Replace body content
						document.getElementById("Groupexposurebody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".GroupExposuredetail").style.display = "block";
			} else if (labelsrlno === "10") {
				

				var trHTML = "";
				document.getElementById("Exposure_outside_GCC_body").innerHTML = trHTML;

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Exposuresummarydata', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("Outside_gcc_exp").textContent =
								(data[0] + '%');
							document.getElementById("Only_gcc_Exp").textContent =
								(data[1] + '%');
							document.getElementById("Outside_gcc_rwa").textContent =
								(data[2] + '%');
							document.getElementById("Gcc_Rwa").textContent =
								(data[3] + '%');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});


				document.querySelector(".CountryExposuredetail").style.display = "grid";

			} else if (labelsrlno === "9") {
				
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Mortageloanappetite', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("Housingloan_Exp").textContent =
								formatNumber(data[0]);
							document.getElementById("Topuploan_Expo").textContent =
								formatNumber(data[1]);
							document.getElementById("Total_mortgage_loan").textContent =
								formatNumber(data[2]);
							document.getElementById("Total_mortgage_loan_per").textContent =
								(data[3] + '%');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				//Mortgage loan Graph api

				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date='+labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatemonthlychart(labels, dataValues, 2, 20);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date='+labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 2, 20);
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");


				document.querySelector(".Mortageloan_block").style.display = "grid";
			} else if (labelsrlno === "7") {

				

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'FreshslippageQoQ', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("Current_Qtr_sli_per").textContent =
								(data[0] + ' %');
							document.getElementById("last_year_slip_hdr").innerHTML =
								(data[1]);
							document.getElementById("last_year_slip_bal").textContent =
								formatNumber(data[2]);

							document.getElementById("First_qtr_slip_hdr").innerHTML =
								(data[3]);
							document.getElementById("First_qtr_slip_bal").textContent =
								formatNumber(data[4]);

							document.getElementById("Second_qtr_slip_hdr").innerHTML =
								(data[5]);
							document.getElementById("Second_qtr_slip_bal").textContent =
								formatNumber(data[6]);

							document.getElementById("Third_qtr_slip_hdr").innerHTML =
								(data[7]);
							document.getElementById("Third_qtr_slip_bal").textContent =
								formatNumber(data[8]);

							document.getElementById("Fourth_qtr_slip_hdr").innerHTML =
								(data[9]);
							document.getElementById("Fourth_qtr_slip_bal").textContent =
								formatNumber(data[10]);
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelectorAll(".Freshslippage_tot_adv").forEach(el => el.style.display = "grid");

			} else if (labelsrlno === "11") {

				
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Sector_Industry', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("Sector_title_name").innerHTML = 'Industry Exposure';
							document.getElementById("Sector_title_name_per").innerHTML = 'Industry Exposure (%)';
							document.getElementById("Sector_classifi_expo").textContent =
								formatNumber(data[0]);
							document.getElementById("Total_expo").textContent =
								formatNumber(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";
			} else if (labelsrlno === "12") {

				
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Sector_Trading', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("Sector_title_name").innerHTML = 'Trading Exposure';
							document.getElementById("Sector_title_name_per").innerHTML = 'Trading Exposure (%)';
							document.getElementById("Sector_classifi_expo").textContent =
								formatNumber(data[0]);
							document.getElementById("Total_expo").textContent =
								formatNumber(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";

			} else if (labelsrlno === "13") {
				
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Sector_Services', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("Sector_title_name").innerHTML = 'Services Exposure';
							document.getElementById("Sector_title_name_per").innerHTML = 'Services Exposure (%)';
							document.getElementById("Sector_classifi_expo").textContent =
								formatNumber(data[0]);
							document.getElementById("Total_expo").textContent =
								formatNumber(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";
			} else if (labelsrlno === "14") {
				
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Sector_Banks', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("Sector_title_name").innerHTML = 'Banks Exposure';
							document.getElementById("Sector_title_name_per").innerHTML = 'Banks Exposure (%)';
							document.getElementById("Sector_classifi_expo").textContent =
								formatNumber(data[0]);
							document.getElementById("Total_expo").textContent =
								formatNumber(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";
			} else if (labelsrlno === "15") {
				
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Sector_Real_Estate', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("Sector_title_name").innerHTML = 'Real Estate Exposure';
							document.getElementById("Sector_title_name_per").innerHTML = 'Real Estate Exposure (%)';
							document.getElementById("Sector_classifi_expo").textContent =
								formatNumber(data[0]);
							document.getElementById("Total_expo").textContent =
								formatNumber(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";
			} else if (labelsrlno === "16") {
				
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Sector_Others', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("Sector_title_name").innerHTML = 'Other Exposure';
							document.getElementById("Sector_title_name_per").innerHTML = 'Other Exposure (%)';
							document.getElementById("Sector_classifi_expo").textContent =
								formatNumber(data[0]);
							document.getElementById("Total_expo").textContent =
								formatNumber(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";
			} else if (labelsrlno === "3") {

				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date='+labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						// Convert backend values into arrays
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatemonthlychart(labels, dataValues, 5, 50);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date='+labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 5, 50);
					});
				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

			} else if (labelsrlno === "8") {

				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date='+labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						// Convert backend values into arrays
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatemonthlychart(labels, dataValues, 10, 100);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date='+labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 100);
					});
				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

			} else if (labelsrlno === "24") {
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date='+labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						// Convert backend values into arrays
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatemonthlychart(labels, dataValues, 200, 2000);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date='+labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 200, 2000);
					});
				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'NetOvernight_noop', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("OVER_BOUGHT_AMOUNT").textContent =
								formatNumber(data[1]);
							document.getElementById("OVER_SOLD_AMOUNT").textContent =
								formatNumber(data[2]);
							document.getElementById("NOOP_AMOUNT_IN_INR").textContent =
								formatNumber(data[3]);
							document.getElementById("LIMIT_AMOUNT_IN_INR").textContent =
								formatNumber(data[4]);
							document.getElementById("HEADROOM_AVAL_AMOUNT_IN_INR").textContent =
								formatNumber(data[5]);
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.getElementById("Netovernight_noop_table_name").innerHTML = 'Net Overnight Position Limit (NOOP)';
				document.querySelector(".Netovernight_noop").style.display = "block";
			}
			
			else if (labelsrlno === "46") {
				
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date='+labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						// Convert backend values into arrays
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatemonthlychart(labels, dataValues, 10, 100);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date='+labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 100);
					});
				
				
				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
				
				fetch("./GetSecuredUnsecureddata?Report_date=" + encodeURIComponent(labelReport_date))
			    .then(response => response.json())
			    .then(result => {

			        // Get tbody element
			        var UnsecuredPositionbody = document.getElementById("UnsecuredPositionbody");
			        if (!UnsecuredPositionbody) {
			            console.error("Table body not found!");
			            return;
			        }
			        UnsecuredPositionbody.innerHTML = "";

			        // Build table rows
			        var trHTML =
			            "<tr><td><b>Secured by tangible Assets</b></td><td style=text-align:right;>" + formatNumber(result.securedFb) + "</td><td style=text-align:right;>"+formatNumber(result.securedNfb)+"</td><td style=text-align:right;>"+formatNumber(result.totalSecured)+"</td></tr>" +
			            "<tr><td>Secured by other Bank Guarantee</td><td style=text-align:right;>" + formatNumber(result.securedOtherBankFb) + "</td><td style=text-align:right;>"+formatNumber(result.securedOtherBankNfb)+"</td><td style=text-align:right;>"+formatNumber(result.totalSecuredOtherBank)+"</td></tr>" +
			            "<tr><td>Interest Suspense</td><td style=text-align:right;>" + formatNumber(result.interestSuspenseFb) + "</td><td style=text-align:right;>" +formatNumber(result.interestSuspenseNfb)+ "</td><td style=text-align:right;>"+formatNumber(result.totalInterestSuspense)+"</td></tr>" +
			            "<tr><td>Provision</td><td style=text-align:right;>"+formatNumber(result.provisionFb) +"</td><td style=text-align:right;>"+ formatNumber(result.provisionNfb) +"</td><td style=text-align:right;>"+ formatNumber(result.totalProvision) +"</td></tr>" +
			            "<tr><td><b>Unsecured</b></td><td style=text-align:right;><b>"+ formatNumber(result.unsecuredFb) +"</b></td><td style=text-align:right;><b>"+formatNumber(result.unsecuredNfb)+"</b></td><td style=text-align:right;><b>"+formatNumber(result.totalFbNfb)+"</b></td></tr>" +
			            "<tr><td></td><td>Balance FB</td><td style=text-align:right;>"+ formatNumber(result.balanceFb) +"</td><td style=text-align:right;><b>"+result.totalRatio+"%</b></td></tr>" +
			            "<tr><td></td><td>Balance NFB</td><td style=text-align:right;>"+ formatNumber(result.balanceNfb) +"</td><td></td></tr>" +
			            "<tr><td></td><td><b>Total Advances</b></td><td style=text-align:right;><b>"+ formatNumber(result.totalAdvances)+"</b></td><td></td></tr>" +
			            "<tr><td></td><td></td><td><b>Unsecured Cap @55% of total advance</b></td><td style=text-align:right;><b>"+ formatNumber(result.unsecuredCapTa)+"</b></td></tr>" +
			            "<tr><td></td><td></td><td><b>Headroom available in AED</b></td><td style=text-align:right;><b>"+ formatNumber(result.headroomAvailableAed)+"</b></td></tr>" +
			            "<tr><td></td><td></td><td><b>Headroom available in USD</b></td><td style=text-align:right;><b>"+ formatNumber(result.headroomAvailableUsd)+"</b></td></tr>";

			        // Set table body content
			        UnsecuredPositionbody.innerHTML = trHTML;

			        // Show table section
			        document.querySelector(".UnsecuredPosition").style.display = "block";
			    });

			}
		}

		function Getexposuredetail(a) {


			const Report_dateSelected = '30-09-2025';



			if (a === 'Outsidegcc') {
				var trHTML = "";
				document.getElementById("Exposure_outside_GCC_body").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + Report_dateSelected + '&Data_Type_Used=' + 'Exposureoutsidegcc', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (formatNumber(data[1]) || "") + "</td>" +
								"<td>" + (formatNumber(data[2]) || "") + "</td>" +
								"<td>" + (data[3] + '%' || "") + "</td>" +
								"<td>" + (data[4] + '%' || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("Exposure_outside_GCC_body").innerHTML = trHTML;
						document.getElementById("CountryExposuretablename").innerHTML = 'Outside GCC Country Exposure';

					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".Exposure_outside_GCC").style.display = "block";
			} else if (a === 'OnlyGcc') {
				var trHTML = "";
				document.getElementById("Exposure_outside_GCC_body").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + Report_dateSelected + '&Data_Type_Used=' + 'Exposureonlygcc', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (formatNumber(data[1]) || "") + "</td>" +
								"<td>" + (formatNumber(data[2]) || "") + "</td>" +
								"<td>" + (data[3] + '%' || "") + "</td>" +
								"<td>" + (data[4] + '%' || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("Exposure_outside_GCC_body").innerHTML = trHTML;
						document.getElementById("CountryExposuretablename").innerHTML = 'GCC Country Exposure';
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".Exposure_outside_GCC").style.display = "block";


			} else if (a === "Toptenhousingloan") {

				var trHTML = "";
				document.getElementById("Mortageloan_table_body").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + Report_dateSelected + '&Data_Type_Used=' + 'Toptenhousingloandata', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + ((data[1]) || "") + "</td>" +
								"<td>" + (formatNumber(data[2]) || "") + "</td>" +
								"<td>" + (data[3] + '%' || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("Mortageloan_table_body").innerHTML = trHTML;
						document.getElementById("Mortageloan_table_name").innerHTML = 'Top 10 Housing loan customer detail';
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".Mortageloan_table").style.display = "block";

			} else if (a === "Toptentopuploan") {


				var trHTML = "";
				document.getElementById("Mortageloan_table_body").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + Report_dateSelected + '&Data_Type_Used=' + 'Toptentopuploandata', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + ((data[1]) || "") + "</td>" +
								"<td>" + (formatNumber(data[2]) || "") + "</td>" +
								"<td>" + (data[3] + '%' || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("Mortageloan_table_body").innerHTML = trHTML;
						document.getElementById("Mortageloan_table_name").innerHTML = 'Top 10 Baroda Top-up loan customer detail';
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".Mortageloan_table").style.display = "block";
			}


		}

		function updateLiquidAssetsTable(periodKey) {

			const dateParts = periodKey.split("-");

			const selectedDate = `${dateParts[0]}-${dateParts[1]}-${dateParts[2]}`;

			if (Selectedmatrixlabel == "5") {

				fetch("./GetElarreport?Report_date=" + encodeURIComponent(selectedDate))
					.then(response => response.json())
					.then(result => {

						// Example fields returned from backend:
						// result.r1_nominal_amount
						// result.r2_nominal_amount
						// result.total_liquid_assets

						document.getElementById("r1_nominal_amount").textContent =
							formatNumber(result.r1_nominal_amount);

						document.getElementById("r2_nominal_amount").textContent =
							formatNumber(result.r2_nominal_amount);

						document.getElementById("r3_nominal_amount").textContent =
							formatNumber(result.r3_nominal_amount);

						document.getElementById("r4_nominal_amount").textContent =
							formatNumber(result.r4_nominal_amount);

						document.getElementById("r5_nominal_amount").textContent =
							formatNumber(result.r5_nominal_amount);


						document.getElementById("r6_nominal_amount").textContent =
							formatNumber(result.r6_nominal_amount);
						document.getElementById("r6_eligi_liq_assets").textContent =
							formatNumber(result.r6_eligi_liq_assets);

						document.getElementById("r7_nominal_amount").textContent =
							formatNumber(result.r7_nominal_amount);

						document.getElementById("r8_nominal_amount").textContent =
							formatNumber(result.r8_nominal_amount);

						document.getElementById("r9_nominal_amount").textContent =
							formatNumber(result.r9_nominal_amount);

						document.getElementById("r10_nominal_amount").textContent =
							formatNumber(result.r10_nominal_amount);

						document.getElementById("r11_nominal_amount").textContent =
							formatNumber(result.r11_nominal_amount);

						document.getElementById("r11_eligi_liq_assets").textContent =
							formatNumber(result.r11_eligi_liq_assets);



						document.getElementById("r12_nominal_amount").textContent =
							formatNumber(result.r12_nominal_amount);

						document.getElementById("r13_nominal_amount").textContent =
							formatNumber(result.r13_nominal_amount);

						document.getElementById("r14_eligi_liq_assets").textContent =
							formatNumber(result.r14_eligi_liq_assets);

						document.getElementById("r15_eligi_liq_assets").textContent =
							(result.r15_eligi_liq_assets * 100) + " %";
					})
					.catch(err => console.error("Error loading ELAR report:", err));


				document.querySelector(".LiquidAssetsRatio").style.display = "block";
			} else if (Selectedmatrixlabel === "9") {
				var trHTML = "";
				document.getElementById("Mortageloan_table_body").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'Mortgageloantopten', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + ((data[1]) || "") + "</td>" +
								"<td>" + (formatNumber(data[2]) || "") + "</td>" +
								"<td>" + (data[3] + '%' || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("Mortageloan_table_body").innerHTML = trHTML;
						document.getElementById("Mortageloan_table_name").innerHTML = 'Top 10 Mortgage loan customer detail';
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".Mortageloan_table").style.display = "block";
			} else if (Selectedmatrixlabel === "1") {
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'CapitalAdequacyratio', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("r15_ratios1").textContent =
								formatNumber(data[0]);
							document.getElementById("r22_ratios2").textContent =
								formatNumber(data[1]);
							document.getElementById("r16_ratios1").textContent =
								formatNumber(data[2]);
							document.getElementById("r18_ratios1").textContent =
								formatNumber(data[3]);
							document.getElementById("r23_ratios1").textContent =
								formatNumber(data[4]);
							document.getElementById("r23_ratios2").textContent =
								formatNumber(data[5]);
							document.getElementById("r45_ratios2").textContent =
								formatNumber(data[6]);
							document.getElementById("r51_ratios2").textContent =
								formatNumber(data[7]);
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});


				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
				document.querySelector(".Capitaladequacyratio").style.display = "grid"; //showing capitalratio block
			} else {
				alert('Sorry invalid operation selected')
			}
		}

		function ShowLeverageratiodtlblock(a) {
			if (a === "4") {

				document.querySelector(".Leverageratiodtlblock").style.display = "grid";
			} else if (a === "1.1") {
				document.querySelector(".Capitaladequacyratiodetail_1").style.display = "grid";
				document.querySelector(".Capitaladequacyratiodetail_2").style.display = "none";
			} else if (a === "1.2") {
				document.querySelector(".Capitaladequacyratiodetail_2").style.display = "grid";
				document.querySelector(".Capitaladequacyratiodetail_1").style.display = "none";
			}
		}

		// Helper formatting
		function formatNumber(value) {
			if (!value) return "0";
			return Number(value).toLocaleString("en-US", {
				minimumFractionDigits: 0,
				maximumFractionDigits: 0
			});
		}
		
		
		function formatDecimalValue(value) {
		    if (value === null || value === undefined || value === "") {
		        return "0.00";
		    }

		    const num = Number(value);

		    if (isNaN(num)) {
		        return "00.00";
		    }

		    return num.toFixed(2);
		}
		
		function formatDateForInput(dateValue) {
		    if (!dateValue) return "";

		    const d = new Date(dateValue);
		    if (isNaN(d)) return "";

		    const year  = d.getFullYear();
		    const month = String(d.getMonth() + 1).padStart(2, '0');
		    const day   = String(d.getDate()).padStart(2, '0');

		    return `${year}-${month}-${day}`;
		}


		function onDateChange(input) {
			const selectedDate = input.value;
			const sNo = input.dataset.sno;
			const label = input.dataset.label;
			var trHTML = "";
			document.getElementById("Matrixtablebody").innerHTML = trHTML;

			fetch('./GetRT_Matrix_monitoring_entity?Report_date=' + selectedDate + '&Matrixserial_no=' + sNo+'&MatrixLabel'+
			label, {
				method: 'POST',
				headers: {
					'Content-Type': 'application/x-www-form-urlencoded'
				}
			})
				.then(response => {
					if (!response.ok) {
						throw new Error("HTTP error " + response.status);
					}
					return response.json();
				})
				.then(list => {
					trHTML = "";

					// Use plain JS loop; you already use jQuery only for DOM
					list.forEach(function (data) {
						const statusText = data.status === 'Y' ? 'Within limit' : 'Breach';
						const statusColor = data.status === 'Y' ? 'greenyellow' : 'coral';


						trHTML += `
						        <tr style="font-size: small;">
						            <td>${data.s_no ?? ""}</td>

						            <td class="truncate">
						                <a href="#"
						                   onclick="Getanalyticaldata(this);"
						                   setlabelname="${data.matrix_label ?? ""}"
						                   setlabelsrlno="${data.s_no ?? ""}"
										   setreport_date="${data.report_date ?? ""}">
						                   ${data.matrix_label ?? ""}
						                </a>
						            </td>

						            <td>${data.guidelines_or_policy ?? ""}</td>

						            <!-- Limit -->
						            <td style="text-align: center;">
						                <span class="badge-status">
						                    <span class="limit-value">
						                        ${formatDecimalValue(data.limit_assigned) ?? "0.00"}%
						                    </span>
						                </span>
						            </td>

						            <!-- Today's Position -->
						            <td style="text-align: center;">
						                <span class="badge-status">
						                    <span class="position-value">
						                        ${formatDecimalValue(data.position_of_matrix) ?? "0.00"}%
						                    </span>
						                </span>
						            </td>

						            <!-- Date -->
						            <td style="text-align: center;">
						                <input class="badge-status"
						                       type="date"
						                       value="${formatDateForInput(data.report_date) ?? ""}"
						                       data-sno="${data.s_no ?? ""}"
						                       data-label="${data.matrix_label ?? ""}"
						                       onchange="onDateChange(this)">
						            </td>

						            <!-- Status -->
						            <td class="status-cell"
						                style="background-color:${statusColor};">
						                ${statusText}
						            </td>
						        </tr>`;
					});

					// Replace body content
					document.getElementById("Matrixtablebody").innerHTML = trHTML;
				})
				.catch(error => {
					alert("Error fetching exposure data: " + error.message);
					$("#invalidfile").modal("toggle");
				});

		}


		document.addEventListener("DOMContentLoaded", function () {

			Initiatemonthlychart(labels, dataValues, 10, 100);
			Initiatedailychart(labels, dataValues, 10, 100);
		});

		function Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize) {
			const ctx = document.getElementById("Linechartformonthlyreport");
			if (!ctx) return;

			if (barChartInstance) {
				barChartInstance.destroy();
			}

			barChartInstance = new Chart(ctx, {
				type: "line",
				data: {
					labels: labels,
					datasets: [
						{
							label: "Utilization %",
							data: dataValues,
							backgroundColor: "rgba(139, 92, 246, 0.65)",   // bar fill
							borderColor: "#8b5cf6",                        // bar border
							borderWidth: 1.5,
							borderRadius: 6,                               // rounded corners
							maxBarThickness: 26,                           // slim bars
							hoverBackgroundColor: "rgba(139, 92, 246, 0.9)",
							hoverBorderColor: "#7c3aed"
						},
					],
				},
				options: {
					responsive: true,
					maintainAspectRatio: false,
					plugins: {
						legend: {display: false},
						tooltip: {
							callbacks: {
								label: (ctx) => `${ctx.parsed.y}%`
							}
						}
					},
					onClick: (evt, elements) => {
						if (!elements.length) return;
						const idx = elements[0].index;
						const period = labels[idx];   // e.g. "Jan"
						updateLiquidAssetsTable(period);
					},
					scales: {
						x: {
							grid: {
								display: false
							},
							ticks: {
								color: "#6b7280",
								font: {size: 10},
								maxRotation: 45,
								minRotation: 45
							},
							title: {
								display: true,
								text: 'Current Year Report (↑)',
								color: '#6b7280',
								font: {
									size: 15,
									weight: '800'
								},
								padding: {
									top: 8    // space between labels and title
								}
							}

						},
						y: {
							beginAtZero: true,
							max: yaxismaxsize,
							grid: {
								color: "#e5e7eb",
								drawBorder: false
							},
							ticks: {
								stepSize: CalculatedStepSize,
								autoSkip: false,
								color: "#6b7280",
								font: {size: 10},
								callback: (value) => value + "%"
							}
						}
					}
				}
			});
		}

		///Progressing chart function for currenct Month
		function Initiatedailychart(labels, dataValues, CalculatedStepSize, yaxismaxsize) {
			const ctx = document.getElementById("Linechartfordailyreport");
			if (!ctx) return;

			if (progressChartInstance) {
				progressChartInstance.destroy();
			}


			progressChartInstance = new Chart(ctx, {
				type: "line",
				data: {
					labels: labels,          // 🔹 dynamic labels from backend
					datasets: [
						{
							label: "Utilization %",
							data: dataValues,                        // 🔹 dynamic data
							borderColor: "#8b5cf6",
							backgroundColor: "rgba(139, 92, 246, 0.15)",
							borderWidth: 2,
							fill: true,
							tension: 0.35,                           // smooth curve
							pointRadius: 3,
							pointHoverRadius: 5,
							pointBackgroundColor: "#8b5cf6",
							pointBorderColor: "#ffffff",
							pointBorderWidth: 1.5
						},
					],
				},
				options: {
					responsive: true,
					maintainAspectRatio: false,
					plugins: {
						legend: {display: false},
						tooltip: {
							callbacks: {
								label: (ctx) => `${ctx.parsed.y}%`
							}
						}
					},
					scales: {
						x: {
							grid: {
								display: false
							},
							ticks: {
								color: "#6b7280",
								font: {size: 10},
								maxRotation: 45,
								minRotation: 45
							},
							title: {
								display: true,
								text: 'Current Month Report (↑)',
								color: '#6b7280',
								font: {
									size: 15,
									weight: '800'
								},
								padding: {
									top: 8    // space between labels and title
								}
							}
						},
						y: {
							beginAtZero: true,
							max: yaxismaxsize,
							grid: {
								color: "#e5e7eb",
								drawBorder: false
							},
							ticks: {
								stepSize: CalculatedStepSize,
								autoSkip: false,
								color: "#6b7280",
								font: {size: 10},
								callback: (value) => value + "%"
							}
						}
					}
				}
			});
		}

	</script>

	<div th:insert="~{XBRLHeaderMenu :: header}" class="fixed-top"></div>

	<!-- Use full width of page -->
	<div class="container-fluid main-content">
		<div class="row g-3">
			<!-- LEFT: table uses full left half -->
			<div class="col-lg-6 col-md-12">
				<h4>List of all Matrix monitored by Risk Management</h4>
				<div class="table-wrap">
					<table class="table refund-table align-middle mb-0">
						<thead>
							<tr>
								<th>S No</th>
								<th>Regulatory Caps / Limits</th>
								<th>Guidelines / Policy</th>
								<th>Limit</th>
								<th>Today's Position</th>
								<th>Reporting Date Position (dd-MM-yyyy)</th>
								<th>Status</th>
							</tr>
						</thead>
						<tbody id="Matrixtablebody">
							<tr style="font-size: small;" th:each="Matrixlist : ${Matrixlistdata}">

								<td th:text="${Matrixlist.s_no}">1</td>

								<td class="truncate">
									<a href="#" th:text="${Matrixlist.matrix_label}" onclick="Getanalyticaldata(this);"
										th:attr="setlabelname=${Matrixlist.matrix_label},setlabelsrlno=${Matrixlist.s_no},
										setreport_date=${#dates.format(Matrixlist.report_date,'dd-MM-yyyy')}"></a>
								</td>

								<td th:text="${Matrixlist.guidelines_or_policy}">CBUAE</td>

								<!-- 1st percentage -->
								<td style="text-align: center;">
									<span class="badge-status">
										<span
											th:text="${#numbers.formatDecimal(Matrixlist.limit_assigned, 2, 'COMMA', 2, 'POINT')}">0.00%</span>
									</span>
								</td>

								<!-- 2nd percentage -->
								<td style="text-align: center;">
									<span class="badge-status">
										<span
											th:text="${#numbers.formatDecimal(Matrixlist.position_of_matrix, 2, 'COMMA', 2, 'POINT')}">0.00%</span>
									</span>
								</td>

								<!-- Date -->
								<td style="text-align: center;">

									<input class="badge-status" type="date" th:attr="data-sno=${Matrixlist.s_no},
										data-label=${Matrixlist.matrix_label}" onchange="onDateChange(this)"
										th:value="${#dates.format(Matrixlist.report_date, 'yyyy-MM-dd')}" />
								</td>
								<th:block th:switch="${Matrixlist.status}">
									<td th:case="'Y'" style="background-color: greenyellow;">Within limit</td>
									<td th:case="'N'" style="background-color: coral;" class="blink-bg">Breach</td>

								</th:block>

							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<!-- RIGHT: graphs use full right half -->
			<div class="col-lg-6 col-md-12">
				<h4 id="Analyticsheadername">Analytics</h4>
				<div class="chart-card">
					<div class="stats-grid Leverageratiosummblock" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Tier 1 Capital</div>
							</div>
							<div class="stat-card-value" id="r21_total">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title"><a href="#" onclick="ShowLeverageratiodtlblock('4');">Total
										Exposure</a></div>
							</div>
							<div class="stat-card-value" id="r22_total">0.00</div>
						</div>
					</div>
					<div class="stats-grid Leverageratiodtlblock" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">On Balance Exposure</div>
							</div>
							<div class="stat-card-value" id="r3_total">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Derivative Exposure</div>
							</div>
							<div class="stat-card-value" id="r12_total">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Off Balance Exposure</div>
							</div>
							<div class="stat-card-value" id="r20_total">0.00</div>
						</div>
					</div>
					<!--Capital Adequecy ratio block-->
					<div class="stats-grid Capitaladequacyratio" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title"> <a href="#"
										onclick="ShowLeverageratiodtlblock('1.1');">Tier 1 Capital</a></div>
							</div>
							<div class="stat-card-value" id="r15_ratios1">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title"><a href="#"
										onclick="ShowLeverageratiodtlblock('1.2');">Pillar 1 (Total RWA)</a></div>
							</div>
							<div class="stat-card-value" id="r22_ratios2">0.00</div>
						</div>
					</div>

					<div class="stats-grid Capitaladequacyratiodetail_1" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Share Capital</div>
							</div>
							<div class="stat-card-value" id="r16_ratios1">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Eligible Reserves</div>
							</div>
							<div class="stat-card-value" id="r18_ratios1">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Retained Earnings / (-) Loss</div>
							</div>
							<div class="stat-card-value" id="r23_ratios1">0.00</div>
						</div>
					</div>

					<div class="stats-grid Capitaladequacyratiodetail_2" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Credit Risk Standardised approach (CSA)</div>
							</div>
							<div class="stat-card-value" id="r23_ratios2">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Market Risk - Standardised approaches (SA)</div>
							</div>
							<div class="stat-card-value" id="r45_ratios2">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Operational Risk</div>
							</div>
							<div class="stat-card-value" id="r51_ratios2">0.00</div>
						</div>
					</div>

					<!--Exposure to outside Gcc-->

					<div class="stats-grid CountryExposuredetail" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title"><a href="#"
										onclick="Getexposuredetail('Outsidegcc');">Outside GCC Exposure
										(%)</a></div>
							</div>
							<div class="stat-card-value" id="Outside_gcc_exp">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Outside Gcc Rwa</div>
							</div>
							<div class="stat-card-value" id="Outside_gcc_rwa">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title"><a href="#" onclick="Getexposuredetail('OnlyGcc');">GCC
										Exposure (%)</a></div>
							</div>
							<div class="stat-card-value" id="Only_gcc_Exp">0.00</div>
						</div>

						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">GCC RWA</div>
							</div>
							<div class="stat-card-value" id="Gcc_Rwa">0.00</div>
						</div>
					</div>

					<!--Mortgage Loan Appetite-->

					<div class="stats-grid Mortageloan_block" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title"><a href="#"
										onclick="Getexposuredetail('Toptenhousingloan');">Housing loan</a>
								</div>
							</div>
							<div class="stat-card-value" id="Housingloan_Exp">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title"><a href="#"
										onclick="Getexposuredetail('Toptentopuploan');">Baroda Topup
										loan</a></div>
							</div>
							<div class="stat-card-value" id="Topuploan_Expo">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Total Mortgage loan</div>
							</div>
							<div class="stat-card-value" id="Total_mortgage_loan">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Mortgage Loan Appetite (%)</div>
							</div>
							<div class="stat-card-value" id="Total_mortgage_loan_per">0.00</div>
						</div>
					</div>
					<!--Fresh Slippage to Total Advances Ratio (Q on Q)-->
					<div class="stats-grid Freshslippage_tot_adv" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Current Qtr Slippage (%)</div>
							</div>
							<div class="stat-card-value" id="Current_Qtr_sli_per">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title" id="last_year_slip_hdr"></div>
							</div>
							<div class="stat-card-value" id="last_year_slip_bal">0.00</div>
						</div>
					</div>

					<div class="stats-grid Freshslippage_tot_adv" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title" id="First_qtr_slip_hdr"></div>
							</div>
							<div class="stat-card-value" id="First_qtr_slip_bal">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title" id="Second_qtr_slip_hdr"></div>
							</div>
							<div class="stat-card-value" id="Second_qtr_slip_bal">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title" id="Third_qtr_slip_hdr"></div>
							</div>
							<div class="stat-card-value" id="Third_qtr_slip_bal">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title" id="Fourth_qtr_slip_hdr"></div>
							</div>
							<div class="stat-card-value" id="Fourth_qtr_slip_bal">0.00</div>
						</div>
					</div>

					<div class="stats-grid Sector_Industrial" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title" id="Sector_title_name">Sector Class Title</div>
							</div>
							<div class="stat-card-value" id="Sector_classifi_expo">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Total Exposure</div>
							</div>
							<div class="stat-card-value" id="Total_expo">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title" id="Sector_title_name_per">Sector Class (%)</div>
							</div>
							<div class="stat-card-value" id="Sector_classifi_per">0.00</div>
						</div>
					</div>

					<!-- Chart -->
					<div class="chart-container" style="display: none;">
						<canvas id="Linechartformonthlyreport"></canvas>

					</div>

					<!--Current Month progressing chart-->
					<div class="chart-container" style="display: none;">
						<canvas id="Linechartfordailyreport"></canvas>

					</div>
					
					<!--	Group and Single Borrower detail -->
					<div class="UnsecuredPosition" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th>Secured Vs Unsecured (From ACPR FB+NFB Dump)</th>
									<th style=text-align:right;>Fund Based</th>
									<th style=text-align:right;>Non Fund Based</th>
									<th style=text-align:right;>TOTAL</th>
								</tr>
							</thead>
							<tbody id="UnsecuredPositionbody">
							</tbody>
						</table>
					</div>
					
					<!--	Group and Single Borrower detail -->
					<div class="GroupExposuredetail" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th colspan="7">
										BORROWERS EQUAL TO OR ABOVE 10% OF BANK'S TIER 1 CAPITAL
									</th>
								</tr>
								<tr style="background-color: #dee2e6">
									<th>Tier 1 Capital</th>
									<th id="Tier_1_capital">0.00</th>
									<th colspan="5"></th>
								</tr>
								<tr style="background-color: #dee2e6">
									<th>Customer Id</th>
									<th>Name of the Borrower</th>
									<th>Borrower Type</th>
									<th>Group Name</th>
									<th>Currency</th>
									<th>Balance</th>
									<th>As % of Tier 1 Capital</th>
								</tr>


							</thead>
							<tbody id="Groupexposurebody">
							</tbody>
						</table>
					</div>

					<div class="Exposure_outside_GCC" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th colspan="5" id="CountryExposuretablename" style="text-align: center;">Table Name
									</th>
								</tr>
								<tr>
									<th>Country Name</th>
									<th>Balance</th>
									<th>RWA</th>
									<th>Total Exposure (%)</th>
									<th>Total RWA (%)</th>
								</tr>


							</thead>
							<tbody id="Exposure_outside_GCC_body">
							</tbody>
						</table>
					</div>
					<!--	Mortage loan Appetite detail table-->
					<div class="Mortageloan_table" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th colspan="5" id="Mortageloan_table_name" style="text-align: center;">Table Name
									</th>
								</tr>
								<tr>
									<th>Customer Id</th>
									<th>Customer Name</th>
									<th>Balance</th>
									<th>Loans as a % of total Credit</th>
								</tr>


							</thead>
							<tbody id="Mortageloan_table_body">
							</tbody>
						</table>
					</div>

					<!--Net Overnight position Noop calculation-->

					<div class="Netovernight_noop" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th colspan="2" id="Netovernight_noop_table_name" style="text-align: center;">Table
										Name
									</th>
								</tr>
							</thead>
							<tbody id="Netovernight_noop_table_body">
								<tr>
									<td>Over Bought In (AED)</td>
									<td id="OVER_BOUGHT_AMOUNT">0.00</td>
								</tr>
								<tr>
									<td>Over Sold In (AED)</td>
									<td id="OVER_SOLD_AMOUNT">0.00</td>
								</tr>
								<tr>
									<td>Noop Amount in INR</td>
									<td id="NOOP_AMOUNT_IN_INR">0.00</td>
								</tr>
								<tr>
									<td>Limit Amount in INR</td>
									<td id="LIMIT_AMOUNT_IN_INR">0.00</td>
								</tr>
								<tr>
									<td>Headroom Amount Available in INR</td>
									<td id="HEADROOM_AVAL_AMOUNT_IN_INR">0.00</td>
								</tr>


							</tbody>
						</table>
					</div>

				</div>

				<div class="LiquidAssetsRatio" style="display: none;">

					<table class="table refund-table align-middle mb-0">
						<thead>
							<tr style="background-color: #dee2e6">
								<th style="text-align: right">1</th>
								<th>High Quality Liquid Assets</th>
								<th>Nominal amount</th>
								<th>Eligible Liquid Asset</th>
							</tr>


						</thead>
						<tbody>

							<tr>
								<td style="text-align: right">1.1</td>
								<td>Physical cash in hand at the bank</td>
								<td style="text-align: right" id="r1_nominal_amount"></td>
								<td rowspan="5" style="background-color: #747472" th:text="${r1_nominal_amount}"></td>
							</tr>
							<tr>
								<td style="text-align: right">1.2</td>
								<td>Statutory reserves with Central Bank</td>
								<td style="text-align: right" id="r2_nominal_amount" th:text="${r2_nominal_amount}">
								</td>
							</tr>
							<tr>
								<td style="text-align: right">1.3</td>
								<td>Free and other account balances at the Central Bank (excluding statutory reserves)
								</td>
								<td style="text-align: right" id="r3_nominal_amount" th:text="${r3_nominal_amount}">
								</td>
							</tr>
							<tr>
								<td style="text-align: right">1.4</td>
								<td>Central Bank CDs (unencumbered)</td>
								<td style="text-align: right" id="r4_nominal_amount" th:text="${r4_nominal_amount}">
								</td>
							</tr>
							<tr>
								<td style="text-align: right">1.5</td>
								<td>UAE Federal Government Bonds and Sukuks</td>
								<td style="text-align: right" id="r5_nominal_amount" th:text="${r5_nominal_amount}">
								</td>
							</tr>
							<tr>
								<td></td>
								<td style="background-color: #b3b6b9">Sub Total (1.1 to 1.5)</td>
								<td style="text-align: right; background-color: #b3b6b9" th:text="${r6_nominal_amount}"
									id="r6_nominal_amount"></td>
								<td style="text-align: right; background-color: #b3b6b9"
									th:text="${r6_eligi_liq_assets}" id="r6_eligi_liq_assets"></td>

							</tr>


							<tr>
								<td style="text-align: right">1.6</td>
								<td>UAE local governments publicly traded debt securities
									(0% Risk Weighted under BII Standardized Approach)
									Rated A+ and above</td>
								<td style="text-align: right" id="r7_nominal_amount" th:text="${r7_nominal_amount}">
								</td>
								<td rowspan="4" style="background-color: #747472"></td>
							</tr>
							<tr>
								<td style="text-align: right">1.7</td>
								<td>UAE local governments publicly traded debt securities
									(0% Risk Weighted under BII Standardized Approach)
									Rated A and below or unrated</td>
								<td style="text-align: right" th:text="${r8_nominal_amount}" id="r8_nominal_amount">
								</td>
							</tr>
							<tr>
								<td style="text-align: right">1.8</td>
								<td>UAE Public sector publicly traded debt securities
									(non commercial, 0% Risk Weighted under BII Standardized Approach)
									Rated A+ and above</td>
								<td style="text-align: right" th:text="${r9_nominal_amount}" id="r9_nominal_amount">
								</td>
							</tr>
							<tr>
								<td style="text-align: right">1.9</td>
								<td>UAE Public sector publicly traded debt securities
									(non commercial, 0% Risk Weighted under BII Standardized Approach)
									Rated A and below or unrated</td>
								<td style="text-align: right" th:text="${r10_nominal_amount}" id="r10_nominal_amount">
								</td>
							</tr>
							<tr>
								<td></td>
								<td style="background-color: #b3b6b9">Sub total (1.6 to 1.9)</td>
								<td style="text-align: right; background-color: #b3b6b9" th:text="${r11_nominal_amount}"
									id="r11_nominal_amount"></td>
								<td style="text-align: right; background-color: #b3b6b9"
									th:text="${r11_eligi_liq_assets}" id="r11_eligi_liq_assets"></td>

							</tr>
							<tr>
								<td style="text-align: right">1.10</td>
								<td>Foreign Sovereign debt instruments or instruments issued by their respective central
									banks
									(0% Risk Weighted under Basel II Standardized Approach)</td>
								<td style="text-align: right" th:text="${r12_nominal_amount}" id="r12_nominal_amount">
								</td>
							</tr>
							<tr>
								<td>11.1</td>
								<td style="background-color: #b3b6b9">Total (1.10 + Sub total (1.6 to 1.9) + Sub Total
									(1.1 to 1.5))</td>
								<td style="text-align: right; background-color: #b3b6b9" th:text="${r13_nominal_amount}"
									id="r13_nominal_amount"></td>
								<td style="text-align: right; background-color: #b3b6b9"
									th:text="${r13_eligi_liq_assets}" id="r13_eligi_liq_assets"></td>

							</tr>
							<tr>
								<td>2</td>
								<td style="background-color: #b3b6b9">Total liabilities</td>
								<td rowspan="2" style="background-color: #747472"></td>
								<td style="text-align: right" id="r14_eligi_liq_assets"
									th:text="${r14_eligi_liq_assets}"></td>

							</tr>
							<tr>
								<td>3</td>
								<td style="background-color: #b3b6b9">Eligible Liquid Assets Ratio (ELAR)</td>

								<td style="text-align: right;background-color: #b3b6b9" id="r15_eligi_liq_assets"
									th:text="${r15_eligi_liq_assets}"></td>

							</tr>
						</tbody>

					</table>

				</div>
			</div>
		</div>

	</div>

</body>

</html>