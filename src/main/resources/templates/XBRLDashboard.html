<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<link rel="icon" th:href="@{/images/Bornfire.png}" type="image/x-icon">
	<title>Risk Insights — Dashboard</title>

	<!-- CSS Dependencies -->
	<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
	<link rel="stylesheet" th:href="@{/css/datatables.min.css}">
	<link rel="stylesheet" th:href="@{/css/CustomButton.css}">
	<link rel="stylesheet" th:href="@{/css/all.min.css}">
	<script th:src="@{/js/chart.js}"></script>
	<script th:src="@{/js/datatablesnew.js}"></script>
	<link rel="stylesheet" type="text/css" href="/webjars/font-awesome/5.9.0/css/all.min.css"
		th:href="@{/webjars/font-awesome/5.9.0/css/all.min.css}">




	<style>
		:root {
			--bg: #f9fbff;
			--surface: #ffffff;
			--border: rgba(0, 0, 0, 0.15);
			--text: #0f172a;
			--muted: #6b7280;
			--textcolorheaderwhite: white;
			--processing: #3b82f6;
			--approved: #16a34a;
			--rejected: #ef4444;
			--pending: #f59e0b;
			--refunded: #8b5cf6;

			/* Primary Colors */
			--color-primary: #8b5cf6;
			--color-primary-hover: #7c3aed;
			--color-primary-50: rgba(139, 92, 246, 0.05);
			--color-primary-100: rgba(139, 92, 246, 0.1);
			--color-primary-200: rgba(139, 92, 246, 0.2);
			/* Semantic Colors */
			--color-success: #10b981;
			--color-success-50: rgba(16, 185, 129, 0.05);
			--color-success-100: rgba(16, 185, 129, 0.1);
			--color-warning: #f59e0b;
			--color-warning-50: rgba(245, 158, 11, 0.05);
			--color-warning-100: rgba(245, 158, 11, 0.1);
			--color-error: #ef4444;
			--color-error-50: rgba(239, 68, 68, 0.05);
			--color-error-100: rgba(239, 68, 68, 0.1);
			--color-info: #3b82f6;
			--color-info-50: rgba(59, 130, 246, 0.05);
			--color-info-100: rgba(59, 130, 246, 0.1);
			/* Text Colors */
			--color-text: #1e293b;
			--color-text-secondary: #475569;
			--color-text-muted: #94a3b8;
			/* Background Colors */
			--color-background: #ffffff;
			--color-surface: #f8fafc;
			--color-surface-hover: #f1f5f9;
			/* Border Colors */
			--color-border: black;
			/* Typography */
			--font-primary: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
			--text-xs: 0.75rem;
			--text-sm: 0.875rem;
			--text-base: 1rem;
			--text-lg: 1.125rem;
			--text-xl: 1.25rem;
			--text-2xl: 1.5rem;
			--text-3xl: 1.75rem;
			--text-4xl: 2rem;
			/* Font Weights */
			--weight-normal: 400;
			--weight-medium: 500;
			--weight-semibold: 600;
			--weight-bold: 700;
			/* Spacing */
			--space-xs: 0.25rem;
			--space-sm: 0.5rem;
			--space-base: 0.75rem;
			--space-md: 1rem;
			--space-lg: 1.5rem;
			--space-xl: 2rem;
			--space-2xl: 3rem;
			--space-3xl: 4rem;
			/* Border Radius */
			--radius-sm: 0.25rem;
			--radius-md: 0.5rem;
			--radius-lg: 0.75rem;
			--radius-xl: 1rem;
			--radius-full: 9999px;
			/* Shadows */
			--shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
			--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
			--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
			/* Layout */
			--sidebar-width: 260px;
			--sidebar-collapsed-width: 80px;
			--header-height: 64px;
			/* Transitions */
			--transition: 0.2s ease;
		}

		body {
			margin-top: 5px;
			background: var(--bg);
			font-family: Arial, sans-serif;
		}

		.container-fluid {
			margin-top: 130px;
		}

		/* Card‐like wrapper for table */
		.table-wrap {
			overflow: auto;
			background: var(--surface);
			box-shadow: 0 10px 30px rgba(15, 23, 42, 0.05);
			width: 100%;
			margin-bottom: 20px;
		}

		.table.refund-table {
			background: var(--surface);
			color: var(--text);
			margin-bottom: 0;
		}

		.table.refund-table thead th {
			position: sticky;
			top: 0;
			background: brown;
			color: var(--textcolorheaderwhite);
			font-weight: 700;
			font-size: 0.65rem;
			border: 1px solid;
			text-transform: uppercase;
			border-color: black;
		}

		.table.refund-table tbody td {
			font-size: 0.65rem;
			border: 1px solid;
			border-color: black;
		}

		.table.refund-table tbody tr:hover {
			background: #f8fafc;
		}

		.badge-status {
			padding: 0.25rem 0.55rem;
			border-radius: 12px;
			font-size: 0.65rem;
			font-weight: 600;
			display: inline-flex;
			gap: 6px;
			align-items: center;
		}

		.badge-status.processing {
			color: var(--processing);
			background: rgba(59, 130, 246, 0.1);
		}

		.badge-status.approved {
			color: var(--approved);
			background: rgba(22, 163, 74, 0.1);
		}

		.badge-status.rejected {
			color: var(--rejected);
			background: rgba(239, 68, 68, 0.1);
		}

		.badge-status.pending {
			color: var(--pending);
			background: rgba(245, 158, 11, 0.1);
		}

		.badge-status.refunded {
			color: var(--refunded);
			background: rgba(139, 92, 246, 0.1);
		}

		/* Chart placeholder styling */
		.stats-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
			gap: var(--space-lg);
			margin-bottom: var(--space-2xl);
		}

		.stat-card {
			background: var(--color-background);
			border: 1px solid var(--color-border);
			border-radius: var(--radius-xl);
			padding: var(--space-lg);
			transition: var(--transition);
		}

		.stat-card:hover {
			box-shadow: var(--shadow-md);
			background-color: aliceblue;
			transform: translateY(-2px);
			font-size: var(--text-base);
		}

		.stat-card-header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			margin-bottom: var(--space-md);
		}

		.stat-card-title {
			font-size: var(--text-sm);
			color: var(--color-text-secondary);
			font-weight: var(--weight-medium);
		}

		.stat-card-value {
			font-size: var(--text-sm);
			font-weight: var(--weight-bold);
			color: var(--color-text);
			margin-bottom: var(--space-xs);
		}

		.stat-card-change {
			display: flex;
			align-items: center;
			gap: var(--space-xs);
			font-size: var(--text-sm);
		}

		.stat-card-change.positive {
			color: var(--color-success);
		}

		.stat-card-change.negative {
			color: var(--color-error);
		}

		.chart-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
			gap: var(--space-lg);
			margin-bottom: var(--space-2xl);
		}

		.chart-card {
			background: var(--color-background);
			border: 1px solid var(--color-border);
			border-radius: var(--radius-xl);
			padding: var(--space-lg);
			margin-bottom: 10px;
		}

		.chart-card-header {
			margin-bottom: var(--space-lg);
		}

		.chart-card-title {
			font-size: var(--text-lg);
			font-weight: var(--weight-semibold);
			color: var(--color-text);
			margin-bottom: var(--space-xs);
		}

		.chart-card-subtitle {
			font-size: var(--text-sm);
			color: var(--color-text-secondary);
		}

		.chart-container {
			position: relative;
			height: 300px;
		}

		.StockChart-container {
			position: relative;
			height: 500px;
		}

		h4 {
		    position: relative;
		    text-align: center;
		    margin-bottom: 30px;
		    font-size: 0.70rem;
		    padding: 10px;
		    color: white;
		    background-color: brown;
		    border-radius: 10px;
		    overflow: hidden;
		}

		/* Glassy moving layer */
		h4::before {
		    content: "";
		    position: absolute;
		    top: 0;
		    left: -100%;
		    width: 50%;
		    height: 100%;
		    background: linear-gradient(
		        120deg,
		        rgba(255,255,255,0) 0%,
		        rgba(255,255,255,0.35) 50%,
		        rgba(255,255,255,0) 100%
		    );
		    animation: glassSweep 3s linear infinite;
		}

		@keyframes glassSweep {
		    0% { left: -100%; }
		    100% { left: 150%; }
		}

		.blink-bg {
			animation: blinkBackground 0.5s ease-in-out;
			animation-iteration-count: 30;
			/* Blink 10 times */
		}

		@keyframes blinkBackground {
			0% {
				background-color: yellow;
			}

			50% {
				background-color: red;
			}

			100% {
				background-color: yellow;
			}
		}

		@media (max-width: 767.98px) {
			.table.refund-table thead {
				display: none;
			}

			.table.refund-table,
			.table.refund-table tbody,
			.table.refund-table tr,
			.table.refund-table td {
				display: block;
				width: 100%;
			}

			.table.refund-table tr {
				margin: 0.75rem 0;
				padding: 1rem;
				border-radius: 10px;
				background: var(--surface);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
			}

			.table.refund-table tbody td::before {
				content: attr(data-label);
				font-weight: bold;
				color: var(--muted);
				display: block;
				margin-bottom: 5px;
			}
		}
	</style>
</head>

<body>
	<script th:inline="javascript">

		let progressChartInstance = null;
		let barChartInstance = null;
		let Selectedmatrixlabel = 0;
		var Curr_Tier_1_capital = /*[[${CurrentYear_Tier_1_capital}]]*/0;
		Chart.register(ChartDataLabels);

	</script>
	<script>
		function Getanalyticaldata(a) {
			var labelnameselected = a.getAttribute("setlabelname");
			var labelsrlno = a.getAttribute("setlabelsrlno");
			var labelReport_date = a.getAttribute("setreport_date");

			Selectedmatrixlabel = labelsrlno;
			if (Selectedmatrixlabel === "24") {
				document.getElementById("Analyticsheadername").innerHTML = labelnameselected + '— All figures are in INR Crore';
			} else if (Selectedmatrixlabel === "39") {
				document.getElementById("Analyticsheadername").innerHTML = labelnameselected + '— All figures are in USD Million';
			} else if (Selectedmatrixlabel === "41") {
				document.getElementById("Analyticsheadername").innerHTML = labelnameselected + '— All figures are in USD Million';
			} else {
				document.getElementById("Analyticsheadername").innerHTML = labelnameselected + '— All figures are in AED Million';
			}
			// Hide all analytics sections first

			document.querySelectorAll(".chart-container").forEach(el => el.style.display = "none");
			document.querySelectorAll(".StockChart-container").forEach(el => el.style.display = "none");
			document.querySelector(".LiquidAssetsRatio").style.display = "none";
			document.querySelector(".Advancestostableratio").style.display = "none";
			document.querySelector(".Leverageratiosummblock").style.display = "none";
			document.querySelector(".Leverageratiodtlblock").style.display = "none";
			document.querySelector(".Capitaladequacyratio").style.display = "none"; //hide capitalratio block
			document.querySelector(".Capitaladequacyratiodetail_2").style.display = "none";
			document.querySelector(".Capitaladequacyratiodetail_1").style.display = "none";
			document.querySelector(".ToptenSingleborrowerdiv").style.display = "none";
			document.querySelector(".ToptenGroupborrowerdiv").style.display = "none";
			document.querySelector(".Exposure_outside_GCC").style.display = "none";
			document.querySelector(".CountryExposuredetail").style.display = "none";
			document.querySelector(".Mortageloan_block").style.display = "none";
			document.querySelector(".Mortageloan_table").style.display = "none";
			document.querySelector(".Sector_Industrial").style.display = "none";
			document.querySelectorAll(".Freshslippage_tot_adv").forEach(el => el.style.display = "none");
			document.querySelector(".Netovernight_noop").style.display = "none";
			document.querySelector(".UnsecuredPosition").style.display = "none";
			document.querySelector(".CustomerChartdetails").style.display = "none";
			document.querySelector(".MortgageLoanAppetitedetails").style.display = "none";
			document.querySelector(".ProvisionCoverage").style.display = "none";
			document.querySelector(".LongTermandMediumTerm").style.display = "none";
			document.querySelectorAll(".Stockapproachtables").forEach(el => el.style.display = "none");
			document.getElementById("Sector_classifi_expo").textContent = formatDecimalValue(0);
			document.getElementById("Total_expo").textContent = formatDecimalValue(0);
			document.getElementById("Sector_classifi_per").textContent = formatDecimalValue(0);
			document.querySelector(".Depositconcentration").style.display = "none";
			// Show sections based on the selected S.No
			if (labelsrlno === "5") {
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 50);
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");



				fetch("./GetElarreport?Report_date=" + encodeURIComponent(labelReport_date))
					.then(response => response.json())
					.then(result => {

						// Example fields returned from backend:
						// result.r1_nominal_amount
						// result.r2_nominal_amount
						// result.total_liquid_assets

						document.getElementById("r1_nominal_amount").textContent =
							formatNumber(result.r1_nominal_amount/1000);

						document.getElementById("r2_nominal_amount").textContent =
							formatNumber(result.r2_nominal_amount/1000);

						document.getElementById("r3_nominal_amount").textContent =
							formatNumber(result.r3_nominal_amount/1000);

						document.getElementById("r4_nominal_amount").textContent =
							formatNumber(result.r4_nominal_amount/1000);

						document.getElementById("r5_nominal_amount").textContent =
							formatNumber(result.r5_nominal_amount/1000);


						document.getElementById("r6_nominal_amount").textContent =
							formatNumber(result.r6_nominal_amount/1000);
						document.getElementById("r6_eligi_liq_assets").textContent =
							formatNumber(result.r6_eligi_liq_assets/1000);

						document.getElementById("r7_nominal_amount").textContent =
							formatNumber(result.r7_nominal_amount/1000);

						document.getElementById("r8_nominal_amount").textContent =
							formatNumber(result.r8_nominal_amount/1000);

						document.getElementById("r9_nominal_amount").textContent =
							formatNumber(result.r9_nominal_amount/1000);

						document.getElementById("r10_nominal_amount").textContent =
							formatNumber(result.r10_nominal_amount/1000);

						document.getElementById("r11_nominal_amount").textContent =
							formatNumber(result.r11_nominal_amount/1000);

						document.getElementById("r11_eligi_liq_assets").textContent =
							formatNumber(result.r11_eligi_liq_assets/1000);



						document.getElementById("r12_nominal_amount").textContent =
							formatNumber(result.r12_nominal_amount/1000);

						document.getElementById("r13_nominal_amount").textContent =
							formatNumber(result.r13_nominal_amount/1000);

						document.getElementById("r14_eligi_liq_assets").textContent =
							formatNumber(result.r14_eligi_liq_assets/1000);

						document.getElementById("r15_eligi_liq_assets").textContent =
							(formatDecimalValue(result.r15_eligi_liq_assets * 100)) + " %";
					})
					.catch(err => console.error("Error loading ELAR report:", err));


				document.querySelector(".LiquidAssetsRatio").style.display = "block";


			} else if (labelsrlno === "4") {
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL

					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 5, 50);
					});

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Leverageratio', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("r21_total").textContent =
								formatNumber(data[0]);
							document.getElementById("r22_total").textContent =
								formatNumber(data[1]);
							document.getElementById("r12_total").textContent =
								formatNumber(data[3]);
							document.getElementById("r20_total").textContent =
								formatNumber(data[4]);
							document.getElementById("r3_total").textContent =
								formatNumber(data[5]);

						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
				document.querySelector(".Leverageratiosummblock").style.display = "grid";
			} else if (labelsrlno === "38") {
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL

					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 50, 600);
					});
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'LongTermAED', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("Shortterm6monRes").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("MediumTermRes6MONto3YR").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("LongTermResAbove3YR").textContent =
								formatDecimalValue(data[2]);
							document.getElementById("Shortterm6monAssets").textContent =
								formatDecimalValue(data[3]);
							document.getElementById("MediumTermAsset6MONto3YR").textContent =
								formatDecimalValue(data[4]);
							document.getElementById("LongTermAssetAbove3YR").textContent =
								formatDecimalValue(data[5]);
							document.getElementById("LongtermActual").textContent =
								formatDecimalValue(data[6]) + '%';
							document.getElementById("MediumtoLongActual").textContent =
								formatDecimalValue(data[7]) + '%';
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});


				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
				document.getElementById("LongTermandMediumTermreportdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
				document.getElementById("LongTermandMediumTermlabel").innerHTML = 'In AED Million';
				document.querySelector(".LongTermandMediumTerm").style.display = "block";


			} else if (labelsrlno === "39") {
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL

					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 200);
					});
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'LongTermUSD', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("Shortterm6monRes").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("MediumTermRes6MONto3YR").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("LongTermResAbove3YR").textContent =
								formatDecimalValue(data[2]);
							document.getElementById("Shortterm6monAssets").textContent =
								formatDecimalValue(data[3]);
							document.getElementById("MediumTermAsset6MONto3YR").textContent =
								formatDecimalValue(data[4]);
							document.getElementById("LongTermAssetAbove3YR").textContent =
								formatDecimalValue(data[5]);
							document.getElementById("LongtermActual").textContent =
								formatDecimalValue(data[6]) + '%';
							document.getElementById("MediumtoLongActual").textContent =
								formatDecimalValue(data[7]) + '%';
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});


				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
				document.getElementById("LongTermandMediumTermreportdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
				document.getElementById("LongTermandMediumTermlabel").innerHTML = 'In USD Million';
				document.querySelector(".LongTermandMediumTerm").style.display = "block";

			} else if (labelsrlno === "40") {
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL

					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 50, 600);
					});

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'LongTermAED', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("Shortterm6monRes").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("MediumTermRes6MONto3YR").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("LongTermResAbove3YR").textContent =
								formatDecimalValue(data[2]);
							document.getElementById("Shortterm6monAssets").textContent =
								formatDecimalValue(data[3]);
							document.getElementById("MediumTermAsset6MONto3YR").textContent =
								formatDecimalValue(data[4]);
							document.getElementById("LongTermAssetAbove3YR").textContent =
								formatDecimalValue(data[5]);
							document.getElementById("LongtermActual").textContent =
								formatDecimalValue(data[6]) + '%';
							document.getElementById("MediumtoLongActual").textContent =
								formatDecimalValue(data[7]) + '%';
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});


				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
				document.getElementById("LongTermandMediumTermreportdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
				document.getElementById("LongTermandMediumTermlabel").innerHTML = 'In AED Million';
				document.querySelector(".LongTermandMediumTerm").style.display = "block";


			} else if (labelsrlno === "41") {
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL

					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 200);
					});

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'LongTermUSD', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("Shortterm6monRes").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("MediumTermRes6MONto3YR").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("LongTermResAbove3YR").textContent =
								formatDecimalValue(data[2]);
							document.getElementById("Shortterm6monAssets").textContent =
								formatDecimalValue(data[3]);
							document.getElementById("MediumTermAsset6MONto3YR").textContent =
								formatDecimalValue(data[4]);
							document.getElementById("LongTermAssetAbove3YR").textContent =
								formatDecimalValue(data[5]);
							document.getElementById("LongtermActual").textContent =
								formatDecimalValue(data[6]) + '%';
							document.getElementById("MediumtoLongActual").textContent =
								formatDecimalValue(data[7]) + '%';
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});


				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
				document.getElementById("LongTermandMediumTermreportdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
				document.getElementById("LongTermandMediumTermlabel").innerHTML = 'In USD Million';
				document.querySelector(".LongTermandMediumTerm").style.display = "block";


			} else if (labelsrlno === "6") {
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						// Convert backend values into arrays
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 100);
					});
				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
				fetch("./GetAsrrreport?Report_date=" + encodeURIComponent(labelReport_date))
					.then(response => response.json())
					.then(result => {
						document.getElementById("r1_amount").textContent =
							formatDecimalValue(result.r1_amount/1000);
						document.getElementById("r2_amount").textContent =
							formatDecimalValue(result.r2_amount/1000);
						document.getElementById("r3_amount").textContent =
							formatDecimalValue(result.r3_amount/1000);
						document.getElementById("r4_amount").textContent =
							formatDecimalValue(result.r4_amount/1000);
						document.getElementById("r5_amount").textContent =
							formatDecimalValue(result.r5_amount/1000);
						document.getElementById("r6_amount").textContent =
							formatDecimalValue(result.r6_amount/1000);
						document.getElementById("r7_amount").textContent =
							formatDecimalValue(result.r7_amount/1000);
						document.getElementById("r8_amount").textContent =
							formatDecimalValue(result.r8_amount/1000);
						document.getElementById("r9_amount").textContent =
							formatDecimalValue(result.r9_amount/1000);
						document.getElementById("r10_amount").textContent =
							formatDecimalValue(result.r10_amount/1000);
						document.getElementById("r11_amount").textContent =
							formatDecimalValue(result.r11_amount/1000);
						document.getElementById("r12_amount").textContent =
							formatDecimalValue(result.r12_amount/1000);
						document.getElementById("r13_amount").textContent =
							formatDecimalValue(result.r13_amount/1000);
						document.getElementById("r14_amount").textContent =
							formatDecimalValue(result.r14_amount/1000);
						document.getElementById("r15_amount").textContent =
							formatDecimalValue(result.r15_amount/1000);
						document.getElementById("r16_amount").textContent =
							formatDecimalValue(result.r16_amount/1000);
						document.getElementById("r17_amount").textContent =
							formatDecimalValue(result.r17_amount/1000);
						document.getElementById("r18_amount").textContent =
							formatDecimalValue(result.r18_amount/1000);
						document.getElementById("r19_amount").textContent =
							formatDecimalValue(result.r19_amount/1000);
						document.getElementById("r20_amount").textContent =
							formatDecimalValue(result.r20_amount/1000);
						document.getElementById("r21_amount").textContent =
							formatDecimalValue(result.r21_amount/1000);
						document.getElementById("r22_amount").textContent =
							formatDecimalValue(result.r22_amount/1000);
						document.getElementById("r23_amount").textContent =
							formatDecimalValue(result.r23_amount/1000);
						document.getElementById("r24_amount").textContent =
							formatDecimalValue(result.r24_amount/1000);
						document.getElementById("r25_amount").textContent =
							formatDecimalValue(result.r25_amount/1000);
						document.getElementById("r26_amount").textContent =
							formatDecimalValue(result.r26_amount/1000);
						document.getElementById("r27_amount").textContent =
							formatDecimalValue(result.r27_amount) + '%';
					})
					.catch(err => console.error("Error loading ELAR report:", err));


				document.querySelector(".Advancestostableratio").style.display = "block";
			} else if (labelsrlno === "1") {

				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 5, 50);
					});

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'CapitalAdequacyratio', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("r15_ratios1").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("r22_ratios2").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("r16_ratios1").textContent =
								formatDecimalValue(data[2]);
							document.getElementById("r18_ratios1").textContent =
								formatDecimalValue(data[3]);
							document.getElementById("r23_ratios1").textContent =
								formatDecimalValue(data[4]);
							document.getElementById("r23_ratios2").textContent =
								formatDecimalValue(data[5]);
							document.getElementById("r45_ratios2").textContent =
								formatDecimalValue(data[6]);
							document.getElementById("r51_ratios2").textContent =
								formatDecimalValue(data[7]);
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});


				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
				document.querySelector(".Capitaladequacyratio").style.display = "grid"; //showing capitalratio block
			} else if (labelsrlno === "2") {

				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 150);
					});
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

				var trHTML = "";
				document.getElementById("ToptenSingleborrowerbody").innerHTML = trHTML;
				document.getElementById("ToptenGroupborrowerbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'ToptenSingleExposure', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (formatNumber(data[1]) || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("Singleexpreportdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
						document.getElementById("ToptenSingleborrowerbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".ToptenSingleborrowerdiv").style.display = "block";

				var trHTML_1 = "";
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'ToptenGroupExposure', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML_1 = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML_1 +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (formatNumber(data[1]) || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenGroupborrowerbody").innerHTML = trHTML_1;
						document.getElementById("Groupexpreportdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".ToptenGroupborrowerdiv").style.display = "block";

			} else if (labelsrlno === "10") {

				var trHTML = "";
				document.getElementById("Exposure_outside_GCC_body").innerHTML = trHTML;

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Exposuresummarydata', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("Outside_gcc_exp").textContent =
								(data[0] + '%');
							document.getElementById("Only_gcc_Exp").textContent =
								(data[1] + '%');
							document.getElementById("Outside_gcc_rwa").textContent =
								(data[2] + '%');
							document.getElementById("Gcc_Rwa").textContent =
								(data[3] + '%');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.getElementById('outsideGccLink').dataset.reportDate = labelReport_date;
				document.getElementById('GccLink').dataset.reportDate = labelReport_date;
				document.querySelector(".CountryExposuredetail").style.display = "grid";

			} else if (labelsrlno === "9") {

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Mortageloanappetite', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("Housingloan_Exp").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("Topuploan_Expo").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("Total_mortgage_loan").textContent =
								formatDecimalValue(data[2]);
							document.getElementById("Total_mortgage_loan_per").textContent =
								(data[3] + '%');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				//Mortgage loan Graph api

				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 1, 15);
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");


				document.querySelector(".Mortageloan_block").style.display = "grid";


				// Clear previous table
				document.getElementById("MortgageLoanbody").innerHTML = "";


				// Fetch data
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=tenaccountMortgageLoanAppetite', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Build table rows
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"</tr>";
						});

						// Update report date and table body
						document.getElementById("MortgageLoanAppetitedetailsdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
						document.getElementById("MortgageLoanbody").innerHTML = trHTML;
						document.getElementById('TopuploanLink').dataset.reportDate = labelReport_date;
						document.getElementById('Housingloanlink').dataset.reportDate = labelReport_date;
						// Show the table
						document.querySelector(".MortgageLoanAppetitedetails").style.display = "block";
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});






			} else if (labelsrlno === "7") {

				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 100);
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");


				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'FreshslippageQoQ', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("Current_Qtr_sli_per").textContent =
								(data[0] + ' %');
							document.getElementById("last_year_slip_hdr").innerHTML =
								(data[1]);
							document.getElementById("last_year_slip_bal").textContent =
								formatNumber(data[2]);

							document.getElementById("First_qtr_slip_hdr").innerHTML =
								(data[3]);
							document.getElementById("First_qtr_slip_bal").textContent =
								formatNumber(data[4]);

							document.getElementById("Second_qtr_slip_hdr").innerHTML =
								(data[5]);
							document.getElementById("Second_qtr_slip_bal").textContent =
								formatNumber(data[6]);

							document.getElementById("Third_qtr_slip_hdr").innerHTML =
								(data[7]);
							document.getElementById("Third_qtr_slip_bal").textContent =
								formatNumber(data[8]);

							document.getElementById("Fourth_qtr_slip_hdr").innerHTML =
								(data[9]);
							document.getElementById("Fourth_qtr_slip_bal").textContent =
								formatNumber(data[10]);
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelectorAll(".Freshslippage_tot_adv").forEach(el => el.style.display = "grid");


				var trHTML = "";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				document.getElementById("labletype").innerHTML = "Top 10 NPA Accounts";
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'tenaccountdetailSlippage', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatNumber(data[3]) || "") + "</td>" +
								"<td>" + (data[4] || "") + "</td>" +
								"<td>" + (formatNumber(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";





			} else if (labelsrlno === "11") {


				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 100);
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");


				document.getElementById("Sector_title_name").innerHTML = 'Industry Exposure';
				document.getElementById("Sector_title_name_per").innerHTML = 'Industry Exposure (%)';

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Sector_Industry', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})

					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {


							document.getElementById("Sector_classifi_expo").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("Total_expo").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";

				var trHTML = "";
				document.getElementById("labletype").innerHTML = "Top 10 Industrial";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'tenaccountSectorIndustrial', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[4]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";

			} else if (labelsrlno === "12") {

				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 100);
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");


				document.getElementById("Sector_title_name").innerHTML = 'Trading Exposure';
				document.getElementById("Sector_title_name_per").innerHTML = 'Trading Exposure (%)';
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Sector_Trading', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {


							document.getElementById("Sector_classifi_expo").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("Total_expo").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";

				var trHTML = "";
				document.getElementById("labletype").innerHTML = "Top 10 Trading";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'tenaccountSectorTrading', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[4]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";

			} else if (labelsrlno === "13") {


				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 100);
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

				document.getElementById("Sector_title_name").innerHTML = 'Services Exposure';
				document.getElementById("Sector_title_name_per").innerHTML = 'Services Exposure (%)';
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Sector_Services', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {


							document.getElementById("Sector_classifi_expo").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("Total_expo").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";

				var trHTML = "";
				document.getElementById("labletype").innerHTML = "Top 10 Services excluding bank";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'tenaccountSectorTrading', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[4]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";


			} else if (labelsrlno === "14") {


				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 2, 20);
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

				document.getElementById("Sector_title_name").innerHTML = 'Banks Exposure';
				document.getElementById("Sector_title_name_per").innerHTML = 'Banks Exposure (%)';

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Sector_Banks', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {


							document.getElementById("Sector_classifi_expo").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("Total_expo").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";

				var trHTML = "";
				document.getElementById("labletype").innerHTML = "Top 10 Banks Exposure";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'tenaccountBank', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[4]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";

			} else if (labelsrlno === "15") {

				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 100);
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

				document.getElementById("Sector_title_name").innerHTML = 'Real Estate Exposure';
				document.getElementById("Sector_title_name_per").innerHTML = 'Real Estate Exposure (%)';
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Sector_Real_Estate', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {


							document.getElementById("Sector_classifi_expo").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("Total_expo").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";

				var trHTML = "";
				document.getElementById("labletype").innerHTML = "Top 10 Real Estate";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'tenaccountRealEstate', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[4]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + labelReport_date;
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";

			} else if (labelsrlno === "16") {

				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date.split("T")[0]) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 100);
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

				document.getElementById("Sector_title_name").innerHTML = 'Other Exposure';
				document.getElementById("Sector_title_name_per").innerHTML = 'Other Exposure (%)';
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Sector_Others', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {


							document.getElementById("Sector_classifi_expo").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("Total_expo").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";

				var trHTML = "";
				document.getElementById("labletype").innerHTML = "Top 10 Other Sectors";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'tenaccountOtherSectors', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[4]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";

			} else if (labelsrlno === "3") {

				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						// Convert backend values into arrays
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 5, 20);
					});
				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

				var trHTML = "";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'RealEstateaccountdetail', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatNumber(data[3]) || "") + "</td>" +
								"<td>" + (data[4] || "") + "</td>" +
								"<td>" + (formatNumber(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";

			} else if (labelsrlno === "8") {

				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						// Convert backend values into arrays
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 100);
					});
				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

				var trHTML = "";
				document.getElementById("ProvisionCoveragebody").innerHTML = trHTML;
				document.getElementById("Provlabletype").innerHTML = "Top 10 Provision Coverage Accounts";
				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'teaccountProvisionCoverageRatio', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatNumber(data[3]) || "") + "</td>" +
								"<td>" + (formatNumber(data[4]) || "") + "</td>" +
								"<td>" + (formatNumber(data[5]) || "") + "</td>" +
								"<td>" + (formatNumber(data[6]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenProvisiondate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
						document.getElementById("ProvisionCoveragebody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".ProvisionCoverage").style.display = "block";


			} else if (labelsrlno === "24") {
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						// Convert backend values into arrays
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 200, 2000);
					});
				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'NetOvernight_noop', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("OVER_BOUGHT_AMOUNT").textContent =
								formatNumber(data[1]);
							document.getElementById("OVER_SOLD_AMOUNT").textContent =
								formatNumber(data[2]);
							document.getElementById("NOOP_AMOUNT_IN_INR").textContent =
								formatNumber(data[3]);
							document.getElementById("LIMIT_AMOUNT_IN_INR").textContent =
								formatNumber(data[4]);
							document.getElementById("HEADROOM_AVAL_AMOUNT_IN_INR").textContent =
								formatNumber(data[5]);
							document.getElementById("NOOP_EXPOSURE_PERC").textContent =
								(data[6])+'%';
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.getElementById("Netovernight_noop_table_name").innerHTML = 'Net Overnight Position Limit (NOOP)';
				document.querySelector(".Netovernight_noop").style.display = "block";
			}

			else if (labelsrlno === "46") {

				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						// Convert backend values into arrays
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 10, 100);
					});


				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

				fetch("./GetSecuredUnsecureddata?Report_date=" + encodeURIComponent(labelReport_date))
					.then(response => response.json())
					.then(result => {

						// Get tbody element
						var UnsecuredPositionbody = document.getElementById("UnsecuredPositionbody");
						if (!UnsecuredPositionbody) {
							console.error("Table body not found!");
							return;
						}
						UnsecuredPositionbody.innerHTML = "";

						// Build table rows
						var trHTML =
							"<tr><td><b>Secured by tangible Assets</b></td><td style=text-align:right;>" + formatNumber(result.securedFb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.securedNfb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.totalSecured/1000000) + "</td></tr>" +
							"<tr><td>Secured by other Bank Guarantee</td><td style=text-align:right;>" + formatNumber(result.securedOtherBankFb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.securedOtherBankNfb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.totalSecuredOtherBank/1000000) + "</td></tr>" +
							"<tr><td>Interest Suspense</td><td style=text-align:right;>" + formatNumber(result.interestSuspenseFb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.interestSuspenseNfb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.totalInterestSuspense/1000000) + "</td></tr>" +
							"<tr><td>Provision</td><td style=text-align:right;>" + formatNumber(result.provisionFb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.provisionNfb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.totalProvision/1000000) + "</td></tr>" +
							"<tr><td><b>Unsecured</b></td><td style=text-align:right;><b>" + formatNumber(result.unsecuredFb/1000000) + "</b></td><td style=text-align:right;><b>" + formatNumber(result.unsecuredNfb/1000000) + "</b></td><td style=text-align:right;><b>" + formatNumber(result.totalFbNfb/1000000) + "</b></td></tr>" +
							"<tr><td rowspan=6 style=border:none></td><td>Balance FB</td><td style=text-align:right;>" + formatNumber(result.balanceFb/1000000) + "</td><td style=text-align:right;><b>" + result.totalRatio + "%</b></td></tr>" +
							"<tr><td>Balance NFB</td><td style=text-align:right;>" + formatNumber(result.balanceNfb/1000000) + "</td><td></td></tr>" +
							"<tr><td><b>Total Advances</b></td><td style=text-align:right;><b>" + formatNumber(result.totalAdvances/1000000) + "</b></td><td></td></tr>" +
							"<tr><td rowspan=3 style=border:none></td><td><b>Unsecured Cap @55% of total advance</b></td><td style=text-align:right;><b>" + formatNumber(result.unsecuredCapTa/1000000) + "</b></td></tr>" +
							"<tr><td><b>Headroom available in AED</b></td><td style=text-align:right;><b>" + formatNumber(result.headroomAvailableAed/1000000) + "</b></td></tr>" +
							"<tr><td><b>Headroom available in USD</b></td><td style=text-align:right;><b>" + formatNumber(result.headroomAvailableUsd/1000000) + "</b></td></tr>";

						// Set table body content
						UnsecuredPositionbody.innerHTML = trHTML;

						// Show table section
						document.querySelector(".UnsecuredPosition").style.display = "block";
					});

			} else if (labelsrlno === "45") {

				fetch(
					`./GetStocklimitdetail?Matrix_Srl_no=${encodeURIComponent(labelsrlno)}&Report_date=${encodeURIComponent(labelReport_date)}`
				)
					.then(response => response.json())
					.then(result => {

						const labels = result.map(row => row[0]);

						const dataValues1 = result.map(row => +row[1]);
						const dataValues2 = result.map(row => +row[2]);
						const dataValues3 = result.map(row => +row[3]);
						const dataValues4 = result.map(row => +row[4]);
						const dataValues5 = result.map(row => +row[5]);
						const dataValues6 = result.map(row => +row[6]);
						const dataValues7 = result.map(row => +row[7]);

						InitiatemonthlychartStockratio(labels, dataValues1, dataValues2, dataValues3, dataValues4, dataValues5, dataValues6, dataValues7, 10, 200);
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".StockChart-container").forEach(el => el.style.display = "block");

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Stockapproachratio', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("VolatileLiab").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("TemporaryAssets").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("EarningAssets").textContent =
								formatDecimalValue(data[2]);
							document.getElementById("CoreDeposits").textContent =
								formatDecimalValue(data[3]);
							document.getElementById("TotalAssets").textContent =
								formatDecimalValue(data[4]);
							document.getElementById("Loans_Mandatory_SLR_Mandatory_CRR_Fixed_assets").textContent =
								formatDecimalValue(data[5]);


							////postions
							document.getElementById("position_1").textContent =
								formatDecimalValue(data[6]) + '%';
							document.getElementById("position_2").textContent =
								formatDecimalValue(data[7]) + '%';
							document.getElementById("position_3").textContent =
								formatDecimalValue(data[8]) + '%';
							document.getElementById("position_4").textContent =
								formatDecimalValue(data[9]) + '%';
							document.getElementById("position_5").textContent =
								formatDecimalValue(data[10]) + '%';
							document.getElementById("position_6").textContent =
								formatDecimalValue(data[11]) + '%';
							document.getElementById("position_7").textContent =
								formatDecimalValue(data[12]) + '%';

						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.getElementById("StockapproachReport_date").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
				document.querySelectorAll(".Stockapproachtables").forEach(el => el.style.display = "block");
			} else if (labelsrlno === "42") {
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						// Convert backend values into arrays
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Depositnonretail', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[2]) || "") + "</td>" +
								"<td>" + (data[3] || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenDepositconcentrationdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
						document.getElementById("Depositconcentrationbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".Depositconcentration").style.display = "block";


			} else if (labelsrlno === "43") {
				fetch("./Getbarchart?Matrix_Srl_no=" + labelsrlno + '&Report_date=' + labelReport_date) // your API URL
					.then(response => response.json())
					.then(result => {
						// Convert backend values into arrays
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));

						const maxValue = Math.max(...dataValues);
						const yaxismaxsize = getRoundedMax(maxValue);
						const CalculatedStepSize = getStepSize(yaxismaxsize);

						Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize);
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");

				fetch('./Limitdetaildata?Report_date=' + labelReport_date + '&Data_Type_Used=' + 'Depositretail', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[2]) || "") + "</td>" +
								"<td>" + (data[3] || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenDepositconcentrationdate").innerHTML = 'Report Date : ' + labelReport_date.split("T")[0];
						document.getElementById("Depositconcentrationbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".Depositconcentration").style.display = "block";


			}
		}

		function Getexposuredetail(a, el) {


			const Report_dateSelected = el.dataset.reportDate;

			if (a === 'Outsidegcc') {

				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "none");
				fetch("./Getbarchart?Matrix_Srl_no=" + '10A' + '&Report_date=' + Report_dateSelected) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatemonthlychart(labels, dataValues, 5, 100);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + '10A' + '&Report_date=' + Report_dateSelected) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 5, 100);
					});
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");



				var trHTML = "";
				document.getElementById("Exposure_outside_GCC_body").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + Report_dateSelected + '&Data_Type_Used=' + 'Exposureoutsidegcc', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (formatNumber(data[1]) || "") + "</td>" +
								"<td>" + (formatNumber(data[2]) || "") + "</td>" +
								"<td>" + (data[3] + '%' || "") + "</td>" +
								"<td>" + (data[4] + '%' || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("Exposure_outside_GCC_body").innerHTML = trHTML;
						document.getElementById("CountryExposuretablename").innerHTML = 'Outside GCC Country Exposure';

					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".Exposure_outside_GCC").style.display = "block";
			} else if (a === 'OnlyGcc') {
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "none");
				fetch("./Getbarchart?Matrix_Srl_no=" + '10B' + '&Report_date=' + Report_dateSelected) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatemonthlychart(labels, dataValues, 5, 100);
					});

				fetch("./Getprogresschart?Matrix_Srl_no=" + '10B' + '&Report_date=' + Report_dateSelected) // your API URL
					.then(response => response.json())
					.then(result => {
						const labels = result.map(row => row.date);
						const dataValues = result.map(row => parseFloat(row.value));
						Initiatedailychart(labels, dataValues, 5, 100);
					});
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
				var trHTML = "";
				document.getElementById("Exposure_outside_GCC_body").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + Report_dateSelected + '&Data_Type_Used=' + 'Exposureonlygcc', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (formatNumber(data[1]) || "") + "</td>" +
								"<td>" + (formatNumber(data[2]) || "") + "</td>" +
								"<td>" + (data[3] + '%' || "") + "</td>" +
								"<td>" + (data[4] + '%' || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("Exposure_outside_GCC_body").innerHTML = trHTML;
						document.getElementById("CountryExposuretablename").innerHTML = 'GCC Country Exposure';
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".Exposure_outside_GCC").style.display = "block";


			} else if (a === "Toptenhousingloan") {

				var trHTML = "";
				document.getElementById("Mortageloan_table_body").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + Report_dateSelected + '&Data_Type_Used=' + 'Toptenhousingloandata', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + ((data[1]) || "") + "</td>" +
								"<td>" + (formatNumber(data[2]) || "") + "</td>" +
								"<td>" + (data[3] + '%' || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("Mortageloan_table_body").innerHTML = trHTML;
						document.getElementById("Mortageloan_table_name").innerHTML = 'Top 10 Housing loan customer detail';
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".Mortageloan_table").style.display = "block";

			} else if (a === "Toptentopuploan") {


				var trHTML = "";
				document.getElementById("Mortageloan_table_body").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + Report_dateSelected + '&Data_Type_Used=' + 'Toptentopuploandata', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + ((data[1]) || "") + "</td>" +
								"<td>" + (formatNumber(data[2]) || "") + "</td>" +
								"<td>" + (data[3] + '%' || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("Mortageloan_table_body").innerHTML = trHTML;
						document.getElementById("Mortageloan_table_name").innerHTML = 'Top 10 Baroda Top-up loan customer detail';
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".Mortageloan_table").style.display = "block";
			}


		}

		function updateLiquidAssetsTable(periodKey) {

			const dateParts = periodKey.split("-");

			const selectedDate = `${dateParts[0]}-${dateParts[1]}-${dateParts[2]}`;
			document.getElementById("Sector_classifi_expo").textContent = formatDecimalValue(0);
			document.getElementById("Total_expo").textContent = formatDecimalValue(0);
			document.getElementById("Sector_classifi_per").textContent = formatDecimalValue(0);

			if (Selectedmatrixlabel == "5") {

				fetch("./GetElarreport?Report_date=" + encodeURIComponent(selectedDate))
					.then(response => response.json())
					.then(result => {

						// Example fields returned from backend:
						// result.r1_nominal_amount
						// result.r2_nominal_amount
						// result.total_liquid_assets

						document.getElementById("r1_nominal_amount").textContent =
							formatNumber(result.r1_nominal_amount/1000);

						document.getElementById("r2_nominal_amount").textContent =
							formatNumber(result.r2_nominal_amount/1000);

						document.getElementById("r3_nominal_amount").textContent =
							formatNumber(result.r3_nominal_amount/1000);

						document.getElementById("r4_nominal_amount").textContent =
							formatNumber(result.r4_nominal_amount/1000);

						document.getElementById("r5_nominal_amount").textContent =
							formatNumber(result.r5_nominal_amount/1000);


						document.getElementById("r6_nominal_amount").textContent =
							formatNumber(result.r6_nominal_amount/1000);
						document.getElementById("r6_eligi_liq_assets").textContent =
							formatNumber(result.r6_eligi_liq_assets/1000);

						document.getElementById("r7_nominal_amount").textContent =
							formatNumber(result.r7_nominal_amount/1000);

						document.getElementById("r8_nominal_amount").textContent =
							formatNumber(result.r8_nominal_amount/1000);

						document.getElementById("r9_nominal_amount").textContent =
							formatNumber(result.r9_nominal_amount/1000);

						document.getElementById("r10_nominal_amount").textContent =
							formatNumber(result.r10_nominal_amount/1000);

						document.getElementById("r11_nominal_amount").textContent =
							formatNumber(result.r11_nominal_amount/1000);

						document.getElementById("r11_eligi_liq_assets").textContent =
							formatNumber(result.r11_eligi_liq_assets/1000);



						document.getElementById("r12_nominal_amount").textContent =
							formatNumber(result.r12_nominal_amount/1000);

						document.getElementById("r13_nominal_amount").textContent =
							formatNumber(result.r13_nominal_amount/1000);

						document.getElementById("r14_eligi_liq_assets").textContent =
							formatNumber(result.r14_eligi_liq_assets/1000);

						document.getElementById("r15_eligi_liq_assets").textContent =
							(formatDecimalValue(result.r15_eligi_liq_assets * 100)) + " %";
					})
					.catch(err => console.error("Error loading ELAR report:", err));


				document.querySelector(".LiquidAssetsRatio").style.display = "block";
			} else if (Selectedmatrixlabel == "6") {
				document.querySelector(".LiquidAssetsRatio").style.display = "none";
				fetch("./GetAsrrreport?Report_date=" + encodeURIComponent(selectedDate))
					.then(response => response.json())
					.then(result => {
					document.getElementById("r1_amount").textContent =
						formatDecimalValue(result.r1_amount/1000);
					document.getElementById("r2_amount").textContent =
						formatDecimalValue(result.r2_amount/1000);
					document.getElementById("r3_amount").textContent =
						formatDecimalValue(result.r3_amount/1000);
					document.getElementById("r4_amount").textContent =
						formatDecimalValue(result.r4_amount/1000);
					document.getElementById("r5_amount").textContent =
						formatDecimalValue(result.r5_amount/1000);
					document.getElementById("r6_amount").textContent =
						formatDecimalValue(result.r6_amount/1000);
					document.getElementById("r7_amount").textContent =
						formatDecimalValue(result.r7_amount/1000);
					document.getElementById("r8_amount").textContent =
						formatDecimalValue(result.r8_amount/1000);
					document.getElementById("r9_amount").textContent =
						formatDecimalValue(result.r9_amount/1000);
					document.getElementById("r10_amount").textContent =
						formatDecimalValue(result.r10_amount/1000);
					document.getElementById("r11_amount").textContent =
						formatDecimalValue(result.r11_amount/1000);
					document.getElementById("r12_amount").textContent =
						formatDecimalValue(result.r12_amount/1000);
					document.getElementById("r13_amount").textContent =
						formatDecimalValue(result.r13_amount/1000);
					document.getElementById("r14_amount").textContent =
						formatDecimalValue(result.r14_amount/1000);
					document.getElementById("r15_amount").textContent =
						formatDecimalValue(result.r15_amount/1000);
					document.getElementById("r16_amount").textContent =
						formatDecimalValue(result.r16_amount/1000);
					document.getElementById("r17_amount").textContent =
						formatDecimalValue(result.r17_amount/1000);
					document.getElementById("r18_amount").textContent =
						formatDecimalValue(result.r18_amount/1000);
					document.getElementById("r19_amount").textContent =
						formatDecimalValue(result.r19_amount/1000);
					document.getElementById("r20_amount").textContent =
						formatDecimalValue(result.r20_amount/1000);
					document.getElementById("r21_amount").textContent =
						formatDecimalValue(result.r21_amount/1000);
					document.getElementById("r22_amount").textContent =
						formatDecimalValue(result.r22_amount/1000);
					document.getElementById("r23_amount").textContent =
						formatDecimalValue(result.r23_amount/1000);
					document.getElementById("r24_amount").textContent =
						formatDecimalValue(result.r24_amount/1000);
					document.getElementById("r25_amount").textContent =
						formatDecimalValue(result.r25_amount/1000);
					document.getElementById("r26_amount").textContent =
						formatDecimalValue(result.r26_amount/1000);
					document.getElementById("r27_amount").textContent =
						formatDecimalValue(result.r27_amount) + '%';
					})
					.catch(err => console.error("Error loading ELAR report:", err));


				document.querySelector(".Advancestostableratio").style.display = "block";
			} else if (Selectedmatrixlabel === "9") {

				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'Mortageloanappetite', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("Housingloan_Exp").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("Topuploan_Expo").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("Total_mortgage_loan").textContent =
								formatDecimalValue(data[2]);
							document.getElementById("Total_mortgage_loan_per").textContent =
								(data[3] + '%');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".Mortageloan_block").style.display = "grid";
				var trHTML = "";
				document.getElementById("MortgageLoanbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'tenaccountMortgageLoanAppetite', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("MortgageLoanAppetitedetailsdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
						document.getElementById("MortgageLoanbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".MortgageLoanAppetitedetails").style.display = "block";
				document.getElementById('TopuploanLink').dataset.reportDate = selectedDate;
				document.getElementById('Housingloanlink').dataset.reportDate = selectedDate;



			} else if (Selectedmatrixlabel === "1") {
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'CapitalAdequacyratio', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("r15_ratios1").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("r22_ratios2").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("r16_ratios1").textContent =
								formatDecimalValue(data[2]);
							document.getElementById("r18_ratios1").textContent =
								formatDecimalValue(data[3]);
							document.getElementById("r23_ratios1").textContent =
								formatDecimalValue(data[4]);
							document.getElementById("r23_ratios2").textContent =
								formatDecimalValue(data[5]);
							document.getElementById("r45_ratios2").textContent =
								formatDecimalValue(data[6]);
							document.getElementById("r51_ratios2").textContent =
								formatDecimalValue(data[7]);
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});


				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
				document.querySelector(".Capitaladequacyratio").style.display = "grid"; //showing capitalratio block
			} else if (Selectedmatrixlabel === "3") {
				var trHTML = "";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'RealEstateaccountdetail', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatNumber(data[3]) || "") + "</td>" +
								"<td>" + (data[4] || "") + "</td>" +
								"<td>" + (formatNumber(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";
			}

			else if (Selectedmatrixlabel === "11") {

				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'Sector_Industry', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("Sector_title_name").innerHTML = 'Industry Exposure';
							document.getElementById("Sector_title_name_per").innerHTML = 'Industry Exposure (%)';
							document.getElementById("Sector_classifi_expo").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("Total_expo").textContent =
								formatDecimalValue(data[1]);
							formatNumber(data[0]);
							document.getElementById("Total_expo").textContent =
								formatNumber(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";
				var trHTML = "";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'tenaccountSectorIndustrial', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[4]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";
			}

			else if (Selectedmatrixlabel === "12") {

				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'Sector_Trading', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("Sector_title_name").innerHTML = 'Trading Exposure';
							document.getElementById("Sector_title_name_per").innerHTML = 'Trading Exposure (%)';
							document.getElementById("Sector_classifi_expo").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("Total_expo").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";



				var trHTML = "";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'tenaccountSectorTrading', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[4]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";
			}
			else if (Selectedmatrixlabel === "13") {

				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'Sector_Services', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("Sector_title_name").innerHTML = 'Services Exposure';
							document.getElementById("Sector_title_name_per").innerHTML = 'Services Exposure (%)';
							document.getElementById("Sector_classifi_expo").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("Total_expo").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";


				var trHTML = "";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'tenaccountServicesexcludingbank', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[4]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";
			}
			else if (Selectedmatrixlabel === "14") {

				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'Sector_Banks', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("Sector_title_name").innerHTML = 'Banks Exposure';
							document.getElementById("Sector_title_name_per").innerHTML = 'Banks Exposure (%)';
							document.getElementById("Sector_classifi_expo").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("Total_expo").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";

				var trHTML = "";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'tenaccountBank', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[4]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";
			}
			else if (Selectedmatrixlabel === "15") {

				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'Sector_Real_Estate', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("Sector_title_name").innerHTML = 'Real Estate Exposure';
							document.getElementById("Sector_title_name_per").innerHTML = 'Real Estate Exposure (%)';
							document.getElementById("Sector_classifi_expo").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("Total_expo").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";


				var trHTML = "";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'tenaccountRealEstate', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[4]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";
			}
			else if (Selectedmatrixlabel === "16") {


				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'Sector_Others', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("Sector_title_name").innerHTML = 'Other Exposure';
							document.getElementById("Sector_title_name_per").innerHTML = 'Other Exposure (%)';
							document.getElementById("Sector_classifi_expo").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("Total_expo").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("Sector_classifi_per").textContent =
								(data[2] + ' %' || '');
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".Sector_Industrial").style.display = "grid";

				var trHTML = "";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'tenaccountOtherSectors', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[4]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";
			}
			else if (Selectedmatrixlabel === "7") {
				document.getElementById("labletype").innerHTML = "Top 10 NPA Accounts";
				var trHTML = "";
				document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'tenaccountdetailSlippage', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatNumber(data[3]) || "") + "</td>" +
								"<td>" + (data[4] || "") + "</td>" +
								"<td>" + (formatNumber(data[5]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenBorrowerdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
						document.getElementById("CustomerChartdetailsbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".CustomerChartdetails").style.display = "block";
			} else if (Selectedmatrixlabel === "8") {
				document.getElementById("Provlabletype").innerHTML = "Top 10 Provision Coverage Accounts";
				var trHTML = "";
				document.getElementById("ProvisionCoveragebody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'teaccountProvisionCoverageRatio', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[3]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[4]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[5]) || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[6]) || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenProvisiondate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
						document.getElementById("ProvisionCoveragebody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".ProvisionCoverage").style.display = "block";
			} else if (Selectedmatrixlabel === "2") {
				var trHTML = "";
				document.getElementById("ToptenSingleborrowerbody").innerHTML = trHTML;
				document.getElementById("ToptenGroupborrowerbody").innerHTML = trHTML;
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'ToptenSingleExposure', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (formatNumber(data[1]) || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("Singleexpreportdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
						document.getElementById("ToptenSingleborrowerbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".ToptenSingleborrowerdiv").style.display = "block";

				var trHTML_1 = "";
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'ToptenGroupExposure', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML_1 = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML_1 +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (formatNumber(data[1]) || "") + "</td>" +
								"<td>" + (data[2] || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenGroupborrowerbody").innerHTML = trHTML_1;
						document.getElementById("Groupexpreportdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".ToptenGroupborrowerdiv").style.display = "block";
			} else if ((Selectedmatrixlabel === "38") || (Selectedmatrixlabel === "40")) {
				document.querySelector(".LongTermandMediumTerm").style.display = "none";
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'LongTermAED', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("Shortterm6monRes").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("MediumTermRes6MONto3YR").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("LongTermResAbove3YR").textContent =
								formatDecimalValue(data[2]);
							document.getElementById("Shortterm6monAssets").textContent =
								formatDecimalValue(data[3]);
							document.getElementById("MediumTermAsset6MONto3YR").textContent =
								formatDecimalValue(data[4]);
							document.getElementById("LongTermAssetAbove3YR").textContent =
								formatDecimalValue(data[5]);
							document.getElementById("LongtermActual").textContent =
								formatDecimalValue(data[6]) + '%';
							document.getElementById("MediumtoLongActual").textContent =
								formatDecimalValue(data[7]) + '%';
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.getElementById("LongTermandMediumTermreportdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
				document.getElementById("LongTermandMediumTermlabel").innerHTML = 'In AED Million';
				document.querySelector(".LongTermandMediumTerm").style.display = "block";
			} else if ((Selectedmatrixlabel === "39") || (Selectedmatrixlabel === "41")) {
				document.querySelector(".LongTermandMediumTerm").style.display = "none";
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'LongTermUSD', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("Shortterm6monRes").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("MediumTermRes6MONto3YR").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("LongTermResAbove3YR").textContent =
								formatDecimalValue(data[2]);
							document.getElementById("Shortterm6monAssets").textContent =
								formatDecimalValue(data[3]);
							document.getElementById("MediumTermAsset6MONto3YR").textContent =
								formatDecimalValue(data[4]);
							document.getElementById("LongTermAssetAbove3YR").textContent =
								formatDecimalValue(data[5]);
							document.getElementById("LongtermActual").textContent =
								formatDecimalValue(data[6]) + '%';
							document.getElementById("MediumtoLongActual").textContent =
								formatDecimalValue(data[7]) + '%';
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.getElementById("LongTermandMediumTermreportdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
				document.getElementById("LongTermandMediumTermlabel").innerHTML = 'In USD Million';
				document.querySelector(".LongTermandMediumTerm").style.display = "block";
			} else if (Selectedmatrixlabel === "24") {
				document.querySelector(".Netovernight_noop").style.display = "none";
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'NetOvernight_noop', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("OVER_BOUGHT_AMOUNT").textContent =
								formatNumber(data[1]);
							document.getElementById("OVER_SOLD_AMOUNT").textContent =
								formatNumber(data[2]);
							document.getElementById("NOOP_AMOUNT_IN_INR").textContent =
								formatNumber(data[3]);
							document.getElementById("LIMIT_AMOUNT_IN_INR").textContent =
								formatNumber(data[4]);
							document.getElementById("HEADROOM_AVAL_AMOUNT_IN_INR").textContent =
								formatNumber(data[5]);
							document.getElementById("NOOP_EXPOSURE_PERC").textContent =
								(data[6])+'%';
						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.getElementById("Netovernight_noop_table_name").innerHTML = 'Net Overnight Position Limit (NOOP)';
				document.querySelector(".Netovernight_noop").style.display = "block";

			} else if (Selectedmatrixlabel === "45") {
				document.querySelectorAll(".Stockapproachtables").forEach(el => el.style.display = "none");
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'Stockapproachratio', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {

							document.getElementById("VolatileLiab").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("TemporaryAssets").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("EarningAssets").textContent =
								formatDecimalValue(data[2]);
							document.getElementById("CoreDeposits").textContent =
								formatDecimalValue(data[3]);
							document.getElementById("TotalAssets").textContent =
								formatDecimalValue(data[4]);
							document.getElementById("Loans_Mandatory_SLR_Mandatory_CRR_Fixed_assets").textContent =
								formatDecimalValue(data[5]);


							////postions
							document.getElementById("position_1").textContent =
								formatDecimalValue(data[6]) + '%';
							document.getElementById("position_2").textContent =
								formatDecimalValue(data[7]) + '%';
							document.getElementById("position_3").textContent =
								formatDecimalValue(data[8]) + '%';
							document.getElementById("position_4").textContent =
								formatDecimalValue(data[9]) + '%';
							document.getElementById("position_5").textContent =
								formatDecimalValue(data[10]) + '%';
							document.getElementById("position_6").textContent =
								formatDecimalValue(data[11]) + '%';
							document.getElementById("position_7").textContent =
								formatDecimalValue(data[12]) + '%';

						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.getElementById("StockapproachReport_date").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
				document.querySelectorAll(".Stockapproachtables").forEach(el => el.style.display = "block");

			}else if (Selectedmatrixlabel === "46"){
				document.querySelector(".UnsecuredPosition").style.display = "none";

				fetch("./GetSecuredUnsecureddata?Report_date=" + encodeURIComponent(selectedDate))
					.then(response => response.json())
					.then(result => {

						// Get tbody element
						var UnsecuredPositionbody = document.getElementById("UnsecuredPositionbody");
						if (!UnsecuredPositionbody) {
							console.error("Table body not found!");
							return;
						}
						UnsecuredPositionbody.innerHTML = "";

						// Build table rows
						var trHTML =
							"<tr><td><b>Secured by tangible Assets</b></td><td style=text-align:right;>" + formatNumber(result.securedFb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.securedNfb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.totalSecured/1000000) + "</td></tr>" +
							"<tr><td>Secured by other Bank Guarantee</td><td style=text-align:right;>" + formatNumber(result.securedOtherBankFb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.securedOtherBankNfb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.totalSecuredOtherBank/1000000) + "</td></tr>" +
							"<tr><td>Interest Suspense</td><td style=text-align:right;>" + formatNumber(result.interestSuspenseFb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.interestSuspenseNfb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.totalInterestSuspense/1000000) + "</td></tr>" +
							"<tr><td>Provision</td><td style=text-align:right;>" + formatNumber(result.provisionFb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.provisionNfb/1000000) + "</td><td style=text-align:right;>" + formatNumber(result.totalProvision/1000000) + "</td></tr>" +
							"<tr><td><b>Unsecured</b></td><td style=text-align:right;><b>" + formatNumber(result.unsecuredFb/1000000) + "</b></td><td style=text-align:right;><b>" + formatNumber(result.unsecuredNfb/1000000) + "</b></td><td style=text-align:right;><b>" + formatNumber(result.totalFbNfb/1000000) + "</b></td></tr>" +
							"<tr><td rowspan=6 style=border:none></td><td>Balance FB</td><td style=text-align:right;>" + formatNumber(result.balanceFb/1000000) + "</td><td style=text-align:right;><b>" + result.totalRatio + "%</b></td></tr>" +
							"<tr><td>Balance NFB</td><td style=text-align:right;>" + formatNumber(result.balanceNfb/1000000) + "</td><td></td></tr>" +
							"<tr><td><b>Total Advances</b></td><td style=text-align:right;><b>" + formatNumber(result.totalAdvances/1000000) + "</b></td><td></td></tr>" +
							"<tr><td rowspan=3 style=border:none></td><td><b>Unsecured Cap @55% of total advance</b></td><td style=text-align:right;><b>" + formatNumber(result.unsecuredCapTa/1000000) + "</b></td></tr>" +
							"<tr><td><b>Headroom available in AED</b></td><td style=text-align:right;><b>" + formatNumber(result.headroomAvailableAed/1000000) + "</b></td></tr>" +
							"<tr><td><b>Headroom available in USD</b></td><td style=text-align:right;><b>" + formatNumber(result.headroomAvailableUsd/1000000) + "</b></td></tr>";

						// Set table body content
						UnsecuredPositionbody.innerHTML = trHTML;

						// Show table section
						document.querySelector(".UnsecuredPosition").style.display = "block";
					});


			} else if (Selectedmatrixlabel === "43") {
				document.querySelector(".Depositconcentration").style.display = "none";
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'Depositretail', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[2]) || "") + "</td>" +
								"<td>" + (data[3] || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenDepositconcentrationdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
						document.getElementById("Depositconcentrationbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".Depositconcentration").style.display = "block";
			} else if (Selectedmatrixlabel === "42") {
				document.querySelector(".Depositconcentration").style.display = "none";
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'Depositnonretail', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						var trHTML = "";

						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							trHTML +=
								"<tr>" +
								"<td>" + (data[0] || "") + "</td>" +
								"<td>" + (data[1] || "") + "</td>" +
								"<td>" + (formatDecimalValue(data[2]) || "") + "</td>" +
								"<td>" + (data[3] || "") + "</td>" +
								"</tr>";
						});

						// Replace body content
						document.getElementById("ToptenDepositconcentrationdate").innerHTML = 'Report Date : ' + selectedDate.split("T")[0];
						document.getElementById("Depositconcentrationbody").innerHTML = trHTML;
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});
				document.querySelector(".Depositconcentration").style.display = "block";
			} else if (Selectedmatrixlabel === "4") {

				document.querySelector(".Leverageratiosummblock").style.display = "none"
				fetch('./Limitdetaildata?Report_date=' + selectedDate + '&Data_Type_Used=' + 'Leverageratio', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error("HTTP error " + response.status);
						}
						return response.json();
					})
					.then(list => {
						// Use plain JS loop; you already use jQuery only for DOM
						list.forEach(function (data) {
							document.getElementById("r21_total").textContent =
								formatDecimalValue(data[0]);
							document.getElementById("r22_total").textContent =
								formatDecimalValue(data[1]);
							document.getElementById("r12_total").textContent =
								formatDecimalValue(data[3]);
							document.getElementById("r20_total").textContent =
								formatDecimalValue(data[4]);
							document.getElementById("r3_total").textContent =
								formatDecimalValue(data[5]);

						});
					})
					.catch(error => {
						alert("Error fetching exposure data: " + error.message);
						$("#invalidfile").modal("toggle");
					});

				document.querySelector(".chart-card").style.display = "block";
				document.querySelectorAll(".chart-container").forEach(el => el.style.display = "block");
				document.querySelector(".Leverageratiosummblock").style.display = "grid"

			}


			else {
				alert('Sorry invalid operation selected')
			}
		}

		function ShowLeverageratiodtlblock(a) {
			if (a === "4") {

				document.querySelector(".Leverageratiodtlblock").style.display = "grid";
			} else if (a === "1.1") {
				document.querySelector(".Capitaladequacyratiodetail_1").style.display = "grid";
				document.querySelector(".Capitaladequacyratiodetail_2").style.display = "none";
			} else if (a === "1.2") {
				document.querySelector(".Capitaladequacyratiodetail_2").style.display = "grid";
				document.querySelector(".Capitaladequacyratiodetail_1").style.display = "none";
			}
		}

		// Helper formatting
		function formatNumber(value) {
			if (!value) return "0";
			return Number(value).toLocaleString("en-US", {
				minimumFractionDigits: 2,
				maximumFractionDigits: 2
			});
		}

		function formatDecimalValue(value) {
			if (!value) return "0";
			return Number(value).toLocaleString("en-US", {
				minimumFractionDigits: 2,
				maximumFractionDigits: 2
			});
		}

		function getRoundedMax(value) {
			const padding = value * 0.1; // 10% headroom
			const rawMax = value + padding;
			if (rawMax <= 2) return 2;
			if (rawMax <= 3) return 3;
			if (rawMax <= 5) return 5;
			if (rawMax <= 10) return 10;
			if (rawMax <= 20) return 20;
			if (rawMax <= 30) return 30;
			if (rawMax <= 40) return 40;
			if (rawMax <= 50) return 50;
			if (rawMax <= 60) return 60;
			if (rawMax <= 70) return 70;
			if (rawMax <= 80) return 80;
			if (rawMax <= 90) return 90;
			if (rawMax <= 100) return 100;

			return Math.ceil(rawMax / 10) * 10;
		}

		function getStepSize(maxValue) {

			if (maxValue <= 2) return 0.2;
			if (maxValue <= 3) return 0.3;
		    if (maxValue <= 5) return 0.5;
		    if (maxValue <= 10) return 1;
		    if (maxValue <= 20) return 2;
			if (maxValue <= 30) return 3;
			if (maxValue <= 40) return 4;
		    if (maxValue <= 50) return 5;

		    const steps = 10;
		    return Math.ceil((maxValue / steps) / 5) * 5;
		}


		function formatDateForInput(dateValue) {
			if (!dateValue) return "";

			const d = new Date(dateValue);
			if (isNaN(d)) return "";

			const year = d.getFullYear();
			const month = String(d.getMonth() + 1).padStart(2, '0');
			const day = String(d.getDate()).padStart(2, '0');

			return `${year}-${month}-${day}`;
		}


		function onDateChange(input) {
			const selectedDate = input.value;
			const sNo = input.dataset.sno;
			const label = input.dataset.label;
			var trHTML = "";
			document.getElementById("Matrixtablebody").innerHTML = trHTML;

			fetch('./GetRT_Matrix_monitoring_entity?Report_date=' + selectedDate + '&Matrixserial_no=' + sNo + '&MatrixLabel' +
				label, {
				method: 'POST',
				headers: {
					'Content-Type': 'application/x-www-form-urlencoded'
				}
			})
				.then(response => {
					if (!response.ok) {
						throw new Error("HTTP error " + response.status);
					}
					return response.json();
				})
				.then(list => {
					trHTML = "";

					// Use plain JS loop; you already use jQuery only for DOM
					list.forEach(function (data) {
						const statusText = data.status === 'Y' ? 'Within limit' : 'Breach';
						const statusColor = data.status === 'Y' ? 'green' : 'coral';


						trHTML += `
						        <tr style="font-size: small;">
						            <td>${data.s_no ?? ""}</td>

						            <td class="truncate" style="font-weight:600;">
						                <a href="#"
						                   onclick="Getanalyticaldata(this);"
						                   setlabelname="${data.matrix_label ?? ""}"
						                   setlabelsrlno="${data.s_no ?? ""}"
										   setreport_date="${data.report_date ?? ""}">
						                   ${data.matrix_label ?? ""}
						                </a>
						            </td>

						            <td style="font-weight:600;">${data.guidelines_or_policy ?? ""}</td>

						            <!-- Limit -->
						            <td style="text-align: center;">
						                <span class="badge-status">
						                    <span class="limit-value">
						                        ${formatDecimalValue(data.limit_assigned) ?? "0.00"}
						                    </span>
						                </span>
						            </td>

						            <!-- Today's Position -->
						            <td style="text-align: center;">
						                <span class="badge-status">
						                    <span class="position-value">
						                        ${formatDecimalValue(data.position_of_matrix) ?? "0.00"}
						                    </span>
						                </span>
						            </td>

						            <!-- Date -->
						            <td style="text-align: center;">
						                <input class="badge-status"
						                       type="date"
						                       value="${formatDateForInput(data.report_date) ?? ""}"
						                       data-sno="${data.s_no ?? ""}"
						                       data-label="${data.matrix_label ?? ""}"
						                       onchange="onDateChange(this)">
						            </td>

						            <!-- Status -->
						            <td class="status-cell"
						                style="background-color:${statusColor};color:White;font-weight:600;">
						                ${statusText}
						            </td>
						        </tr>`;
					});

					// Replace body content
					document.getElementById("Matrixtablebody").innerHTML = trHTML;
				})
				.catch(error => {
					alert("Error fetching exposure data: " + error.message);
					$("#invalidfile").modal("toggle");
				});

		}


		document.addEventListener("DOMContentLoaded", function () {

			Initiatemonthlychart(labels, dataValues, 10, 100);
			Initiatedailychart(labels, dataValues, 10, 100);
		});



		function InitiatemonthlychartStockratio(labels, position_1, position_2,
			position_3, position_4, position_5, position_6, position_7, CalculatedStepSize, yaxismaxsize) {
			const ctx = document.getElementById("StockLinechartformonthlyreport");

			if (!ctx) return;

			if (barChartInstance) {
				barChartInstance.destroy();
			}

			barChartInstance = new Chart(ctx, {
				type: "line",
				data: {
					labels: labels,
					datasets: [
						{
							label: "S.no : 1 Per",
							data: position_1,
							backgroundColor: "rgba(139, 92, 246, 0.75)",   // bar fill
							borderColor: "rgba(139, 92, 246, 1)",                        // bar border
							borderWidth: 1.5,
							borderRadius: 6,                               // rounded corners
							maxBarThickness: 26,                           // slim bars
							hoverBackgroundColor: "rgba(139, 92, 246, 0.9)",
							hoverBorderColor: "#7c3aed"
						}, {
							label: "S.no : 2 Per",
							data: position_2,
							backgroundColor: "rgba(16, 185, 129, 0.75)",   // bar fill
							borderColor: "rgba(16, 185, 129, 1)",                        // bar border
							borderWidth: 1.5,
							borderRadius: 6,                               // rounded corners
							maxBarThickness: 26,                           // slim bars
							hoverBackgroundColor: "rgba(139, 92, 246, 0.9)",
							hoverBorderColor: "#7c3aed"
						}, {
							label: "S.no : 3 Per",
							data: position_3,
							backgroundColor: "rgba(59, 130, 246, 0.75)",   // bar fill
							borderColor: "rgba(59, 130, 246, 1)",                        // bar border
							borderWidth: 1.5,
							borderRadius: 6,                               // rounded corners
							maxBarThickness: 26,                           // slim bars
							hoverBackgroundColor: "rgba(139, 92, 246, 0.9)",
							hoverBorderColor: "#7c3aed"
						}, {
							label: "S.no : 4 Per",
							data: position_4,
							backgroundColor: "rgba(245, 158, 11, 0.75)",   // bar fill
							borderColor: "rgba(245, 158, 11, 1)",                        // bar border
							borderWidth: 1.5,
							borderRadius: 6,                               // rounded corners
							maxBarThickness: 26,                           // slim bars
							hoverBackgroundColor: "rgba(139, 92, 246, 0.9)",
							hoverBorderColor: "#7c3aed"
						}, {
							label: "S.no : 5 Per",
							data: position_5,
							backgroundColor: "rgba(239, 68, 68, 0.75)",   // bar fill
							borderColor: "rgba(239, 68, 68, 1)",                        // bar border
							borderWidth: 1.5,
							borderRadius: 6,                               // rounded corners
							maxBarThickness: 26,                           // slim bars
							hoverBackgroundColor: "rgba(139, 92, 246, 0.9)",
							hoverBorderColor: "#7c3aed"
						}, {
							label: "S.no : 6 Per",
							data: position_6,
							backgroundColor: "rgba(14, 165, 233, 0.75)",   // bar fill
							borderColor: "rgba(14, 165, 233, 1)",                        // bar border
							borderWidth: 1.5,
							borderRadius: 6,                               // rounded corners
							maxBarThickness: 26,                           // slim bars
							hoverBackgroundColor: "rgba(139, 92, 246, 0.9)",
							hoverBorderColor: "#7c3aed"
						}, {
							label: "S.no : 7 Per",
							data: position_7,
							backgroundColor: "rgba(168, 85, 247, 0.75)",   // bar fill
							borderColor: "rgba(168, 85, 247, 1)",                        // bar border
							borderWidth: 1.5,
							borderRadius: 6,                               // rounded corners
							maxBarThickness: 26,                           // slim bars
							hoverBackgroundColor: "rgba(139, 92, 246, 0.9)",
							hoverBorderColor: "#7c3aed"
						},
					],
				},
				options: {
					responsive: true,
					maintainAspectRatio: false,
					plugins: {
						legend: {display: true},
						tooltip: {
							callbacks: {
								label: (ctx) => `${ctx.parsed.y}%`
							}
						},datalabels: {
						            display: false   // ✅ removes values from chart
						        }
					},
					onClick: (evt, elements) => {
						if (!elements.length) return;
						const idx = elements[0].index;
						const period = labels[idx];   // e.g. "Jan"
						updateLiquidAssetsTable(period);
					},
					scales: {
						x: {
							grid: {
								display: false
							},
							ticks: {
								color: "Black",
								font: {
									size: 10,
									weight: 'bold'
								},
								maxRotation: 45,
								minRotation: 45
							},
							border: {
								color: 'black',
								width: 1.5
							},
							title: {
								display: true,
								color: '#6b7280',
								font: {
									size: 15,
									weight: '800'
								},
								padding: {
									top: 8    // space between labels and title
								}
							}

						},
						y: {
							beginAtZero: false,
							max: yaxismaxsize,
							grid: {
								color: "White",
								drawBorder: false
							},
							border: {
								color: 'black',
								width: 1.5
							},
							ticks: {
								stepSize: CalculatedStepSize,
								autoSkip: false,
								color: "Black",
								font: {
									size: 10,
									weight: 'bold'
								},
								callback: (value) => value + "%"
							}
						}
					}
				}
			});
		}


		function Initiatemonthlychart(labels, dataValues, CalculatedStepSize, yaxismaxsize) {

		    const ctx = document.getElementById("Linechartformonthlyreport");
		    if (!ctx) return;

		    if (barChartInstance) {
		        barChartInstance.destroy();
		    }

		    barChartInstance = new Chart(ctx, {
		        type: "line",
		        data: {
		            labels: labels,
		            datasets: [
		                {
		                    label: "Utilization %",
		                    data: dataValues,
		                    backgroundColor: "rgba(139, 92, 246, 0.65)",
		                    borderColor: "#8b5cf6",
		                    borderWidth: 2,
		                    tension: 0.3,
		                    pointRadius: 4,
		                    pointHoverRadius: 6
		                },
		            ],
		        },
		        options: {
		            responsive: true,
		            maintainAspectRatio: false,

					plugins: {
					    legend: { display: false },

					    tooltip: {
					        callbacks: {
					            label: (ctx) => `${ctx.parsed.y}%`
					        }
					    },

						datalabels: {
						    color: "black",
						    font: {
						        weight: "bold",
						        size: 10
						    },

						    // Conditional positioning
						    anchor: function(context) {
						        return context.dataIndex === 0 ? 'end' : 'end'; // stays at end
						    },
						    align: function(context) {
						        return context.dataIndex === 0 ? 'right' : 'top'; // first point at bottom
						    },
						    offset: function(context) {
						        return context.dataIndex === 0 ? 6 : 0; // push a bit for bottom
						    },

						    // Hide label on hover for hovered point
						    display: function(context) {
						        const chart = context.chart;
						        const activePoints = chart.getActiveElements();

						        if (activePoints.length) {
						            const { datasetIndex, index } = activePoints[0];
						            if (datasetIndex === context.datasetIndex && index === context.dataIndex) {
						                return false;
						            }
						        }
						        return true;
						    },

						    // Format value
						    formatter: (value) => value + "%"
						}
					},

		            onClick: (evt, elements) => {
		                if (!elements.length) return;
		                const idx = elements[0].index;
		                const period = labels[idx];
		                updateLiquidAssetsTable(period);
		            },

		            scales: {
		                x: {
		                    grid: { display: false },
		                    border: {
		                        color: 'black',
		                        width: 1.5
		                    },
		                    ticks: {
		                        color: "black",
		                        font: { size: 10, weight: 'bold' },
		                        maxRotation: 45,
		                        minRotation: 45
		                    }
		                },
		                y: {
		                    beginAtZero: false,
		                    max: yaxismaxsize,
		                    grid: {
		                        color: "white",
		                        drawBorder: false
		                    },
		                    border: {
		                        color: 'black',
		                        width: 1.5
		                    },
		                    ticks: {
		                        stepSize: CalculatedStepSize,
		                        autoSkip: false,
		                        color: "black",
		                        font: { size: 10, weight: 'bold' },
		                        callback: (value) => value + "%"
		                    }
		                }
		            }
		        }
		    });
		}

		
		///Progressing chart function for currenct Month
		function Initiatedailychart(labels, dataValues, CalculatedStepSize, yaxismaxsize) {
			const ctx = document.getElementById("Linechartfordailyreport");
			if (!ctx) return;

			if (progressChartInstance) {
				progressChartInstance.destroy();
			}


			progressChartInstance = new Chart(ctx, {
				type: "line",
				data: {
					labels: labels,          // 🔹 dynamic labels from backend
					datasets: [
						{
							label: "Utilization %",
							data: dataValues,                        // 🔹 dynamic data
							borderColor: "#8b5cf6",
							backgroundColor: "rgba(139, 92, 246, 0.15)",
							borderWidth: 2,
							fill: true,
							tension: 0.35,                           // smooth curve
							pointRadius: 3,
							pointHoverRadius: 5,
							pointBackgroundColor: "#8b5cf6",
							pointBorderColor: "#ffffff",
							pointBorderWidth: 1.5
						},
					],
				},
				options: {
					responsive: true,
					maintainAspectRatio: false,
					plugins: {
						legend: {display: false},
						tooltip: {
							callbacks: {
								label: (ctx) => `${ctx.parsed.y}%`
							}
						}
					},
					onClick: (evt, elements) => {
						if (!elements.length) return;
						const idx = elements[0].index;
						const period = labels[idx];   // e.g. "Jan"
						updateLiquidAssetsTable(period);
					},
					scales: {
						x: {
							grid: {
								display: false
							},
							ticks: {
								color: "Black",
								font: {size: 10},
								maxRotation: 45,
								minRotation: 45
							},
							title: {
								display: true,
								text: 'Daily Trend (↑)',
								color: '#6b7280',
								font: {
									size: 15,
									weight: '800'
								},
								padding: {
									top: 8    // space between labels and title
								}
							}
						},
						y: {
							beginAtZero: true,
							max: yaxismaxsize,
							grid: {
								color: "White",
								drawBorder: false
							},
							ticks: {
								stepSize: CalculatedStepSize,
								autoSkip: false,
								color: "Black",
								font: {size: 10},
								callback: (value) => value + "%"
							}
						}
					}
				}
			});
		}

	</script>

	<div th:insert="~{XBRLHeaderMenu :: header}" class="fixed-top"></div>

	<!-- Use full width of page -->
	<div class="container-fluid main-content">
		<div class="row g-3">
			<!-- LEFT: table uses full left half -->
			<div class="col-lg-6 col-md-12">
				<h4 style="color: white;">List Of All Ratios Monitored By
					Risk Management
				</h4>
				<div class="table-wrap">
					<table class="table refund-table align-middle mb-0">
						<thead>
							<tr>
								<th>S No</th>
								<th>Regulatory Caps / Limits</th>
								<th>Guidelines / Policy</th>
								<th>Limit</th>
								<th>Today's Position</th>
								<th>Reporting Date Position</th>
								<th>Status</th>
							</tr>
						</thead>
						<tbody id="Matrixtablebody">
							<tr th:each="Matrixlist,iterator : ${Matrixlistdata}">

								<td th:text="${iterator.index+1}" style="font-weight: 600;">1</td>

								<td class="truncate" style="font-weight: 600;">
									<a href="#" th:text="${Matrixlist.matrix_label}" onclick="Getanalyticaldata(this);"
										th:attr="setlabelname=${Matrixlist.matrix_label},setlabelsrlno=${Matrixlist.s_no},
										setreport_date=${#dates.format(Matrixlist.report_date,'dd-MM-yyyy')}"></a>
								</td>

								<td th:text="${Matrixlist.guidelines_or_policy}" style="font-weight: 600;">CBUAE</td>

								<!-- 1st percentage -->
								<td style="text-align: center;">
									<span class="badge-status">
										<span
											th:text="${#numbers.formatDecimal(Matrixlist.limit_assigned, 2, 'COMMA', 2, 'POINT')}">0.00%</span>
									</span>
								</td>

								<!-- 2nd percentage -->
								<td style="text-align: center;">
									<span class="badge-status">
										<span
											th:text="${#numbers.formatDecimal(Matrixlist.position_of_matrix, 2, 'COMMA', 2, 'POINT')}">0.00%</span>
									</span>
								</td>

								<!-- Date -->
								<td style="text-align: center;">

									<input class="badge-status" type="date" th:attr="data-sno=${Matrixlist.s_no},
										data-label=${Matrixlist.matrix_label}" onchange="onDateChange(this)"
										th:value="${#dates.format(Matrixlist.report_date, 'yyyy-MM-dd')}" />
								</td>
								<th:block th:switch="${Matrixlist.status}">
									<td th:case="'Y'" style="background-color:green;color: white;font-weight: 600;">
										Within limit</td>
									<td th:case="'N'" style="background-color: coral;font-weight: 600;color: white;"
										class="blink-bg">Breach</td>

								</th:block>

							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<!-- RIGHT: graphs use full right half -->
			<div class="col-lg-6 col-md-12">
				<h4 id="Analyticsheadername" style="color: white;">Analytics
				</h4>
				<div class="chart-card">
					<div class="stats-grid Leverageratiosummblock" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Tier 1 Capital</div>
							</div>
							<div class="stat-card-value" id="r21_total">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title"><a href="#" onclick="ShowLeverageratiodtlblock('4');">Total
										Exposure</a></div>
							</div>
							<div class="stat-card-value" id="r22_total">0.00</div>
						</div>
					</div>
					<div class="stats-grid Leverageratiodtlblock" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">On Balance Exposure</div>
							</div>
							<div class="stat-card-value" id="r3_total">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Derivative Exposure</div>
							</div>
							<div class="stat-card-value" id="r12_total">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Off Balance Exposure</div>
							</div>
							<div class="stat-card-value" id="r20_total">0.00</div>
						</div>
					</div>
					<!--Capital Adequecy ratio block-->
					<div class="stats-grid Capitaladequacyratio" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title"> <a href="#"
										onclick="ShowLeverageratiodtlblock('1.1');">Tier 1 Capital</a></div>
							</div>
							<div class="stat-card-value" id="r15_ratios1">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title"><a href="#"
										onclick="ShowLeverageratiodtlblock('1.2');">Total RWA</a></div>
							</div>
							<div class="stat-card-value" id="r22_ratios2">0.00</div>
						</div>
					</div>

					<div class="stats-grid Capitaladequacyratiodetail_1" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Share Capital</div>
							</div>
							<div class="stat-card-value" id="r16_ratios1">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Eligible Reserves</div>
							</div>
							<div class="stat-card-value" id="r18_ratios1">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Retained Earnings / (-) Loss</div>
							</div>
							<div class="stat-card-value" id="r23_ratios1">0.00</div>
						</div>
					</div>

					<div class="stats-grid Capitaladequacyratiodetail_2" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Credit Risk Standardised approach (CSA)</div>
							</div>
							<div class="stat-card-value" id="r23_ratios2">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Market Risk - Standardised approaches (SA)</div>
							</div>
							<div class="stat-card-value" id="r45_ratios2">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Operational Risk</div>
							</div>
							<div class="stat-card-value" id="r51_ratios2">0.00</div>
						</div>
					</div>

					<!--Exposure to outside Gcc-->

					<div class="stats-grid CountryExposuredetail" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title"><a href="#" id="outsideGccLink" data-report-date=""
										onclick="Getexposuredetail('Outsidegcc',this);">Outside GCC Exposure
										(%)</a></div>
							</div>
							<div class="stat-card-value" id="Outside_gcc_exp">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Outside Gcc Rwa</div>
							</div>
							<div class="stat-card-value" id="Outside_gcc_rwa">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title"><a href="#" id="GccLink" data-report-date=""
										onclick="Getexposuredetail('OnlyGcc',this);">GCC
										Exposure (%)</a></div>
							</div>
							<div class="stat-card-value" id="Only_gcc_Exp">0.00</div>
						</div>

						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">GCC RWA</div>
							</div>
							<div class="stat-card-value" id="Gcc_Rwa">0.00</div>
						</div>
					</div>

					<!--Mortgage Loan Appetite-->

					<div class="stats-grid Mortageloan_block" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title"><a href="#" id="Housingloanlink" data-report-date=""
										onclick="Getexposuredetail('Toptenhousingloan',this);">Housing loan</a>
								</div>
							</div>
							<div class="stat-card-value" id="Housingloan_Exp">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title"><a href="#" id="TopuploanLink" data-report-date=""
										onclick="Getexposuredetail('Toptentopuploan',this);">Baroda Topup</a></div>
							</div>
							<div class="stat-card-value" id="Topuploan_Expo">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Total Mortgage loan</div>
							</div>
							<div class="stat-card-value" id="Total_mortgage_loan">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Mortgage Loan Appetite (%)</div>
							</div>
							<div class="stat-card-value" id="Total_mortgage_loan_per">0.00</div>
						</div>
					</div>
					<!--Fresh Slippage to Total Advances Ratio (Q on Q)-->
					<div class="stats-grid Freshslippage_tot_adv" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Current Qtr Slippage (%)</div>
							</div>
							<div class="stat-card-value" id="Current_Qtr_sli_per">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title" id="last_year_slip_hdr"></div>
							</div>
							<div class="stat-card-value" id="last_year_slip_bal">0.00</div>
						</div>
					</div>

					<div class="stats-grid Freshslippage_tot_adv" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title" id="First_qtr_slip_hdr"></div>
							</div>
							<div class="stat-card-value" id="First_qtr_slip_bal">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title" id="Second_qtr_slip_hdr"></div>
							</div>
							<div class="stat-card-value" id="Second_qtr_slip_bal">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title" id="Third_qtr_slip_hdr"></div>
							</div>
							<div class="stat-card-value" id="Third_qtr_slip_bal">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title" id="Fourth_qtr_slip_hdr"></div>
							</div>
							<div class="stat-card-value" id="Fourth_qtr_slip_bal">0.00</div>
						</div>
					</div>

					<div class="stats-grid Sector_Industrial" style="display: none;">
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title" id="Sector_title_name">Sector Class Title</div>
							</div>
							<div class="stat-card-value" id="Sector_classifi_expo">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title">Total Exposure</div>
							</div>
							<div class="stat-card-value" id="Total_expo">0.00</div>
						</div>
						<div class="stat-card">
							<div class="stat-card-header">
								<div class="stat-card-title" id="Sector_title_name_per">Sector Class (%)</div>
							</div>
							<div class="stat-card-value" id="Sector_classifi_per">0.00</div>
						</div>
					</div>

					<!-- Chart -->
					<div class="chart-container" style="display: none;">
						<canvas id="Linechartformonthlyreport"></canvas>

					</div>

					<div class="StockChart-container" style="display: none;">
						<canvas id="StockLinechartformonthlyreport"></canvas>

					</div>

					<!--Current Month progressing chart-->
					<!--<div class="chart-container" style="display: none;">
						<canvas id="Linechartfordailyreport"></canvas>

					</div>-->

					<!--	Group and Single Borrower detail -->
					<div class="UnsecuredPosition" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th>Secured Vs Unsecured (From ACPR FB+NFB Dump)</th>
									<th style=text-align:right;>Fund Based</th>
									<th style=text-align:right;>Non Fund Based</th>
									<th style=text-align:right;>TOTAL</th>
								</tr>
							</thead>
							<tbody id="UnsecuredPositionbody">
							</tbody>
						</table>
					</div>

					<!--	Group and Single Borrower detail -->
					<div class="ToptenSingleborrowerdiv" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th>Top 10 Single Borrower Exposure detail</th>
									<th id="Singleexpreportdate" colspan="2">Report date</th>
								</tr>
								<tr style="background-color: #dee2e6">
									<th>Customer Name</th>
									<th>Balance</th>
									<th>Exposure Percentage (%)</th>
								</tr>


							</thead>
							<tbody id="ToptenSingleborrowerbody">
							</tbody>
						</table>
					</div>

					<div class="LongTermandMediumTerm" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th id="LongTermandMediumTermreportdate" colspan="2">Report date</th>
									<th id="LongTermandMediumTermlabel" colspan="4"></th>
								</tr>
								<tr>
									<th>S No</th>
									<th>Resources / Outflows</th>
									<th>Amount</th>
									<th>S No</th>
									<th>Assets / Inflows</th>
									<th>Amount</th>
								</tr>


							</thead>
							<tbody id="LongTermandMediumTermbody">
								<tr>
									<td>1</td>
									<td>Short Term (Upto Six Months)</td>
									<td id="Shortterm6monRes"></td>
									<td>4</td>
									<td>Short Term (Upto Six Months)</td>
									<td id="Shortterm6monAssets"></td>
								</tr>
								<tr>
									<td>2</td>
									<td>Medium Term (6 Month to 3 Years)</td>
									<td id="MediumTermRes6MONto3YR"></td>
									<td>5</td>
									<td>Medium Term (6 Month to 3 Years)</td>
									<td id="MediumTermAsset6MONto3YR"></td>
								</tr>
								<tr>
									<td>3</td>
									<td>Long Term (Above 3 Years)</td>
									<td id="LongTermResAbove3YR"></td>
									<td>6</td>
									<td>Long Term (Above 3 Years)</td>
									<td id="LongTermAssetAbove3YR"></td>
								</tr>
								<tr>
									<td colspan="6" style="border: none;"></td>
								</tr>
								<tr>
									<td colspan="6" style="border: none;"></td>
								</tr>
								<tr style="font-weight: bold;">

									<td colspan="2">Ratio in Terms of (%)</td>
									<td>Limit</td>
									<td>Actual</td>

								</tr>
								<tr style="font-weight: bold;">
									<td>a</td>
									<td>Long Term (3/6)</td>
									<td>70%</td>
									<td id="LongtermActual" style="font-weight: bold;"></td>
									

								</tr>
								<tr style="font-weight: bold;">
									<td>b</td>
									<td>Medium to Long Term (2+3 / 5+6)</td>
									<td>80%</td>
									<td id="MediumtoLongActual" style="font-weight: bold;"></td>
									
								</tr>
							</tbody>
						</table>
					</div>

					<!--Stock Approach Table Started Here-->

					<div class="Stockapproachtables" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th colspan="3"></th>
									<th id="StockapproachReport_date" colspan="3">Report Date</th>
								</tr>
								<tr>
									<th>S no</th>
									<th>Ratios</th>
									<th>Significance</th>
									<th>Prudential limits</th>
									<th>Limit</th>
									<th>Positions</th>
								</tr>
							</thead>

							<tbody>
								<!-- Row 1 -->
								<tr>
									<td>1 </td>
									<td>(Volatile Liab- Temp Assets)/(Earning Assets-Temporary Assets)</td>
									<td>
										Measures the extent to which volatile money supports bank’s basic earning
										assets.
										Since the numerator represents short term, interest sensitive funds,
										high and positive number imply some risk of illiquidity.
									</td>
									<td>Not More than 95%</td>
									<td>95%</td>
									<td style="background-color: rgba(139, 92, 246, 0.45);font-weight: bold;"
										id="position_1" th:text="${position_1}">0</td>
								</tr>

								<!-- Row 2 -->
								<tr>
									<td>2 </td>
									<td>Core Deposit / Total Assets</td>
									<td>
										Measures the extent to which assets are funded through stable deposit base.
									</td>
									<td>Not less than 30%</td>
									<td>30%</td>
									<td style="background-color: rgba(16, 185, 129, 0.45);font-weight: bold;"
										id="position_2" th:text="${position_2}">0</td>
								</tr>

								<!-- Row 3 -->
								<tr>
									<td>3 </td>
									<td>(Loans + Mandatory SLR + Mandatory CRR + Fixed Assets) / Total Assets</td>
									<td>
										Loans including mandatory cash reserves and statutory liquidity investments are
										least liquid and hence a high ratio signifies the degree of illiquidity embedded
										in the balance sheet.
									</td>
									<td>Not More than 90%</td>
									<td>90%</td>
									<td style="background-color: rgba(59, 130, 246, 0.45);font-weight: bold;"
										id="position_3" th:text="${position_3}">0</td>
								</tr>

								<!-- Row 4 -->
								<tr>
									<td>4 </td>
									<td>(Loans + Mandatory SLR + Mandatory CRR + Fixed Assets) / Core Deposit</td>
									<td>
										Measures the extent to which illiquid assets are financed out of core deposits.
									</td>
									<td>Not More than 200%</td>
									<td>200%</td>
									<td style="background-color: rgba(245, 158, 11, 0.45);font-weight: bold;"
										id="position_4" th:text="${position_4}">0</td>
								</tr>

								<!-- Row 5 -->
								<tr>
									<td>5 </td>
									<td>Temporary Assets / Total Assets</td>
									<td>
										Measures the extent of available liquid assets.
										A higher ratio could impinge on the asset utilisation of
										banking system in terms of opportunity cost of holding liquidity.
									</td>
									<td>Not less than 15%</td>
									<td>15%</td>
									<td style="background-color: rgba(239, 68, 68, 0.45);font-weight: bold;"
										id="position_5" th:text="${position_5}">0</td>
								</tr>

								<!-- Row 6 -->
								<tr>
									<td>6 </td>
									<td>Temporary Assets / Volatile Liabilities</td>
									<td>
										Measures the cover of liquid investments relative to volatile liabilities.
										A ratio of less than 1 indicates the possibility of liquidity problem.
									</td>
									<td>Not less than 35%</td>
									<td>35%</td>
									<td style="background-color: rgba(14, 165, 233, 0.45);font-weight: bold;"
										id="position_6" th:text="${position_6}">0</td>
								</tr>

								<!-- Row 7 -->
								<tr>
									<td>7 </td>
									<td>Volatile Liabilities / Total Assets</td>
									<td>
										Measures the extent to which volatile liabilities fund the balance sheet.
									</td>
									<td>Not more than 90%</td>
									<td>90%</td>
									<td style="background-color: rgba(168, 85, 247, 0.45);font-weight: bold;"
										id="position_7" th:text="${position_7}">0</td>
								</tr>

							</tbody>
						</table>
					</div>

					<!--Temporart Assets-->
					<div class="Stockapproachtables" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th></th>
									<th>Amount</th>
								</tr>
							</thead>
							<tbody id="Stockapproachbody">
								<tr>
									<td>Volatile Liab</td>
									<td id="VolatileLiab"></td>
								</tr>
								<tr>
									<td>Temporary Assets</td>
									<td id="TemporaryAssets"></td>
								</tr>
								<tr>
									<td>Earning Assets</td>
									<td id="EarningAssets"></td>
								</tr>
								<tr>
									<td>Core Deposits</td>
									<td id="CoreDeposits"></td>
								</tr>
								<tr>
									<td>Total Assets</td>
									<td id="TotalAssets"></td>
								</tr>
								<tr>
									<td>Loans Mandatory SLR + Mandatory CRR + Fixed assets</td>
									<td id="Loans_Mandatory_SLR_Mandatory_CRR_Fixed_assets"></td>
								</tr>
							</tbody>
						</table>
					</div>



					<div class="ToptenGroupborrowerdiv" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th>Top 10 Group Borrower Exposure detail</th>
									<th id="Groupexpreportdate" colspan="2">Report date</th>
								</tr>
								<tr style="background-color: #dee2e6">
									<th>Customer Name</th>
									<th>Balance</th>
									<th>Exposure Percentage (%)</th>
								</tr>


							</thead>
							<tbody id="ToptenGroupborrowerbody">
							</tbody>
						</table>
					</div>

					<div class="CustomerChartdetails" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th id="labletype" colspan="3"> Top 10 Borrower </th>
									<th id="ToptenBorrowerdate" colspan="4">Report date</th>
								</tr>
								<tr style="background-color: #dee2e6" id="CustomerChartdetailsheader">
									<th>Branch Name</th>
									<th>Customer Id</th>
									<th>Account Name</th>
									<th>Balance</th>
									<th>Rw (%)</th>
									<th>Total Rwa</th>
								</tr>


							</thead>
							<tbody id="CustomerChartdetailsbody">
							</tbody>
						</table>
					</div>

					<div class="ProvisionCoverage" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th id="Provlabletype" colspan="5"> Top 10 Borrower </th>
									<th id="ToptenProvisiondate" colspan="2">Report date</th>
								</tr>
								<tr style="background-color: #dee2e6" id="CustomerChartdetailsheader">
									<th>Branch Name</th>
									<th>Customer Id</th>
									<th>Account Name</th>
									<th>FB Balance</th>
									<th>NFB Balance</th>
									<th>Int Suspense</th>
									<th>Total Provision</th>
								</tr>


							</thead>
							<tbody id="ProvisionCoveragebody">
							</tbody>
						</table>
					</div>

					<div class="Depositconcentration" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th id="Depositconcentrationtype" colspan="2" op 10 Borrower </th>
									<th id="ToptenDepositconcentrationdate" colspan="2">Report date</th>
								</tr>
								<tr style="background-color: #dee2e6">
									<th>Customer Id</th>
									<th>Account Name</th>
									<th>Balance</th>
									<th>Percentage</th>
								</tr>


							</thead>
							<tbody id="Depositconcentrationbody">
							</tbody>
						</table>
					</div>


					<div class="MortgageLoanAppetitedetails" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th colspan="2">Top 10 Mortgage Loan Appetite</th>
									<th id="MortgageLoanAppetitedetailsdate" colspan="2">Report date</th>
								</tr>
								<tr style="background-color: #dee2e6">
									<th>Branch Name</th>
									<th>Customer Id</th>
									<th>Account Name</th>
									<th>Balance</th>
								</tr>


							</thead>
							<tbody id="MortgageLoanbody">
							</tbody>
						</table>
					</div>



					<div class="Exposure_outside_GCC" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th colspan="5" id="CountryExposuretablename" style="text-align: center;">Table Name
									</th>
								</tr>
								<tr>
									<th>Country Name</th>
									<th>Balance</th>
									<th>RWA</th>
									<th>Total Exposure (%)</th>
									<th>Total RWA (%)</th>
								</tr>


							</thead>
							<tbody id="Exposure_outside_GCC_body">
							</tbody>
						</table>
					</div>
					<!--	Mortage loan Appetite detail table-->
					<div class="Mortageloan_table" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th colspan="5" id="Mortageloan_table_name" style="text-align: center;">Table Name
									</th>
								</tr>
								<tr>
									<th>Customer Id</th>
									<th>Customer Name</th>
									<th>Balance</th>
									<th>Loans as a % of total Credit</th>
								</tr>


							</thead>
							<tbody id="Mortageloan_table_body">
							</tbody>
						</table>
					</div>

					<!--Net Overnight position Noop calculation-->

					<div class="Netovernight_noop" style="display: none;">
						<table class="table refund-table align-middle mb-0">
							<thead>
								<tr>
									<th colspan="2" id="Netovernight_noop_table_name" style="text-align: center;">Table
										Name
									</th>
								</tr>
							</thead>
							<tbody id="Netovernight_noop_table_body">
								<tr>
									<td>Over Bought In (AED)</td>
									<td id="OVER_BOUGHT_AMOUNT">0.00</td>
								</tr>
								<tr>
									<td>Over Sold In (AED)</td>
									<td id="OVER_SOLD_AMOUNT">0.00</td>
								</tr>
								<tr style="font-weight: bold;">
									<td>Noop Exposure in INR</td>
									<td id="NOOP_AMOUNT_IN_INR" style="font-weight: bold;">0.00</td>
								</tr>
								<tr style="font-weight: bold;">
									<td>Noop Exposure (%)</td>
									<td id="NOOP_EXPOSURE_PERC" style="font-weight: bold;">0.00</td>
								</tr>
								<tr>
									<td>Limit Amount in INR</td>
									<td id="LIMIT_AMOUNT_IN_INR">0.00</td>
								</tr>
								<tr>
									<td>Headroom Amount Available in INR</td>
									<td id="HEADROOM_AVAL_AMOUNT_IN_INR">0.00</td>
								</tr>


							</tbody>
						</table>
					</div>

				</div>

				<div class="LiquidAssetsRatio" style="display: none;">

					<table class="table refund-table align-middle mb-0">
						<thead>
							<tr style="background-color: #dee2e6">
								<th style="text-align: right">1</th>
								<th>High Quality Liquid Assets</th>
								<th>Nominal amount</th>
								<th>Eligible Liquid Asset</th>
							</tr>


						</thead>
						<tbody>

							<tr>
								<td style="text-align: right">1.1</td>
								<td>Physical cash in hand at the bank</td>
								<td style="text-align: right" id="r1_nominal_amount"></td>
								<td rowspan="5" style="background-color: #747472" th:text="${r1_nominal_amount}"></td>
							</tr>
							<tr>
								<td style="text-align: right">1.2</td>
								<td>Statutory reserves with Central Bank</td>
								<td style="text-align: right" id="r2_nominal_amount" th:text="${r2_nominal_amount}">
								</td>
							</tr>
							<tr>
								<td style="text-align: right">1.3</td>
								<td>Free and other account balances at the Central Bank (excluding statutory reserves)
								</td>
								<td style="text-align: right" id="r3_nominal_amount" th:text="${r3_nominal_amount}">
								</td>
							</tr>
							<tr>
								<td style="text-align: right">1.4</td>
								<td>Central Bank CDs (unencumbered)</td>
								<td style="text-align: right" id="r4_nominal_amount" th:text="${r4_nominal_amount}">
								</td>
							</tr>
							<tr>
								<td style="text-align: right">1.5</td>
								<td>UAE Federal Government Bonds and Sukuks</td>
								<td style="text-align: right" id="r5_nominal_amount" th:text="${r5_nominal_amount}">
								</td>
							</tr>
							<tr>
								<td></td>
								<td style="background-color: #b3b6b9">Sub Total (1.1 to 1.5)</td>
								<td style="text-align: right; background-color: #b3b6b9" th:text="${r6_nominal_amount}"
									id="r6_nominal_amount"></td>
								<td style="text-align: right; background-color: #b3b6b9"
									th:text="${r6_eligi_liq_assets}" id="r6_eligi_liq_assets"></td>

							</tr>


							<tr>
								<td style="text-align: right">1.6</td>
								<td>UAE local governments publicly traded debt securities
									(0% Risk Weighted under BII Standardized Approach)
									Rated A+ and above</td>
								<td style="text-align: right" id="r7_nominal_amount" th:text="${r7_nominal_amount}">
								</td>
								<td rowspan="4" style="background-color: #747472"></td>
							</tr>
							<tr>
								<td style="text-align: right">1.7</td>
								<td>UAE local governments publicly traded debt securities
									(0% Risk Weighted under BII Standardized Approach)
									Rated A and below or unrated</td>
								<td style="text-align: right" th:text="${r8_nominal_amount}" id="r8_nominal_amount">
								</td>
							</tr>
							<tr>
								<td style="text-align: right">1.8</td>
								<td>UAE Public sector publicly traded debt securities
									(non commercial, 0% Risk Weighted under BII Standardized Approach)
									Rated A+ and above</td>
								<td style="text-align: right" th:text="${r9_nominal_amount}" id="r9_nominal_amount">
								</td>
							</tr>
							<tr>
								<td style="text-align: right">1.9</td>
								<td>UAE Public sector publicly traded debt securities
									(non commercial, 0% Risk Weighted under BII Standardized Approach)
									Rated A and below or unrated</td>
								<td style="text-align: right" th:text="${r10_nominal_amount}" id="r10_nominal_amount">
								</td>
							</tr>
							<tr>
								<td></td>
								<td style="background-color: #b3b6b9">Sub total (1.6 to 1.9)</td>
								<td style="text-align: right; background-color: #b3b6b9" th:text="${r11_nominal_amount}"
									id="r11_nominal_amount"></td>
								<td style="text-align: right; background-color: #b3b6b9"
									th:text="${r11_eligi_liq_assets}" id="r11_eligi_liq_assets"></td>

							</tr>
							<tr>
								<td style="text-align: right">1.10</td>
								<td>Foreign Sovereign debt instruments or instruments issued by their respective central
									banks
									(0% Risk Weighted under Basel II Standardized Approach)</td>
								<td style="text-align: right" th:text="${r12_nominal_amount}" id="r12_nominal_amount">
								</td>
								<td style="text-align: right; background-color: #b3b6b9">
								</td>
							</tr>
							<tr>
								<td>11.1</td>
								<td style="background-color: #b3b6b9">Total (1.10 + Sub total (1.6 to 1.9) + Sub Total
									(1.1 to 1.5))</td>
								<td style="text-align: right; background-color: #b3b6b9" th:text="${r13_nominal_amount}"
									id="r13_nominal_amount"></td>
								<td style="text-align: right; background-color: #b3b6b9"
									th:text="${r13_eligi_liq_assets}" id="r13_eligi_liq_assets"></td>

							</tr>
							<tr>
								<td>2</td>
								<td style="background-color: #b3b6b9">Total liabilities</td>
								<td rowspan="2" style="background-color: #747472"></td>
								<td style="text-align: right" id="r14_eligi_liq_assets"
									th:text="${r14_eligi_liq_assets}"></td>

							</tr>
							<tr>
								<td>3</td>
								<td style="background-color: #b3b6b9">Eligible Liquid Assets Ratio (ELAR)</td>

								<td style="text-align: right;background-color: #b3b6b9" id="r15_eligi_liq_assets"
									th:text="${r15_eligi_liq_assets}"></td>

							</tr>
						</tbody>

					</table>

				</div>


				<div class="Advancestostableratio" style="display: none;">

					<table class="table refund-table align-middle mb-0">
						<thead class="thead-light">
							<tr>
								<th></th>
								<th></th>
								<th>Items</th>
								<th>Amount</th>
							</tr>


						</thead>
						<tbody>

							<tr>
								<td>1</td>
								<td style="background-color: #b3b6b9;"></td>
								<td style="background-color: #b3b6b9;">Computation of Advances</td>
								<td style="background-color: #b3b6b9;"></td>

							</tr>

							<tr>
								<td></td>
								<td style="text-align: right">1.1</td>
								<td style="background-color: yellow">Net Lending (BRF1 Item 7+8) minus {Stage 3 for
									Loans and Advances (Principal) (BRF-2: item 25.1) + Provision for Interest & Fees
									past due more than 90 days and Legacy Interest in Suspense (BRF-2 item: 25.3}</td>
								<td style="text-align: right" id="r1_amount" th:text="${r1_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">1.2</td>
								<td>Lending to NBFI (BRF
									1, item 4)</td>
								<td style="text-align: right" id="r2_amount" th:text="${r2_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">1.3</td>
								<td>Financial Guarantees & Stand-by LC Issued (BRF 3-Item 3.1)</td>
								<td style="text-align: right" th:text="${r3_amount}" align="right" id="r3_amount">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">1.4</td>
								<td>Financial Guarantees & Stand -by LCs Received </td>
								<td style="text-align: right" id="r4_amount" th:text="${r4_amount}" align="right">
									CHENNAI</td>
							</tr>

							<tr>
								<td></td>
								<td style="text-align: right">1.5</td>
								<td>Interbank Placements with a remaining life of more than 3 months (BRF 9)</td>
								<td style="text-align: right" id="r5_amount" th:text="${r5_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td style="background-color: #b3b6b9;"></td>
								<td style="background-color: #b3b6b9;">1.6</td>
								<td style="background-color: #b3b6b9;">Total Advances</td>
								<td style="background-color: #b3b6b9;" id="r6_amount" th:text="${r6_amount}"
									align="right">CHENNAI</td>
							</tr>
							<tr>
								<td style="text-align: right">2</td>
								<td style="background-color: #b3b6b9;"></td>
								<td style="background-color: #b3b6b9;">Calculation of Net Stable Resources</td>
								<td style="background-color: #b3b6b9;"></td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.1</td>
								<td>Total own funds (BRF2 Liab: item 28 + item 26.7)+ Gen provision (BRF-2 Liab: item
									25.2.3)</td>
								<td style="text-align: right" id="r7_amount" th:text="${r7_amount}" align="right">
									CHENNAI</td>
							</tr>

							<tr>
								<td></td>
								<td style="background-color: #b3b6b9;"></td>
								<td style="background-color: #b3b6b9;">Deduct:</td>
								<td style="background-color: #b3b6b9;"></td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.1.1</td>
								<td>Goodwill and other intangible assets (BRF1 Assets: 11.3 and 11.4)</td>
								<td style="text-align: right" id="r8_amount" th:text="${r8_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.1.2</td>
								<td>Fixed Assets (BRF1 Assets: 9.1 + 9.2 + 9.3 + 9.5)</td>
								<td style="text-align: right" id="r9_amount" th:text="${r9_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.1.3</td>
								<td>Funds allocated to branches abroad (BRF1 Assets: 9.4)</td>
								<td style="text-align: right" id="r10_amount" th:text="${r10_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="background-color: #b3b6b9;">2.1.4</td>
								<td style="background-color: #b3b6b9;">Treasury shares held / No INPUT required here
								</td>
								<td style="background-color: #b3b6b9;" id="r11_amount" th:text="${r11_amount}"
									align="right">CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.1.5</td>
								<td>Unquoted Investments (BRF 5- Applicable items) </td>
								<td style="text-align: right" id="r12_amount" th:text="${r12_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.1.6</td>
								<td>Investment in subsidiaries, associates and affiliates ( BRF5- Applicable items)</td>
								<td style="text-align: right" id="r13_amount" th:text="${r13_amount}" align="right">
									CHENNAI</td>
							</tr>



							<tr>
								<td></td>
								<td style="background-color: #b3b6b9;">2.1.7</td>
								<td style="background-color: #b3b6b9;">Total deduction</td>
								<td style="background-color: #b3b6b9;" id="r14_amount" th:text="${r14_amount}"
									align="right">CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="background-color: #b3b6b9;">2.2</td>
								<td style="background-color: #b3b6b9;">Net Free Capital Funds</td>
								<td style="background-color: #b3b6b9;" id="r15_amount" th:text="${r15_amount}"
									align="right">CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="background-color: #b3b6b9;">2.3</td>
								<td style="background-color: #b3b6b9;">Other stable resources:</td>
								<td style="background-color: #b3b6b9;"></td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.3.1</td>
								<td th:text="${r16_product}">CHENNAI</td>
								<td style="text-align: right" id="r16_amount" th:text="${r16_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.3.2</td>
								<td>Non repayable head office funds (BRF2 Liab- Item 26.5)</td>
								<td style="text-align: right" id="r17_amount" th:text="${r17_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.3.3</td>
								<td>Interbank deposits with remaining life of more than 6 months (BRF 9)</td>
								<td style="text-align: right" id="r18_amount" th:text="${r18_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.3.4 (a)</td>
								<td>Refinancing of Housing Loans</td>
								<td style="text-align: right" id="r19_amount" th:text="${r19_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.3.4 (b)</td>
								<td>85% of the rest of NBFI Deposits</td>
								<td style="text-align: right" id="r20_amount" th:text="${r20_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.3.5 (a)</td>
								<td>Customer Deposits with remaining life of more than 6 months (BRF 9)</td>
								<td style="text-align: right" id="r21_amount" th:text="${r21_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.3.5 (b)</td>
								<td>85% of the rest of Customer Deposits</td>
								<td style="text-align: right" id="r22_amount" th:text="${r22_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.3.6</td>
								<td>Capital market funding/ term borrowings maturing after 6 months from reporting date
									(BRF 9)</td>
								<td style="text-align: right" id="r23_amount" th:text="${r23_amount}" align="right">
									CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="text-align: right">2.3.7</td>
								<td>Head Office loans towards meeting Large Exposure Funding (BRF 2 Liab- item 26.6)
								</td>
								<td style="text-align: right" id="r24_amount" th:text="${r24_amount}" align="right">
									CHENNAI</td>
							</tr>

							<tr>
								<td></td>
								<td style="background-color: #b3b6b9;">2.3.8</td>
								<td style="background-color: #b3b6b9;">Total other stable resources</td>
								<td style="background-color: #b3b6b9;" id="r25_amount" th:text="${r25_amount}"
									align="right">CHENNAI</td>
							</tr>
							<tr>
								<td></td>
								<td style="background-color: #b3b6b9;">2.4</td>
								<td style="background-color: #b3b6b9;">Total Stable Resources (2.2+2.3.8)</td>
								<td style="background-color: #b3b6b9;" id="r26_amount" th:text="${r26_amount}"
									align="right">CHENNAI</td>
							</tr>
							<tr>
								<td>3</td>
								<td style="background-color: #b3b6b9;"></td>
								<td style="background-color: #b3b6b9;">LENDING TO STABLE RESOURCES RATIO (1.6/ 2.4*100)
								</td>
								<td style="background-color: #b3b6b9;" id="r27_amount" th:text="${r27_amount}"
									align="right">CHENNAI</td>
							</tr>

						</tbody>
					</table>

				</div>

			</div>
		</div>

	</div>

</body>

</html>